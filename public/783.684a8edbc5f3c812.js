"use strict";(self.webpackChunklab4_PP_simulacro=self.webpackChunklab4_PP_simulacro||[]).push([[783],{4783:(I,d,l)=>{l.r(d),l.d(d,{AltaPeliculasModule:()=>T});var s=l(6814),g=l(8589),e=l(95),r=l(8547),t=l(4946),p=l(9418),f=l(3271),h=l(7250);function v(o,u){if(1&o&&t._UZ(0,"img",24),2&o){const a=t.oxw();t.Q6J("src",a.img,t.LSH)}}function A(o,u){if(1&o&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&o){const a=u.$implicit;t.xp6(1),t.hij(" ",a," ")}}function Z(o,u){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.AsE(" ",a.actorSeleccionado.apellido," ",a.actorSeleccionado.nombre," ")}}const b=[{path:"",component:(()=>{class o{constructor(a,n,i){this.formBuilder=a,this.peliculaSrv=n,this.actorSrv=i,this.form=new e.cw({nombre:new e.NI("",[e.kI.required,e.kI.minLength(4)]),tipo:new e.NI("",[e.kI.required]),fechaEstreno:new e.NI("",[e.kI.required]),cantidadPublico:new e.NI(1,[e.kI.required]),fotoPelicula:new e.NI(null,[e.kI.required]),actor:new e.NI("",[e.kI.required])}),this.generosPelicula=["terror","comedia","amor","otros"],this.img=""}ngOnInit(){r.b.cargando("Cargando...",1e3),this.actorSrv.traer().then(a=>{this.listaActores=a})}actorElegido(a){this.actorSeleccionado=a,this.form.controls.actor.setValue(a)}guardar(){this.form.valid&&(r.b.cargando("Espere un momento...",2e3),this.peliculaSrv.guardar(this.form.value).then(()=>{this.form.reset(),setTimeout(()=>{r.b.mensajeConfirmacion("Se a agregarodo una nueva pelicula exitosamente.")},1e3)}).catch(()=>{setTimeout(()=>{r.b.mensajeError("Error","No se pudo agregar la pelicula.")},1e3)}))}capturarFile(a){const n=a.target.files[0],i=new FileReader;i.onload=c=>{this.img=c.target.result},i.readAsDataURL(n)}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(e.qu),t.Y36(p.I),t.Y36(f.V))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-alta-peliculas"]],decls:46,vars:7,consts:[[1,"container"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-md-6"],[1,"mage-container"],["class","card-img-top",3,"src",4,"ngIf"],["for",""],["name","imagen","type","file","accept","image/*","formControlName","fotoPelicula",1,"button-file",3,"change"],["name","nombre","type","text","formControlName","nombre"],["type","date","value","2023-02-01","name","fechaEstreno","formControlName","fechaEstreno"],["name","tipo","name","miselect","formControlName","tipo"],["value",""],[4,"ngFor","ngForOf"],["type","number","value","0","name","cantidadPublico","formControlName","cantidadPublico"],["for","country",1,"form-label"],[4,"ngIf"],[1,"invalid-feedback"],[1,"my-4"],[1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"listaActoresRecibida","showCheck","actorElegido"],[1,"card-img-top",3,"src"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"main")(2,"div",1)(3,"div",2)(4,"h4",3),t._uU(5,"Agregar nueva pel\xedcula"),t.qZA(),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7),t.YNc(10,v,1,1,"img",8),t.qZA()(),t.TgZ(11,"div",6)(12,"div")(13,"label",9),t._uU(14,"Imagen:"),t.qZA(),t.TgZ(15,"input",10),t.NdJ("change",function(m){return i.capturarFile(m)}),t.qZA()(),t.TgZ(16,"div")(17,"label",9),t._uU(18,"T\xedtulo:"),t.qZA(),t._UZ(19,"input",11),t.qZA(),t.TgZ(20,"div")(21,"label",9),t._uU(22,"Fecha de estreno:"),t.qZA(),t._UZ(23,"input",12),t.qZA(),t.TgZ(24,"div")(25,"label",9),t._uU(26,"G\xe9nero:"),t.qZA(),t.TgZ(27,"select",13)(28,"option",14),t._uU(29,"---Elegi un genero---"),t.qZA(),t.YNc(30,A,2,1,"option",15),t.qZA()(),t.TgZ(31,"div")(32,"label",9),t._uU(33,"Cantidad de p\xfablico:"),t.qZA(),t._UZ(34,"input",16),t.qZA(),t.TgZ(35,"div")(36,"label",17),t._uU(37,"Actor:"),t.qZA(),t.YNc(38,Z,2,2,"div",18),t.TgZ(39,"div",19),t._uU(40," Please select a valid country. "),t.qZA()()()(),t._UZ(41,"hr",20),t.TgZ(42,"button",21),t._uU(43," Agregar "),t.qZA()()(),t.TgZ(44,"div",22)(45,"app-tabla-actor",23),t.NdJ("actorElegido",function(m){return i.actorElegido(m)}),t.qZA()()()()()),2&n&&(t.xp6(6),t.Q6J("formGroup",i.form),t.xp6(4),t.Q6J("ngIf",i.img),t.xp6(20),t.Q6J("ngForOf",i.generosPelicula),t.xp6(8),t.Q6J("ngIf",i.actorSeleccionado),t.xp6(4),t.Q6J("disabled",!i.form.valid),t.xp6(3),t.Q6J("listaActoresRecibida",i.listaActores)("showCheck",!0))},dependencies:[s.sg,s.O5,h.T,e._Y,e.YN,e.Kr,e.Fj,e.wV,e.EJ,e.JJ,e.JL,e.sg,e.u],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:20px;width:100%}select[_ngcontent-%COMP%]{width:100%}.mage-container[_ngcontent-%COMP%]{background-color:#80808022;width:100%;height:350px}"]})}return o})()}];let P=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(b),g.Bz]})}return o})();var C=l(2987);let T=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[s.ez,P,C.o,e.u5,e.UX]})}return o})()}}]);