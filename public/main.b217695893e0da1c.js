"use strict";(self.webpackChunklab4_PP_simulacro=self.webpackChunklab4_PP_simulacro||[]).push([[179],{7247:(on,Xe,G)=>{G.d(Xe,{nm:()=>sr});var S=G(456),me=(G(4946),G(8726),G(3182),G(5861)),J=G(534),Ce=G(4537),Ie=G(9058),ze=G(7879);const ee=new Map,ue={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function He(fe){return ee.get(fe)||Object.assign({},ue)}function Tt(){return Me}const kt="https://content-firebaseappcheck.googleapis.com/v1",xn="exchangeDebugToken",Wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nt{constructor(pe,be,Qe,ft,sn){if(this.operation=pe,this.retryPolicy=be,this.getWaitDuration=Qe,this.lowerBound=ft,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=ft,ft>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var be=this;return(0,me.Z)(function*(){be.stop();try{be.pending=new Ie.BH,yield function We(fe){return new Promise(pe=>{setTimeout(pe,fe)})}(be.getNextRun(pe)),be.pending.resolve(),yield be.pending.promise,be.pending=new Ie.BH,yield be.operation(),be.pending.resolve(),yield be.pending.promise,be.process(!0).catch(()=>{})}catch(Qe){be.retryPolicy(Qe)?be.process(!1).catch(()=>{}):be.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),be}}}const Dt=new Ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(fe){if(!He(fe).activated)throw Dt.create("use-before-activation",{appName:fe.name})}function Wn(fe,pe){return ut.apply(this,arguments)}function ut(){return(ut=(0,me.Z)(function*({url:fe,body:pe},be){const Qe={"Content-Type":"application/json"},ft=be.getImmediate({optional:!0});if(ft){const mr=yield ft.getHeartbeatsHeader();mr&&(Qe["X-Firebase-Client"]=mr)}const sn={method:"POST",body:JSON.stringify(pe),headers:Qe};let Vn,bn;try{Vn=yield fetch(fe,sn)}catch(mr){throw Dt.create("fetch-network-error",{originalErrorMessage:mr?.message})}if(200!==Vn.status)throw Dt.create("fetch-status-error",{httpStatus:Vn.status});try{bn=yield Vn.json()}catch(mr){throw Dt.create("fetch-parse-error",{originalErrorMessage:mr?.message})}const jn=bn.ttl.match(/^([\d.]+)(s)$/);if(!jn||!jn[2]||isNaN(Number(jn[1])))throw Dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bn.ttl}`});const Wi=1e3*Number(jn[1]),ai=Date.now();return{token:bn.token,expireTimeMillis:ai+Wi,issuedAtTimeMillis:ai}})).apply(this,arguments)}function pt(fe,pe){const{projectId:be,appId:Qe,apiKey:ft}=fe.options;return{url:`${kt}/projects/${be}/apps/${Qe}:${xn}?key=${ft}`,body:{debug_token:pe}}}const nn="firebase-app-check-database",Re=1,ke="firebase-app-check-store";let Ae=null;function dn(){return(dn=(0,me.Z)(function*(fe,pe){const Qe=(yield function Ke(){return Ae||(Ae=new Promise((fe,pe)=>{try{const be=indexedDB.open(nn,Re);be.onsuccess=Qe=>{fe(Qe.target.result)},be.onerror=Qe=>{var ft;pe(Dt.create("storage-open",{originalErrorMessage:null===(ft=Qe.target.error)||void 0===ft?void 0:ft.message}))},be.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(ke,{keyPath:"compositeKey"})}}catch(be){pe(Dt.create("storage-open",{originalErrorMessage:be?.message}))}}),Ae)}()).transaction(ke,"readwrite"),sn=Qe.objectStore(ke).put({compositeKey:fe,value:pe});return new Promise((Vn,bn)=>{sn.onsuccess=jn=>{Vn()},Qe.onerror=jn=>{var Wi;bn(Dt.create("storage-set",{originalErrorMessage:null===(Wi=jn.target.error)||void 0===Wi?void 0:Wi.message}))}})})).apply(this,arguments)}const er=new ze.Yd("@firebase/app-check");function Zn(fe,pe){return(0,Ie.hl)()?function jt(fe,pe){return function yt(fe,pe){return dn.apply(this,arguments)}(function Mn(fe){return`${fe.options.appId}-${fe.name}`}(fe),pe)}(fe,pe).catch(be=>{er.warn(`Failed to write token to IndexedDB. Error: ${be}`)}):Promise.resolve()}function Qt(){return Tt().enabled}function Zr(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,me.Z)(function*(){const fe=Tt();if(fe.enabled&&fe.token)return fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fn={error:"UNKNOWN_ERROR"};function ln(fe){return Ie.US.encodeString(JSON.stringify(fe),!1)}function rr(fe){return kr.apply(this,arguments)}function kr(){return(kr=(0,me.Z)(function*(fe,pe=!1){const be=fe.app;at(be);const Qe=He(be);let sn,ft=Qe.token;if(ft&&!Qr(ft)&&(Qe.token=void 0,ft=void 0),!ft){const jn=yield Qe.cachedTokenPromise;jn&&(Qr(jn)?ft=jn:yield Zn(be,void 0))}if(!pe&&ft&&Qr(ft))return{token:ft.token};let bn,Vn=!1;if(Qt()){Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Wn(pt(be,yield Zr()),fe.heartbeatServiceProvider).finally(()=>{Qe.exchangeTokenPromise=void 0}),Vn=!0);const jn=yield Qe.exchangeTokenPromise;return yield Zn(be,jn),Qe.token=jn,{token:jn.token}}try{Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Qe.provider.getToken().finally(()=>{Qe.exchangeTokenPromise=void 0}),Vn=!0),ft=yield He(be).exchangeTokenPromise}catch(jn){"appCheck/throttled"===jn.code?er.warn(jn.message):er.error(jn),sn=jn}return ft?sn?bn=Qr(ft)?{token:ft.token,internalError:sn}:ti(sn):(bn={token:ft.token},Qe.token=ft,yield Zn(be,ft)):bn=ti(sn),Vn&&function bt(fe,pe){const be=He(fe).tokenObservers;for(const Qe of be)try{"EXTERNAL"===Qe.type&&null!=pe.error?Qe.error(pe.error):Qe.next(pe)}catch{}}(be,bn),bn})).apply(this,arguments)}function Yr(fe){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,me.Z)(function*(fe){const pe=fe.app;at(pe);const{provider:be}=He(pe);if(Qt()){const Qe=yield Zr(),{token:ft}=yield Wn(pt(pe,Qe),fe.heartbeatServiceProvider);return{token:ft}}{const{token:Qe}=yield be.getToken();return{token:Qe}}})).apply(this,arguments)}function Vr(fe,pe){const be=He(fe),Qe=be.tokenObservers.filter(ft=>ft.next!==pe);0===Qe.length&&be.tokenRefresher&&be.tokenRefresher.isRunning()&&be.tokenRefresher.stop(),be.tokenObservers=Qe}function Un(fe){const{app:pe}=fe,be=He(pe);let Qe=be.tokenRefresher;Qe||(Qe=function Ci(fe){const{app:pe}=fe;return new nt((0,me.Z)(function*(){let Qe;if(Qe=He(pe).token?yield rr(fe,!0):yield rr(fe),Qe.error)throw Qe.error;if(Qe.internalError)throw Qe.internalError}),()=>!0,()=>{const be=He(pe);if(be.token){let Qe=be.token.issuedAtTimeMillis+.5*(be.token.expireTimeMillis-be.token.issuedAtTimeMillis)+3e5;return Qe=Math.min(Qe,be.token.expireTimeMillis-3e5),Math.max(0,Qe-Date.now())}return 0},Wt.RETRIAL_MIN_WAIT,Wt.RETRIAL_MAX_WAIT)}(fe),be.tokenRefresher=Qe),!Qe.isRunning()&&be.isTokenAutoRefreshEnabled&&Qe.start()}function Qr(fe){return fe.expireTimeMillis-Date.now()>0}function ti(fe){return{token:ln(fn),error:fe}}class _r{constructor(pe,be){this.app=pe,this.heartbeatServiceProvider=be}_delete(){const{tokenObservers:pe}=He(this.app);for(const be of pe)Vr(this.app,be.next);return Promise.resolve()}}const Ve="app-check-internal";!function dt(){(0,J.Xd)(new Ce.wA("app-check",fe=>function $n(fe,pe){return new _r(fe,pe)}(fe.getProvider("app").getImmediate(),fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((fe,pe,be)=>{fe.getProvider(Ve).initialize()})),(0,J.Xd)(new Ce.wA(Ve,fe=>function pn(fe){return{getToken:pe=>rr(fe,pe),getLimitedUseToken:()=>Yr(fe),addTokenListener:pe=>function tr(fe,pe,be,Qe){const{app:ft}=fe,sn=He(ft);if(sn.tokenObservers=[...sn.tokenObservers,{next:be,error:Qe,type:pe}],sn.token&&Qr(sn.token)){const bn=sn.token;Promise.resolve().then(()=>{be({token:bn.token}),Un(fe)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>Un(fe))}(fe,"INTERNAL",pe),removeTokenListener:pe=>Vr(fe.app,pe)}}(fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.KN)("@firebase/app-check","0.8.0")}();class sr{constructor(){return(0,S.vb)("app-check")}}typeof window<"u"&&window},8726:(on,Xe,G)=>{G.d(Xe,{Ot:()=>Te,ZF:()=>xt,hX:()=>He,z6:()=>me});var S=G(3182),oe=G(4946),le=G(456);class Te{constructor(nt){return nt}}class me{constructor(){return(0,S.C6)()}}const Ie=new oe.OlP("angularfire2._apps"),ze={provide:Te,useFactory:function Ce(Pe){return Pe&&1===Pe.length?Pe[0]:new Te((0,S.Mq)())},deps:[[new oe.FiY,Ie]]},ee={provide:me,deps:[[new oe.FiY,Ie]]};function ue(Pe){return(nt,We)=>{const At=nt.runOutsideAngular(()=>Pe(We));return new Te(At)}}let Me=(()=>{class Pe{constructor(We){(0,S.KN)("angularfire",le.q4.full,"core"),(0,S.KN)("angularfire",le.q4.full,"app"),(0,S.KN)("angular",oe.q4F.full,We.toString())}}return Pe.\u0275fac=function(We){return new(We||Pe)(oe.LFG(oe.Lbi))},Pe.\u0275mod=oe.oAB({type:Pe}),Pe.\u0275inj=oe.cJS({providers:[ze,ee]}),Pe})();function He(Pe,...nt){return{ngModule:Me,providers:[{provide:Ie,useFactory:ue(Pe),multi:!0,deps:[oe.R0b,oe.zs3,le.HU,...nt]}]}}const xt=(0,le.u3)(S.ZF,!0)},5609:(on,Xe,G)=>{G.d(Xe,{dh:()=>bh,v0:()=>tc,AR:()=>io});var S=G(456),oe=G(4946),le=G(8726),Te=G(3182),me=G(7247),J=G(5861),Ce=G(9058),Ie=G(534),ze=G(7582),ee=G(7879),ue=G(4537);const Wt=function it(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ee.Yd("@firebase/auth");function Dt(_,...h){We.logLevel<=ee.in.ERROR&&We.error(`Auth (${Ie.Jn}): ${_}`,...h)}function tt(_,...h){throw Wn(_,...h)}function at(_,...h){return Wn(_,...h)}function Wn(_,...h){if("string"!=typeof _){const p=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(p,...D)}return Pe.create(_,...h)}function ut(_,h,...p){if(!_)throw Wn(h,...p)}function ht(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Dt(h),new Error(h)}function En(_,h){_||ht(h)}function pt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Re(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ae{constructor(h,p){this.shortDelay=h,this.longDelay=p,En(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nn(){return"http:"===Re()||"https:"===Re()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ke(_,h){En(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class lt{static initialize(h,p,D){this.fetchImpl=h,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vn=new Ae(3e4,6e4);function zt(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function yt(_,h,p,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,J.Z)(function*(_,h,p,D,U={}){return qn(_,U,(0,J.Z)(function*(){let K={},ye={};D&&("GET"===h?ye=D:K={body:JSON.stringify(D)});const je=(0,Ce.xO)(Object.assign({key:_.config.apiKey},ye)).slice(1),Et=yield _._getAdditionalHeaders();return Et["Content-Type"]="application/json",_.languageCode&&(Et["X-Firebase-Locale"]=_.languageCode),lt.fetch()(Kn(_,_.config.apiHost,p,je),Object.assign({method:h,headers:Et,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function qn(_,h,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,J.Z)(function*(_,h,p){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},jt),h);try{const U=new gr(_),K=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const ye=yield K.json();if("needConfirmation"in ye)throw Zn(_,"account-exists-with-different-credential",ye);if(K.ok&&!("errorMessage"in ye))return ye;{const je=K.ok?ye.errorMessage:ye.error.message,[Et,Ct]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw Zn(_,"credential-already-in-use",ye);if("EMAIL_EXISTS"===Et)throw Zn(_,"email-already-in-use",ye);if("USER_DISABLED"===Et)throw Zn(_,"user-disabled",ye);const cn=D[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw function yn(_,h,p){const D=Object.assign(Object.assign({},Wt()),{[h]:p});return new Ce.LL("auth","Firebase",D).create(h,{appName:_.name})}(_,cn,Ct);tt(_,cn)}}catch(U){if(U instanceof Ce.ZR)throw U;tt(_,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function er(){return(er=(0,J.Z)(function*(_,h,p,D,U={}){const K=yield yt(_,h,p,D,U);return"mfaPendingCredential"in K&&tt(_,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function Kn(_,h,p,D){const U=`${h}${p}?${D}`;return _.config.emulator?Ke(_.config,U):`${_.config.apiScheme}://${U}`}class gr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(at(this.auth,"network-request-failed")),vn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(_,h,p){const D={appName:_.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const U=at(_,h,D);return U.customData._tokenResponse=p,U}function oi(){return(oi=(0,J.Z)(function*(_,h){return yt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ur(){return(ur=(0,J.Z)(function*(_,h){return yt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function fn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function kr(){return(kr=(0,J.Z)(function*(_,h=!1){const p=(0,Ce.m9)(_),D=yield p.getIdToken(h),U=Sn(D);ut(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const K="object"==typeof U.firebase?U.firebase:void 0,ye=K?.sign_in_provider;return{claims:U,token:D,authTime:fn(Yr(U.auth_time)),issuedAtTime:fn(Yr(U.iat)),expirationTime:fn(Yr(U.exp)),signInProvider:ye||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Yr(_){return 1e3*Number(_)}function Sn(_){const[h,p,D]=_.split(".");if(void 0===h||void 0===p||void 0===D)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Ce.tV)(p);return U?JSON.parse(U):(Dt("Failed to decode base64 JWT payload"),null)}catch(U){return Dt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Vr(_,h){return Un.apply(this,arguments)}function Un(){return(Un=(0,J.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(D){throw D instanceof Ce.ZR&&function Ci({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}class bt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,J.Z)(function*(){yield p.iteration()}),D)}iteration(){var h=this;return(0,J.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Qr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=fn(this.lastLoginAt),this.creationTime=fn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(_){return _r.apply(this,arguments)}function _r(){return _r=(0,J.Z)(function*(_){var h;const p=_.auth,D=yield _.getIdToken(),U=yield Vr(_,function Cn(_,h){return ur.apply(this,arguments)}(p,{idToken:D}));ut(U?.users.length,p,"internal-error");const K=U.users[0];_._notifyReloadListener(K);const ye=null!==(h=K.providerUserInfo)&&void 0!==h&&h.length?function cr(_){return _.map(h=>{var{providerId:p}=h,D=(0,ze._T)(h,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(K.providerUserInfo):[],je=function It(_,h){return[..._.filter(D=>!h.some(U=>U.providerId===D.providerId)),...h]}(_.providerData,ye),cn=!!_.isAnonymous&&!(_.email&&K.passwordHash||je?.length),pr={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:je,metadata:new Qr(K.createdAt,K.lastLoginAt),isAnonymous:cn};Object.assign(_,pr)}),_r.apply(this,arguments)}function pn(){return(pn=(0,J.Z)(function*(_){const h=(0,Ce.m9)(_);yield ti(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Cr(){return(Cr=(0,J.Z)(function*(_,h){const p=yield qn(_,{},(0,J.Z)(function*(){const D=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:K}=_.config,ye=Kn(_,U,"/v1/token",`key=${K}`),je=yield _._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",lt.fetch()(ye,{method:"POST",headers:je,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ut(h.idToken,"internal-error"),ut(typeof h.idToken<"u","internal-error"),ut(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function tr(_){const h=Sn(_);return ut(h,"internal-error"),ut(typeof h.exp<"u","internal-error"),ut(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var D=this;return(0,J.Z)(function*(){return ut(!D.accessToken||D.refreshToken,h,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var D=this;return(0,J.Z)(function*(){const{accessToken:U,refreshToken:K,expiresIn:ye}=yield function Xr(_,h){return Cr.apply(this,arguments)}(h,p);D.updateTokensAndExpiration(U,K,Number(ye))})()}updateTokensAndExpiration(h,p,D){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,p){const{refreshToken:D,accessToken:U,expirationTime:K}=p,ye=new Ni;return D&&(ut("string"==typeof D,"internal-error",{appName:h}),ye.refreshToken=D),U&&(ut("string"==typeof U,"internal-error",{appName:h}),ye.accessToken=U),K&&(ut("number"==typeof K,"internal-error",{appName:h}),ye.expirationTime=K),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return ht("not implemented")}}function Pn(_,h){ut("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Sr{constructor(h){var{uid:p,auth:D,stsTokenManager:U}=h,K=(0,ze._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new Qr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,J.Z)(function*(){const D=yield Vr(p,p.stsTokenManager.getToken(p.auth,h));return ut(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(h){return function rr(_){return kr.apply(this,arguments)}(this,h)}reload(){return function $n(_){return pn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ut(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Sr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var D=this;return(0,J.Z)(function*(){let U=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),U=!0),p&&(yield ti(D)),yield D.auth._persistUserIfCurrent(D),U&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,J.Z)(function*(){const p=yield h.getIdToken();return yield Vr(h,function rn(_,h){return oi.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var D,U,K,ye,je,Et,Ct,cn;const pr=null!==(D=p.displayName)&&void 0!==D?D:void 0,Gs=null!==(U=p.email)&&void 0!==U?U:void 0,zi=null!==(K=p.phoneNumber)&&void 0!==K?K:void 0,uu=null!==(ye=p.photoURL)&&void 0!==ye?ye:void 0,jl=null!==(je=p.tenantId)&&void 0!==je?je:void 0,$l=null!==(Et=p._redirectEventId)&&void 0!==Et?Et:void 0,Nh=null!==(Ct=p.createdAt)&&void 0!==Ct?Ct:void 0,Sd=null!==(cn=p.lastLoginAt)&&void 0!==cn?cn:void 0,{uid:Ad,emailVerified:ol,isAnonymous:ic,providerData:al,stsTokenManager:Ph}=p;ut(Ad&&Ph,h,"internal-error");const cs=Ni.fromJSON(this.name,Ph);ut("string"==typeof Ad,h,"internal-error"),Pn(pr,h.name),Pn(Gs,h.name),ut("boolean"==typeof ol,h,"internal-error"),ut("boolean"==typeof ic,h,"internal-error"),Pn(zi,h.name),Pn(uu,h.name),Pn(jl,h.name),Pn($l,h.name),Pn(Nh,h.name),Pn(Sd,h.name);const sc=new Sr({uid:Ad,auth:h,email:Gs,emailVerified:ol,displayName:pr,isAnonymous:ic,photoURL:uu,phoneNumber:zi,tenantId:jl,stsTokenManager:cs,createdAt:Nh,lastLoginAt:Sd});return al&&Array.isArray(al)&&(sc.providerData=al.map(Hl=>Object.assign({},Hl))),$l&&(sc._redirectEventId=$l),sc}static _fromIdTokenResponse(h,p,D=!1){return(0,J.Z)(function*(){const U=new Ni;U.updateFromServerResponse(p);const K=new Sr({uid:p.localId,auth:h,stsTokenManager:U,isAnonymous:D});return yield ti(K),K})()}}const ce=new Map;function j(_){En(_ instanceof Function,"Expected a class definition");let h=ce.get(_);return h?(En(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ce.set(_,h),h)}const H=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.Z)(function*(){return!0})()}_set(p,D){var U=this;return(0,J.Z)(function*(){U.storage[p]=D})()}_get(p){var D=this;return(0,J.Z)(function*(){const U=D.storage[p];return void 0===U?null:U})()}_remove(p){var D=this;return(0,J.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return _.type="NONE",_})();function q(_,h,p){return`firebase:${_}:${h}:${p}`}class _e{constructor(h,p,D){this.persistence=h,this.auth=p,this.userKey=D;const{config:U,name:K}=this.auth;this.fullUserKey=q(this.userKey,U.apiKey,K),this.fullPersistenceKey=q("persistence",U.apiKey,K),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,J.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Sr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,J.Z)(function*(){if(p.persistence===h)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,D="authUser"){return(0,J.Z)(function*(){if(!p.length)return new _e(j(H),h,D);const U=(yield Promise.all(p.map(function(){var Ct=(0,J.Z)(function*(cn){if(yield cn._isAvailable())return cn});return function(cn){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let K=U[0]||j(H);const ye=q(D,h.config.apiKey,h.name);let je=null;for(const Ct of p)try{const cn=yield Ct._get(ye);if(cn){const pr=Sr._fromJSON(h,cn);Ct!==K&&(je=pr),K=Ct;break}}catch{}const Et=U.filter(Ct=>Ct._shouldAllowMigration);return K._shouldAllowMigration&&Et.length?(K=Et[0],je&&(yield K._set(ye,je.toJSON())),yield Promise.all(p.map(function(){var Ct=(0,J.Z)(function*(cn){if(cn!==K)try{yield cn._remove(ye)}catch{}});return function(cn){return Ct.apply(this,arguments)}}())),new _e(K,h,D)):new _e(K,h,D)})()}}function Ye(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Qn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(gt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Bn(h))return"Blackberry";if(Ee(h))return"Webos";if(an(h))return"Safari";if((h.includes("chrome/")||Xt(h))&&!h.includes("edge/"))return"Chrome";if(un(h))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function gt(_=(0,Ce.z$)()){return/firefox\//i.test(_)}function an(_=(0,Ce.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Xt(_=(0,Ce.z$)()){return/crios\//i.test(_)}function Qn(_=(0,Ce.z$)()){return/iemobile/i.test(_)}function un(_=(0,Ce.z$)()){return/android/i.test(_)}function Bn(_=(0,Ce.z$)()){return/blackberry/i.test(_)}function Ee(_=(0,Ce.z$)()){return/webos/i.test(_)}function se(_=(0,Ce.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ve(_=(0,Ce.z$)()){return se(_)||un(_)||Ee(_)||Bn(_)||/windows phone/i.test(_)||Qn(_)}function dt(_,h=[]){let p;switch(_){case"Browser":p=Ye((0,Ce.z$)());break;case"Worker":p=`${Ye((0,Ce.z$)())}-${_}`;break;default:p=_}const D=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ie.Jn}/${D}`}function sr(_,h){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,J.Z)(function*(_,h){return yt(_,"GET","/v2/recaptchaConfig",zt(_,h))})).apply(this,arguments)}function Si(_){return void 0!==_&&void 0!==_.enterprise}class Mr{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function On(_){return new Promise((h,p)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=h,D.onerror=U=>{const K=at("internal-error");K.customData=U,p(K)},D.type="text/javascript",D.charset="UTF-8",function gn(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(D)})}function xr(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Lr{constructor(h){this.type="recaptcha-enterprise",this.auth=fe(h)}verify(h="verify",p=!1){var D=this;return(0,J.Z)(function*(){function K(){return K=(0,J.Z)(function*(je){if(!p){if(null==je.tenantId&&null!=je._agentRecaptchaConfig)return je._agentRecaptchaConfig.siteKey;if(null!=je.tenantId&&void 0!==je._tenantRecaptchaConfigs[je.tenantId])return je._tenantRecaptchaConfigs[je.tenantId].siteKey}return new Promise(function(){var Et=(0,J.Z)(function*(Ct,cn){sr(je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pr=>{if(void 0!==pr.recaptchaKey){const Gs=new Mr(pr);return null==je.tenantId?je._agentRecaptchaConfig=Gs:je._tenantRecaptchaConfigs[je.tenantId]=Gs,Ct(Gs.siteKey)}cn(new Error("recaptcha Enterprise site key undefined"))}).catch(pr=>{cn(pr)})});return function(Ct,cn){return Et.apply(this,arguments)}}())}),K.apply(this,arguments)}function ye(je,Et,Ct){const cn=window.grecaptcha;Si(cn)?cn.enterprise.ready(()=>{cn.enterprise.execute(je,{action:h}).then(pr=>{Et(pr)}).catch(()=>{Et("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((je,Et)=>{(function U(je){return K.apply(this,arguments)})(D.auth).then(Ct=>{if(!p&&Si(window.grecaptcha))ye(Ct,je,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));On("https://www.google.com/recaptcha/enterprise.js?render="+Ct).then(()=>{ye(Ct,je,Et)}).catch(cn=>{Et(cn)})}}).catch(Ct=>{Et(Ct)})})})()}}class ns{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const D=K=>new Promise((ye,je)=>{try{ye(h(K))}catch(Et){je(Et)}});D.onAbort=p,this.queue.push(D);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,J.Z)(function*(){if(p.auth.currentUser===h)return;const D=[];try{for(const U of p.queue)yield U(h),U.onAbort&&D.push(U.onAbort)}catch(U){D.reverse();for(const K of D)try{K()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class ao{constructor(h,p,D,U){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.beforeStateQueue=new ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,p){var D=this;return p&&(this._popupRedirectResolver=j(p)),this._initializationPromise=this.queue((0,J.Z)(function*(){var U,K;if(!D._deleted&&(D.persistenceManager=yield _e.create(D,h),!D._deleted)){if(null!==(U=D._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(K=D.currentUser)||void 0===K?void 0:K.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,J.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,J.Z)(function*(){var D;const U=yield p.assertedPersistence.getCurrentUser();let K=U,ye=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const je=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,Et=K?._redirectEventId,Ct=yield p.tryRedirectSignIn(h);(!je||je===Et)&&Ct?.user&&(K=Ct.user,ye=!0)}if(!K)return p.directlySetCurrentUser(null);if(!K._redirectEventId){if(ye)try{yield p.beforeStateQueue.runMiddleware(K)}catch(je){K=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(je))}return K?p.reloadAndSetCurrentUserOrClear(K):p.directlySetCurrentUser(null)}return ut(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===K._redirectEventId?p.directlySetCurrentUser(K):p.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(h){var p=this;return(0,J.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,J.Z)(function*(){try{yield ti(h)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,J.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,J.Z)(function*(){const D=h?(0,Ce.m9)(h):null;return D&&ut(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(h,p=!1){var D=this;return(0,J.Z)(function*(){if(!D._deleted)return h&&ut(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,J.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,J.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,J.Z)(function*(){yield p.assertedPersistence.setPersistence(j(h))}))}initializeRecaptchaConfig(){var h=this;return(0,J.Z)(function*(){const p=yield sr(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new Mr(p);null==h.tenantId?h._agentRecaptchaConfig=D:h._tenantRecaptchaConfigs[h.tenantId]=D,D.emailPasswordEnabled&&new Lr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ce.LL("auth","Firebase",h())}onAuthStateChanged(h,p,D){return this.registerStateListener(this.authStateSubscription,h,p,D)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,D){return this.registerStateListener(this.idTokenSubscription,h,p,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var D=this;return(0,J.Z)(function*(){const U=yield D.getOrInitRedirectPersistenceManager(p);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,J.Z)(function*(){if(!p.redirectPersistenceManager){const D=h&&j(h)||p._popupRedirectResolver;ut(D,p,"argument-error"),p.redirectPersistenceManager=yield _e.create(p,[j(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,J.Z)(function*(){var D,U;return p._isInitialized&&(yield p.queue((0,J.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===h?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,J.Z)(function*(){if(h===p.currentUser)return p.queue((0,J.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,D,U){if(this._deleted)return()=>{};const K="function"==typeof p?p:p.next.bind(p),ye=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(ye,this,"internal-error"),ye.then(()=>K(this.currentUser)),"function"==typeof p?h.addObserver(p,D,U):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,J.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,J.Z)(function*(){var p;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(D["X-Firebase-Client"]=U);const K=yield h._getAppCheckToken();return K&&(D["X-Firebase-AppCheck"]=K),D})()}_getAppCheckToken(){var h=this;return(0,J.Z)(function*(){var p;const D=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function At(_,...h){We.logLevel<=ee.in.WARN&&We.warn(`Auth (${Ie.Jn}): ${_}`,...h)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function fe(_){return(0,Ce.m9)(_)}class pe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ce.ne)(p=>this.observer=p)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sn(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function bn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Wi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return ht("not implemented")}_getIdTokenResponse(h){return ht("not implemented")}_linkToIdToken(h,p){return ht("not implemented")}_getReauthenticationResolver(h){return ht("not implemented")}}function dr(_,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,J.Z)(function*(_,h){return function Mn(_,h,p,D){return er.apply(this,arguments)}(_,"POST","/v1/accounts:signInWithIdp",zt(_,h))})).apply(this,arguments)}class qt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class $o extends qt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class $i{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,D,U=!1){return(0,J.Z)(function*(){const K=yield Sr._fromIdTokenResponse(h,D,U),ye=Zt(D);return new $i({user:K,providerId:ye,_tokenResponse:D,operationType:p})})()}static _forOperation(h,p,D){return(0,J.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const U=Zt(D);return new $i({user:h,providerId:U,_tokenResponse:D,operationType:p})})()}}function Zt(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class vs extends Ce.ZR{constructor(h,p,D,U){var K;super(p.code,p.message),this.operationType=D,this.user=U,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:h.name,tenantId:null!==(K=h.tenantId)&&void 0!==K?K:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,p,D,U){return new vs(h,p,D,U)}}function Qi(_,h,p,D){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?vs._fromErrorAndOperation(_,K,h,D):K})}function ma(){return(ma=(0,J.Z)(function*(_,h,p=!1){const D=yield Vr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return $i._forOperation(_,"link",D)})).apply(this,arguments)}function k(){return(k=(0,J.Z)(function*(_,h,p=!1){const{auth:D}=_,U="reauthenticate";try{const K=yield Vr(_,Qi(D,U,h,_),p);ut(K.idToken,D,"internal-error");const ye=Sn(K.idToken);ut(ye,D,"internal-error");const{sub:je}=ye;return ut(_.uid===je,D,"user-mismatch"),$i._forOperation(_,U,K)}catch(K){throw"auth/user-not-found"===K?.code&&tt(D,"user-mismatch"),K}})).apply(this,arguments)}function Y(){return(Y=(0,J.Z)(function*(_,h,p=!1){const D="signIn",U=yield Qi(_,D,h),K=yield $i._fromIdTokenResponse(_,D,U);return p||(yield _._updateCurrentUser(K.user)),K})).apply(this,arguments)}const va="__sak";class yo{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Za=(()=>{class _ extends yo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yu(){const _=(0,Ce.z$)();return an(_)||se(_)}()&&function Ve(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const U=this.storage.getItem(D),K=this.localCache[D];U!==K&&p(D,K,U)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((je,Et,Ct)=>{this.notifyListeners(je,Ct)});const U=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(U);if(p.newValue!==je)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!D)return}const K=()=>{const je=this.storage.getItem(U);!D&&this.localCache[U]===je||this.notifyListeners(U,je)},ye=this.storage.getItem(U);!function re(){return(0,Ce.w1)()&&10===document.documentMode}()||ye===p.newValue||p.newValue===p.oldValue?K():setTimeout(K,10)}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const K of Array.from(U))K(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var U=()=>super._set,K=this;return(0,J.Z)(function*(){yield U().call(K,p,D),K.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,U=this;return(0,J.Z)(function*(){const K=yield D().call(U,p);return U.localCache[p]=JSON.stringify(K),K})()}_remove(p){var D=()=>super._remove,U=this;return(0,J.Z)(function*(){yield D().call(U,p),delete U.localCache[p]})()}}return _.type="LOCAL",_})(),Ya=(()=>{class _ extends yo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return _.type="SESSION",_})();let vo=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(K=>K.isListeningto(p));if(D)return D;const U=new _(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,J.Z)(function*(){const U=p,{eventId:K,eventType:ye,data:je}=U.data,Et=D.handlersMap[ye];if(!Et?.size)return;U.ports[0].postMessage({status:"ack",eventId:K,eventType:ye});const Ct=Array.from(Et).map(function(){var pr=(0,J.Z)(function*(Gs){return Gs(U.origin,je)});return function(Gs){return pr.apply(this,arguments)}}()),cn=yield function _n(_){return Promise.all(_.map(function(){var h=(0,J.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return h.apply(this,arguments)}}()))}(Ct);U.ports[0].postMessage({status:"done",eventId:K,eventType:ye,response:cn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function os(_="",h=10){let p="";for(let D=0;D<h;D++)p+=Math.floor(10*Math.random());return _+p}class Ti{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,D=50){var U=this;return(0,J.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let ye,je;return new Promise((Et,Ct)=>{const cn=os("",20);K.port1.start();const pr=setTimeout(()=>{Ct(new Error("unsupported_event"))},D);je={messageChannel:K,onMessage(Gs){const zi=Gs;if(zi.data.eventId===cn)switch(zi.data.status){case"ack":clearTimeout(pr),ye=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),Et(zi.data.response);break;default:clearTimeout(pr),clearTimeout(ye),Ct(new Error("invalid_response"))}}},U.handlers.add(je),K.port1.addEventListener("message",je.onMessage),U.target.postMessage({eventType:h,eventId:cn,data:p},[K.port2])}).finally(()=>{je&&U.removeMessageHandler(je)})})()}}function Ot(){return window}function Yt(){return typeof Ot().WorkerGlobalScope<"u"&&"function"==typeof Ot().importScripts}function lr(){return(lr=(0,J.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qa="firebaseLocalStorageDb",In="firebaseLocalStorage",Xa="fbase_key";class Ia{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Wo(_,h){return _.transaction([In],h?"readwrite":"readonly").objectStore(In)}function vu(){const _=indexedDB.open(Qa,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(In,{keyPath:Xa})}catch(U){p(U)}}),_.addEventListener("success",(0,J.Z)(function*(){const D=_.result;D.objectStoreNames.contains(In)?h(D):(D.close(),yield function La(){const _=indexedDB.deleteDatabase(Qa);return new Ia(_).toPromise()}(),h(yield vu()))}))})}function Ts(_,h,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,J.Z)(function*(_,h,p){const D=Wo(_,!0).put({[Xa]:h,value:p});return new Ia(D).toPromise()})).apply(this,arguments)}function $u(){return($u=(0,J.Z)(function*(_,h){const p=Wo(_,!1).get(h),D=yield new Ia(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ia(_,h){const p=Wo(_,!0).delete(h);return new Ia(p).toPromise()}const Ln=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,J.Z)(function*(){return p.db||(p.db=yield vu()),p.db})()}_withRetries(p){var D=this;return(0,J.Z)(function*(){let U=0;for(;;)try{const K=yield D._openDb();return yield p(K)}catch(K){if(U++>3)throw K;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,J.Z)(function*(){return Yt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,J.Z)(function*(){p.receiver=vo._getInstance(function Ms(){return Yt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,J.Z)(function*(U,K){return{keyProcessed:(yield p._poll()).includes(K.key)}});return function(U,K){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,J.Z)(function*(U,K){return["keyChanged"]});return function(U,K){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,J.Z)(function*(){var D,U;if(p.activeServiceWorker=yield function Vu(){return lr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ti(p.activeServiceWorker);const K=yield p.sender._send("ping",{},800);K&&null!==(D=K[0])&&void 0!==D&&D.fulfilled&&null!==(U=K[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,J.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Nt(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,J.Z)(function*(){try{if(!indexedDB)return!1;const p=yield vu();return yield Ts(p,va,"1"),yield ia(p,va),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,J.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var U=this;return(0,J.Z)(function*(){return U._withPendingWrite((0,J.Z)(function*(){return yield U._withRetries(K=>Ts(K,p,D)),U.localCache[p]=D,U.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,J.Z)(function*(){const U=yield D._withRetries(K=>function ju(_,h){return $u.apply(this,arguments)}(K,p));return D.localCache[p]=U,U})()}_remove(p){var D=this;return(0,J.Z)(function*(){return D._withPendingWrite((0,J.Z)(function*(){return yield D._withRetries(U=>ia(U,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,J.Z)(function*(){const D=yield p._withRetries(ye=>{const je=Wo(ye,!1).getAll();return new Ia(je).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const U=[],K=new Set;for(const{fbase_key:ye,value:je}of D)K.add(ye),JSON.stringify(p.localCache[ye])!==JSON.stringify(je)&&(p.notifyListeners(ye,je),U.push(ye));for(const ye of Object.keys(p.localCache))p.localCache[ye]&&!K.has(ye)&&(p.notifyListeners(ye,null),U.push(ye));return U})()}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const K of Array.from(U))K(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,J.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();xr("rcb"),new Ae(3e4,6e4);class oa extends Wi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return dr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return dr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return dr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Iu(_){return function F(_,h){return Y.apply(this,arguments)}(_.auth,new oa(_),_.bypassAuthState)}function zr(_){const{auth:h,user:p}=_;return ut(p,h,"internal-error"),function Ao(_,h){return k.apply(this,arguments)}(p,new oa(_),_.bypassAuthState)}function Po(_){return bi.apply(this,arguments)}function bi(){return(bi=(0,J.Z)(function*(_){const{auth:h,user:p}=_;return ut(p,h,"internal-error"),function pi(_,h){return ma.apply(this,arguments)}(p,new oa(_),_.bypassAuthState)})).apply(this,arguments)}class Sl{constructor(h,p,D,U,K=!1){this.auth=h,this.resolver=D,this.user=U,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,J.Z)(function*(D,U){h.pendingPromise={resolve:D,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(K){h.reject(K)}});return function(D,U){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,J.Z)(function*(){const{urlResponse:D,sessionId:U,postBody:K,tenantId:ye,error:je,type:Et}=h;if(je)return void p.reject(je);const Ct={auth:p.auth,requestUri:D,sessionId:U,tenantId:ye||void 0,postBody:K||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Et)(Ct))}catch(cn){p.reject(cn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Iu;case"linkViaPopup":case"linkViaRedirect":return Po;case"reauthViaPopup":case"reauthViaRedirect":return zr;default:tt(this.auth,"internal-error")}}resolve(h){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ae(2e3,1e4);const Eu="pendingRedirect",Ai=new Map;class hi extends Sl{constructor(h,p,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,J.Z)(function*(){let D=Ai.get(p.auth._key());if(!D){try{const K=(yield function Yc(_,h){return wa.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;D=()=>Promise.resolve(K)}catch(U){D=()=>Promise.reject(U)}Ai.set(p.auth._key(),D)}return p.bypassAuthState||Ai.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,D=this;return(0,J.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(D,h);if("unknown"!==h.type){if(h.eventId){const U=yield D.auth._redirectUserForId(h.eventId);if(U)return D.user=U,p().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,J.Z)(function*(){})()}cleanUp(){}}function wa(){return(wa=(0,J.Z)(function*(_,h){const p=function Ua(_){return q(Eu,_.config.apiKey,_.name)}(h),D=function Al(_){return j(_._redirectPersistence)}(_);if(!(yield D._isAvailable()))return!1;const U="true"===(yield D._get(p));return yield D._remove(p),U})).apply(this,arguments)}function Mi(_,h){Ai.set(_._key(),h)}function Va(_,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,J.Z)(function*(_,h,p=!1){const D=fe(_),U=function fs(_,h){return h?j(h):(ut(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(D,h),ye=yield new hi(D,U,p).execute();return ye&&!p&&(delete ye.user._redirectEventId,yield D._persistUserIfCurrent(ye.user),yield D._setRedirectUser(null,h)),ye})).apply(this,arguments)}class Io{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(p=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ba(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ta(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var D;if(h.error&&!Ta(h)){const U=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(at(this.auth,U))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const D=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(h))}saveEventToCache(h){this.cachedEventUids.add(da(h)),this.lastProcessedEventTime=Date.now()}}function da(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Ta({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function Ca(){return(Ca=(0,J.Z)(function*(_,h={}){return yt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function Xc(){return Xc=(0,J.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield function Zu(_){return Ca.apply(this,arguments)}(_);for(const p of h)try{if(vd(p))return}catch{}tt(_,"unauthorized-domain")}),Xc.apply(this,arguments)}function vd(_){const h=pt(),{protocol:p,hostname:D}=new URL(h);if(_.startsWith("chrome-extension://")){const ye=new URL(_);return""===ye.hostname&&""===D?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ye.hostname===D}if(!iu.test(p))return!1;if(ja.test(_))return D===_;const U=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(D)}const Jc=new Ae(3e4,6e4);function el(){const _=Ot().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let ko=null;const Sa=new Ae(5e3,15e3),Aa="__/auth/iframe",Tu="emulator/auth/iframe",Lo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},no=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _d(_){const h=_.config;ut(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?Ke(h,Tu):`https://${_.config.authDomain}/${Aa}`,D={apiKey:h.apiKey,appName:_.name,v:Ie.Jn},U=no.get(_.config.apiHost);U&&(D.eid=U);const K=_._getFrameworks();return K.length&&(D.fw=K.join(",")),`${p}?${(0,Ce.xO)(D).slice(1)}`}function Pr(){return Pr=(0,J.Z)(function*(_){const h=yield function Ii(_){return ko=ko||function _i(_){return new Promise((h,p)=>{var D,U,K;function ye(){el(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{el(),p(at(_,"network-request-failed"))},timeout:Jc.get()})}if(null!==(U=null===(D=Ot().gapi)||void 0===D?void 0:D.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(K=Ot().gapi)||void 0===K||!K.load){const je=xr("iframefcb");return Ot()[je]=()=>{gapi.load?ye():p(at(_,"network-request-failed"))},On(`https://apis.google.com/js/api.js?onload=${je}`).catch(Et=>p(Et))}ye()}}).catch(h=>{throw ko=null,h})}(_),ko}(_),p=Ot().gapi;return ut(p,_,"internal-error"),h.open({where:document.body,url:_d(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lo,dontclear:!0},D=>new Promise(function(){var U=(0,J.Z)(function*(K,ye){yield D.restyle({setHideOnLeave:!1});const je=at(_,"network-request-failed"),Et=Ot().setTimeout(()=>{ye(je)},Sa.get());function Ct(){Ot().clearTimeout(Et),K(D)}D.ping(Ct).then(Ct,()=>{ye(je)})});return function(K,ye){return U.apply(this,arguments)}}()))}),Pr.apply(this,arguments)}const bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Z{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $e="__/auth/handler",Ft="emulator/auth/handler",Rt=encodeURIComponent("fac");function tn(_,h,p,D,U,K){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,J.Z)(function*(_,h,p,D,U,K){ut(_.config.authDomain,_,"auth-domain-config-required"),ut(_.config.apiKey,_,"invalid-api-key");const ye={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:D,v:Ie.Jn,eventId:U};if(h instanceof qt){h.setDefaultLanguage(_.languageCode),ye.providerId=h.providerId||"",(0,Ce.xb)(h.getCustomParameters())||(ye.customParameters=JSON.stringify(h.getCustomParameters()));for(const[cn,pr]of Object.entries(K||{}))ye[cn]=pr}if(h instanceof $o){const cn=h.getScopes().filter(pr=>""!==pr);cn.length>0&&(ye.scopes=cn.join(","))}_.tenantId&&(ye.tid=_.tenantId);const je=ye;for(const cn of Object.keys(je))void 0===je[cn]&&delete je[cn];const Et=yield _._getAppCheckToken(),Ct=Et?`#${Rt}=${encodeURIComponent(Et)}`:"";return`${function Gn({config:_}){return _.emulator?Ke(_,Ft):`https://${_.authDomain}/${$e}`}(_)}?${(0,Ce.xO)(je).slice(1)}${Ct}`})).apply(this,arguments)}const Eo="webStorageSupport",tl=class Ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ya,this._completeRedirectFn=Va,this._overrideRedirectResult=Mi}_openPopup(h,p,D,U){var K=this;return(0,J.Z)(function*(){var ye;En(null===(ye=K.eventManagers[h._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const je=yield tn(h,p,D,pt(),U);return function de(_,h,p,D=500,U=600){const K=Math.max((window.screen.availHeight-U)/2,0).toString(),ye=Math.max((window.screen.availWidth-D)/2,0).toString();let je="";const Et=Object.assign(Object.assign({},bu),{width:D.toString(),height:U.toString(),top:K,left:ye}),Ct=(0,Ce.z$)().toLowerCase();p&&(je=Xt(Ct)?"_blank":p),gt(Ct)&&(h=h||"http://localhost",Et.scrollbars="yes");const cn=Object.entries(Et).reduce((Gs,[zi,uu])=>`${Gs}${zi}=${uu},`,"");if(function te(_=(0,Ce.z$)()){var h;return se(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ct)&&"_self"!==je)return function we(_,h){const p=document.createElement("a");p.href=_,p.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(h||"",je),new Z(null);const pr=window.open(h||"",je,cn);ut(pr,_,"popup-blocked");try{pr.focus()}catch{}return new Z(pr)}(h,je,os())})()}_openRedirect(h,p,D,U){var K=this;return(0,J.Z)(function*(){return yield K._originValidation(h),function _a(_){Ot().location.href=_}(yield tn(h,p,D,pt(),U)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:U,promise:K}=this.eventManagers[p];return U?Promise.resolve(U):(En(K,"If manager is not set, promise should be"),K)}const D=this.initAndGetManager(h);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(h){var p=this;return(0,J.Z)(function*(){const D=yield function fr(_){return Pr.apply(this,arguments)}(h),U=new Io(h);return D.register("authEvent",K=>(ut(K?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:U},p.iframes[h._key()]=D,U})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Eo,{type:Eo},U=>{var K;const ye=null===(K=U?.[0])||void 0===K?void 0:K[Eo];void 0!==ye&&p(!!ye),tt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ml(_){return Xc.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ve()||an()||se()}};var us="@firebase/auth";class Qu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,J.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Th=(0,Ce.Pz)("authIdTokenMaxAge")||300;let Su=null;const Uo=_=>function(){var h=(0,J.Z)(function*(p){const D=p&&(yield p.getIdTokenResult()),U=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(U&&U>Th)return;const K=D?.token;Su!==K&&(Su=K,yield fetch(_,{method:K?"POST":"DELETE",headers:K?{Authorization:`Bearer ${K}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function wo(_=(0,Ie.Mq)()){const h=(0,Ie.qX)(_,"auth");if(h.isInitialized())return h.getImmediate();const p=function be(_,h){const p=(0,Ie.qX)(_,"auth");if(p.isInitialized()){const U=p.getImmediate(),K=p.getOptions();if((0,Ce.vZ)(K,h??{}))return U;tt(U,"already-initialized")}return p.initialize({options:h})}(_,{popupRedirectResolver:tl,persistence:[Ln,Za,Ya]}),D=(0,Ce.Pz)("authTokenSyncURL");if(D){const K=Uo(D);(function en(_,h,p){(0,Ce.m9)(_).beforeAuthStateChanged(h,p)})(p,K,()=>K(p.currentUser)),function hr(_,h,p,D){(0,Ce.m9)(_).onIdTokenChanged(h,p,D)}(p,ye=>K(ye))}const U=(0,Ce.q4)("auth");return U&&function ft(_,h,p){const D=fe(_);ut(D._canInitEmulator,D,"emulator-config-failed"),ut(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const U=!!p?.disableWarnings,K=sn(h),{host:ye,port:je}=function Vn(_){const h=sn(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(D);if(U){const K=U[1];return{host:K,port:bn(D.substr(K.length+1))}}{const[K,ye]=D.split(":");return{host:K,port:bn(ye)}}}(h);D.config.emulator={url:`${K}//${ye}${null===je?"":`:${je}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ye,port:je,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function jn(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(p,`http://${U}`),p}!function Xu(_){(0,Ie.Xd)(new ue.wA("auth",(h,{options:p})=>{const D=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),K=h.getProvider("app-check-internal"),{apiKey:ye,authDomain:je}=D.options;ut(ye&&!ye.includes(":"),"invalid-api-key",{appName:D.name});const Et={apiKey:ye,authDomain:je,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(_)},Ct=new ao(D,U,K,Et);return function Qe(_,h){const p=h?.persistence||[],D=(Array.isArray(p)?p:[p]).map(j);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(D,h?.popupRedirectResolver)}(Ct,p),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,D)=>{h.getProvider("auth-internal").initialize()})),(0,Ie.Xd)(new ue.wA("auth-internal",h=>{const p=fe(h.getProvider("auth").getImmediate());return new Qu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.KN)(us,"0.23.2",function rl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Ie.KN)(us,"0.23.2","esm2017")}("Browser");class ha{constructor(h){return h}}class bh{constructor(){return(0,S.vb)("auth")}}const ec=new oe.OlP("angularfire2.auth-instances");function Sh(_){return(h,p)=>{const D=h.runOutsideAngular(()=>_(p));return new ha(D)}}const Wf={provide:bh,deps:[[new oe.FiY,ec]]},ou={provide:ha,useFactory:function Ch(_,h){const p=(0,S.JM)("auth",_,h);return p&&new ha(p)},deps:[[new oe.FiY,ec],le.Ot]};let qf=(()=>{class _{constructor(){(0,Te.KN)("angularfire",S.q4.full,"auth")}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=oe.oAB({type:_}),_.\u0275inj=oe.cJS({providers:[ou,Wf]}),_})();function io(_,...h){return{ngModule:qf,providers:[{provide:ec,useFactory:Sh(_),multi:!0,deps:[oe.R0b,oe.zs3,S.HU,le.z6,[new oe.FiY,me.nm],...h]}]}}const tc=(0,S.u3)(wo,!0)},6863:(on,Xe,G)=>{G.d(Xe,{Cm:()=>it,ad:()=>Kn,gg:()=>Ie});var S=G(456),oe=G(4946),le=G(5609),Te=G(8726),me=G(3182),J=G(7247),Ce=G(15);class Ie{constructor(cr){return cr}}const ze="firestore",Me=new oe.OlP("angularfire2.firestore-instances");function et(It){return(cr,Xr)=>{const Cr=cr.runOutsideAngular(()=>It(Xr));return new Ie(Cr)}}const Tt={provide:class ee{constructor(){return(0,S.vb)(ze)}},deps:[[new oe.FiY,Me]]},kt={provide:Ie,useFactory:function He(It,cr){const Xr=(0,S.JM)(ze,It,cr);return Xr&&new Ie(Xr)},deps:[[new oe.FiY,Me],Te.Ot]};let xt=(()=>{class It{constructor(){(0,me.KN)("angularfire",S.q4.full,"fst")}}return It.\u0275fac=function(Xr){return new(Xr||It)},It.\u0275mod=oe.oAB({type:It}),It.\u0275inj=oe.cJS({providers:[kt,Tt]}),It})();function it(It,...cr){return{ngModule:xt,providers:[{provide:Me,useFactory:et(It),multi:!0,deps:[oe.R0b,oe.zs3,S.HU,Te.z6,[new oe.FiY,le.dh],[new oe.FiY,J.nm],...cr]}]}}const Kn=(0,S.u3)(Ce.ad,!0)},9493:(on,Xe,G)=>{G.d(Xe,{Ke:()=>ys,Jt:()=>zo,cF:()=>Qi,Vq:()=>ho,iH:()=>pi,KV:()=>Nr});var S=G(456),oe=G(4946),le=G(8726),Te=G(5609),me=G(3182),J=G(7247),Ce=G(5861),Ie=G(534),ze=G(9058),ee=G(4537);const ue="firebasestorage.googleapis.com",Me="storageBucket";class kt extends ze.ZR{constructor(F,Y,ae=0){super(it(F),`Firebase Storage: ${Y} (${it(F)})`),this.status_=ae,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(F){this.status_=F}_codeEquals(F){return it(F)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(F){this.customData.serverResponse=F,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var xt=function(k){return k.UNKNOWN="unknown",k.OBJECT_NOT_FOUND="object-not-found",k.BUCKET_NOT_FOUND="bucket-not-found",k.PROJECT_NOT_FOUND="project-not-found",k.QUOTA_EXCEEDED="quota-exceeded",k.UNAUTHENTICATED="unauthenticated",k.UNAUTHORIZED="unauthorized",k.UNAUTHORIZED_APP="unauthorized-app",k.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",k.INVALID_CHECKSUM="invalid-checksum",k.CANCELED="canceled",k.INVALID_EVENT_NAME="invalid-event-name",k.INVALID_URL="invalid-url",k.INVALID_DEFAULT_BUCKET="invalid-default-bucket",k.NO_DEFAULT_BUCKET="no-default-bucket",k.CANNOT_SLICE_BLOB="cannot-slice-blob",k.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",k.NO_DOWNLOAD_URL="no-download-url",k.INVALID_ARGUMENT="invalid-argument",k.INVALID_ARGUMENT_COUNT="invalid-argument-count",k.APP_DELETED="app-deleted",k.INVALID_ROOT_OPERATION="invalid-root-operation",k.INVALID_FORMAT="invalid-format",k.INTERNAL_ERROR="internal-error",k.UNSUPPORTED_ENVIRONMENT="unsupported-environment",k}(xt||{});function it(k){return"storage/"+k}function xn(){return new kt(xt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pt(k){return new kt(xt.INVALID_ARGUMENT,k)}function nn(){return new kt(xt.APP_DELETED,"The Firebase app was deleted.")}function ke(k,F){return new kt(xt.INVALID_FORMAT,"String does not match format '"+k+"': "+F)}function Be(k){throw new kt(xt.INTERNAL_ERROR,"Internal error: "+k)}class Ae{constructor(F,Y){this.bucket=F,this.path_=Y}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const F=encodeURIComponent;return"/b/"+F(this.bucket)+"/o/"+F(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(F,Y){let ae;try{ae=Ae.makeFromUrl(F,Y)}catch{return new Ae(F,"")}if(""===ae.path)return ae;throw function yn(k){return new kt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+k+"'.")}(F)}static makeFromUrl(F,Y){let ae=null;const De="([A-Za-z0-9.\\-_]+)",Vt=new RegExp("^gs://"+De+"(/(.*))?$","i");function Hn(mi){mi.path_=decodeURIComponent(mi.path)}const wi=Y.replace(/[.]/g,"\\."),li=[{regex:Vt,indices:{bucket:1,path:3},postModify:function Ge(mi){"/"===mi.path.charAt(mi.path.length-1)&&(mi.path_=mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wi}/v[A-Za-z0-9_]+/b/${De}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Hn},{regex:new RegExp(`^https?://${Y===ue?"(?:storage.googleapis.com|storage.cloud.google.com)":Y}/${De}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Hn}];for(let mi=0;mi<li.length;mi++){const $s=li[mi],is=$s.regex.exec(F);if(is){let As=is[$s.indices.path];As||(As=""),ae=new Ae(is[$s.indices.bucket],As),$s.postModify(ae);break}}if(null==ae)throw function at(k){return new kt(xt.INVALID_URL,"Invalid URL '"+k+"'.")}(F);return ae}}class Ke{constructor(F){this.promise_=Promise.reject(F)}getPromise(){return this.promise_}cancel(F=!1){}}function dn(k){return"string"==typeof k||k instanceof String}function qn(k){return Nn()&&k instanceof Blob}function Nn(){return typeof Blob<"u"&&!(0,ze.UG)()}function Mn(k,F,Y,ae){if(ae<F)throw pt(`Invalid value for '${k}'. Expected ${F} or greater.`);if(ae>Y)throw pt(`Invalid value for '${k}'. Expected ${Y} or less.`)}function er(k,F,Y){let ae=F;return null==Y&&(ae=`https://${F}`),`${Y}://${ae}/v0${k}`}function Kn(k){const F=encodeURIComponent;let Y="?";for(const ae in k)k.hasOwnProperty(ae)&&(Y=Y+(F(ae)+"=")+F(k[ae])+"&");return Y=Y.slice(0,-1),Y}var gr=function(k){return k[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",k}(gr||{});class rn{constructor(F,Y,ae,De,Ge,vt,Vt,Ut,Hn,zn,wi,ci=!0){this.url_=F,this.method_=Y,this.headers_=ae,this.body_=De,this.successCodes_=Ge,this.additionalRetryCodes_=vt,this.callback_=Vt,this.errorCallback_=Ut,this.timeout_=Hn,this.progressCallback_=zn,this.connectionFactory_=wi,this.retry=ci,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((gi,ei)=>{this.resolve_=gi,this.reject_=ei,this.start_()})}start_(){const Y=(ae,De)=>{const Ge=this.resolve_,vt=this.reject_,Vt=De.connection;if(De.wasSuccessCode)try{const Ut=this.callback_(Vt,Vt.getResponse());!function vn(k){return void 0!==k}(Ut)?Ge():Ge(Ut)}catch(Ut){vt(Ut)}else if(null!==Vt){const Ut=xn();Ut.serverResponse=Vt.getErrorText(),vt(this.errorCallback_?this.errorCallback_(Vt,Ut):Ut)}else vt(De.canceled?this.appDelete_?nn():function tt(){return new kt(xt.CANCELED,"User canceled the upload/download.")}():function Dt(){return new kt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Y(0,new oi(!1,null,!0)):this.backoffId_=function lt(k,F,Y){let ae=1,De=null,Ge=null,vt=!1,Vt=0;function Ut(){return 2===Vt}let Hn=!1;function zn(...wr){Hn||(Hn=!0,F.apply(null,wr))}function wi(wr){De=setTimeout(()=>{De=null,k(gi,Ut())},wr)}function ci(){Ge&&clearTimeout(Ge)}function gi(wr,...rs){if(Hn)return void ci();if(wr)return ci(),void zn.call(null,wr,...rs);if(Ut()||vt)return ci(),void zn.call(null,wr,...rs);let li;ae<64&&(ae*=2),1===Vt?(Vt=2,li=0):li=1e3*(ae+Math.random()),wi(li)}let ei=!1;function Xi(wr){ei||(ei=!0,ci(),!Hn&&(null!==De?(wr||(Vt=2),clearTimeout(De),wi(0)):wr||(Vt=1)))}return wi(0),Ge=setTimeout(()=>{vt=!0,Xi(!0)},Y),Xi}((ae,De)=>{if(De)return void ae(!1,new oi(!1,null,!0));const Ge=this.connectionFactory_();this.pendingConnection_=Ge;const vt=Vt=>{null!==this.progressCallback_&&this.progressCallback_(Vt.loaded,Vt.lengthComputable?Vt.total:-1)};null!==this.progressCallback_&&Ge.addUploadProgressListener(vt),Ge.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ge.removeUploadProgressListener(vt),this.pendingConnection_=null;const Vt=Ge.getErrorCode()===gr.NO_ERROR,Ut=Ge.getStatus();if(!Vt||function Zn(k,F){const Y=k>=500&&k<600,De=-1!==[408,429].indexOf(k),Ge=-1!==F.indexOf(k);return Y||De||Ge}(Ut,this.additionalRetryCodes_)&&this.retry){const zn=Ge.getErrorCode()===gr.ABORT;return void ae(!1,new oi(!1,null,zn))}const Hn=-1!==this.successCodes_.indexOf(Ut);ae(!0,new oi(Hn,Ge))})},Y,this.timeout_)}getPromise(){return this.promise_}cancel(F){this.canceled_=!0,this.appDelete_=F||!1,null!==this.backoffId_&&function jt(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oi{constructor(F,Y,ae){this.wasSuccessCode=F,this.connection=Y,this.canceled=!!ae}}function rr(...k){const F=function ln(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==F){const Y=new F;for(let ae=0;ae<k.length;ae++)Y.append(k[ae]);return Y.getBlob()}if(Nn())return new Blob(k);throw new kt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tr{constructor(F,Y){this.data=F,this.contentType=Y||null}}function Un(k){const F=[];for(let Y=0;Y<k.length;Y++){let ae=k.charCodeAt(Y);ae<=127?F.push(ae):ae<=2047?F.push(192|ae>>6,128|63&ae):55296==(64512&ae)?Y<k.length-1&&56320==(64512&k.charCodeAt(Y+1))?(ae=65536|(1023&ae)<<10|1023&k.charCodeAt(++Y),F.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):F.push(239,191,189):56320==(64512&ae)?F.push(239,191,189):F.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(F)}function bt(k,F){switch(k){case Sn.BASE64:{const De=-1!==F.indexOf("-"),Ge=-1!==F.indexOf("_");if(De||Ge)throw ke(k,"Invalid character '"+(De?"-":"_")+"' found: is it base64url encoded?");break}case Sn.BASE64URL:{const De=-1!==F.indexOf("+"),Ge=-1!==F.indexOf("/");if(De||Ge)throw ke(k,"Invalid character '"+(De?"+":"/")+"' found: is it base64 encoded?");F=F.replace(/-/g,"+").replace(/_/g,"/");break}}let Y;try{Y=function Yr(k){if(typeof atob>"u")throw function En(k){return new kt(xt.UNSUPPORTED_ENVIRONMENT,`${k} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(k)}(F)}catch(De){throw De.message.includes("polyfill")?De:ke(k,"Invalid character found")}const ae=new Uint8Array(Y.length);for(let De=0;De<Y.length;De++)ae[De]=Y.charCodeAt(De);return ae}class Qr{constructor(F){this.base64=!1,this.contentType=null;const Y=F.match(/^data:([^,]+)?,/);if(null===Y)throw ke(Sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=Y[1]||null;null!=ae&&(this.base64=function $n(k,F){return k.length>=F.length&&k.substring(k.length-F.length)===F}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-7):ae),this.rest=F.substring(F.indexOf(",")+1)}}class pn{constructor(F,Y){let ae=0,De="";qn(F)?(this.data_=F,ae=F.size,De=F.type):F instanceof ArrayBuffer?(Y?this.data_=new Uint8Array(F):(this.data_=new Uint8Array(F.byteLength),this.data_.set(new Uint8Array(F))),ae=this.data_.length):F instanceof Uint8Array&&(Y?this.data_=F:(this.data_=new Uint8Array(F.length),this.data_.set(F)),ae=F.length),this.size_=ae,this.type_=De}size(){return this.size_}type(){return this.type_}slice(F,Y){if(qn(this.data_)){const De=function kr(k,F,Y){return k.webkitSlice?k.webkitSlice(F,Y):k.mozSlice?k.mozSlice(F,Y):k.slice?k.slice(F,Y):null}(this.data_,F,Y);return null===De?null:new pn(De)}{const ae=new Uint8Array(this.data_.buffer,F,Y-F);return new pn(ae,!0)}}static getBlob(...F){if(Nn()){const Y=F.map(ae=>ae instanceof pn?ae.data_:ae);return new pn(rr.apply(null,Y))}{const Y=F.map(vt=>dn(vt)?function Vr(k,F){switch(k){case Sn.RAW:return new tr(Un(F));case Sn.BASE64:case Sn.BASE64URL:return new tr(bt(k,F));case Sn.DATA_URL:return new tr(function ti(k){const F=new Qr(k);return F.base64?bt(Sn.BASE64,F.rest):function Ci(k){let F;try{F=decodeURIComponent(k)}catch{throw ke(Sn.DATA_URL,"Malformed data URL.")}return Un(F)}(F.rest)}(F),function _r(k){return new Qr(k).contentType}(F))}throw xn()}(Sn.RAW,vt).data:vt.data_);let ae=0;Y.forEach(vt=>{ae+=vt.byteLength});const De=new Uint8Array(ae);let Ge=0;return Y.forEach(vt=>{for(let Vt=0;Vt<vt.length;Vt++)De[Ge++]=vt[Vt]}),new pn(De,!0)}}uploadData(){return this.data_}}function It(k){let F;try{F=JSON.parse(k)}catch{return null}return function yt(k){return"object"==typeof k&&!Array.isArray(k)}(F)?F:null}function Cr(k){const F=k.lastIndexOf("/",k.length-2);return-1===F?k:k.slice(F+1)}function Ni(k,F){return F}class Pn{constructor(F,Y,ae,De){this.server=F,this.local=Y||F,this.writable=!!ae,this.xform=De||Ni}}let Sr=null;function j(){if(Sr)return Sr;const k=[];k.push(new Pn("bucket")),k.push(new Pn("generation")),k.push(new Pn("metageneration")),k.push(new Pn("name","fullPath",!0));const Y=new Pn("name");Y.xform=function F(Ge,vt){return function ce(k){return!dn(k)||k.length<2?k:Cr(k)}(vt)},k.push(Y);const De=new Pn("size");return De.xform=function ae(Ge,vt){return void 0!==vt?Number(vt):vt},k.push(De),k.push(new Pn("timeCreated")),k.push(new Pn("updated")),k.push(new Pn("md5Hash",null,!0)),k.push(new Pn("cacheControl",null,!0)),k.push(new Pn("contentDisposition",null,!0)),k.push(new Pn("contentEncoding",null,!0)),k.push(new Pn("contentLanguage",null,!0)),k.push(new Pn("contentType",null,!0)),k.push(new Pn("metadata","customMetadata",!0)),Sr=k,Sr}function q(k,F,Y){const ae=It(F);return null===ae?null:function H(k,F,Y){const ae={type:"file"},De=Y.length;for(let Ge=0;Ge<De;Ge++){const vt=Y[Ge];ae[vt.local]=vt.xform(ae,F[vt.server])}return function z(k,F){Object.defineProperty(k,"ref",{get:function Y(){const Ge=new Ae(k.bucket,k.fullPath);return F._makeStorageReference(Ge)}})}(ae,k),ae}(k,ae,Y)}class un{constructor(F,Y,ae,De){this.url=F,this.method=Y,this.handler=ae,this.timeout=De,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bn(k){if(!k)throw xn()}function te(k){return function F(Y,ae){let De;return De=401===Y.getStatus()?Y.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new kt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function nt(){return new kt(xt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Y.getStatus()?function Pe(k){return new kt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===Y.getStatus()?function At(k){return new kt(xt.UNAUTHORIZED,"User does not have permission to access '"+k+"'.")}(k.path):ae,De.status=Y.getStatus(),De.serverResponse=ae.serverResponse,De}}function Si(k,F,Y,ae,De){const Ge=F.bucketOnlyServerUrl(),vt={"X-Goog-Upload-Protocol":"multipart"},Ut=function Vt(){let li="";for(let mi=0;mi<2;mi++)li+=Math.random().toString().slice(2);return li}();vt["Content-Type"]="multipart/related; boundary="+Ut;const Hn=function Ar(k,F,Y){const ae=Object.assign({},Y);return ae.fullPath=k.path,ae.size=F.size(),ae.contentType||(ae.contentType=function Tn(k,F){return k&&k.contentType||F&&F.type()||"application/octet-stream"}(null,F)),ae}(F,ae,De),zn=function Ye(k,F){const Y={},ae=F.length;for(let De=0;De<ae;De++){const Ge=F[De];Ge.writable&&(Y[Ge.server]=k[Ge.local])}return JSON.stringify(Y)}(Hn,Y),gi=pn.getBlob("--"+Ut+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zn+"\r\n--"+Ut+"\r\nContent-Type: "+Hn.contentType+"\r\n\r\n",ae,"\r\n--"+Ut+"--");if(null===gi)throw function Wn(){return new kt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ei={name:Hn.fullPath},Xi=er(Ge,k.host,k._protocol),rs=k.maxUploadRetryTime,Fr=new un(Xi,"POST",function Ee(k,F){return function Y(ae,De){const Ge=q(k,De,F);return Bn(null!==Ge),Ge}}(k,Y),rs);return Fr.urlParams=ei,Fr.headers=vt,Fr.body=gi.uploadData(),Fr.errorHandler=te(F),Fr}let ao=null;class fe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(F=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,F()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,F()}),this.xhr_.addEventListener("load",()=>{F()})})}send(F,Y,ae,De){if(this.sent_)throw Be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Y,F,!0),void 0!==De)for(const Ge in De)De.hasOwnProperty(Ge)&&this.xhr_.setRequestHeader(Ge,De[Ge].toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Be("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Be("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Be("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Be("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(F){return this.xhr_.getResponseHeader(F)}addUploadProgressListener(F){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",F)}removeUploadProgressListener(F){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",F)}}class pe extends fe{initXhr(){this.xhr_.responseType="text"}}function be(){return ao?ao():new pe}class jn{constructor(F,Y){this._service=F,this._location=Y instanceof Ae?Y:Ae.makeFromUrl(Y,F.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(F,Y){return new jn(F,Y)}get root(){const F=new Ae(this._location.bucket,"");return this._newRef(this._service,F)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Cr(this._location.path)}get storage(){return this._service}get parent(){const F=function cr(k){if(0===k.length)return null;const F=k.lastIndexOf("/");return-1===F?"":k.slice(0,F)}(this._location.path);if(null===F)return null;const Y=new Ae(this._location.bucket,F);return new jn(this._service,Y)}_throwIfRoot(F){if(""===this._location.path)throw function Re(k){return new kt(xt.INVALID_ROOT_OPERATION,"The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(F)}}function Pa(k){k._throwIfRoot("getDownloadURL");const F=function _t(k,F,Y){const De=er(F.fullServerUrl(),k.host,k._protocol),vt=k.maxOperationRetryTime,Vt=new un(De,"GET",function he(k,F){return function Y(ae,De){const Ge=q(k,De,F);return Bn(null!==Ge),function _e(k,F,Y,ae){const De=It(F);if(null===De||!dn(De.downloadTokens))return null;const Ge=De.downloadTokens;if(0===Ge.length)return null;const vt=encodeURIComponent;return Ge.split(",").map(Hn=>{const wi=k.fullPath;return er("/b/"+vt(k.bucket)+"/o/"+vt(wi),Y,ae)+Kn({alt:"media",token:Hn})})[0]}(Ge,De,k.host,k._protocol)}}(k,Y),vt);return Vt.errorHandler=function re(k){const F=te(k);return function Y(ae,De){let Ge=F(ae,De);return 404===ae.getStatus()&&(Ge=function Wt(k){return new kt(xt.OBJECT_NOT_FOUND,"Object '"+k+"' does not exist.")}(k.path)),Ge.serverResponse=De.serverResponse,Ge}}(F),Vt}(k.storage,k._location,j());return k.storage.makeRequestWithTokens(F,be).then(Y=>{if(null===Y)throw function ht(){return new kt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Y})}function qs(k,F){if(k instanceof Pi){const Y=k;if(null==Y._bucket)throw function Rn(){return new kt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Me+"' property when initializing the app?")}();const ae=new jn(Y,Y._bucket);return null!=F?qs(ae,F):ae}return void 0!==F?function Vo(k,F){const Y=function Xr(k,F){const Y=F.split("/").filter(ae=>ae.length>0).join("/");return 0===k.length?Y:k+"/"+Y}(k._location.path,F),ae=new Ae(k._location.bucket,Y);return new jn(k.storage,ae)}(k,F):k}function pa(k,F){const Y=F?.[Me];return null==Y?null:Ae.makeFromBucketSpec(Y,k)}class Pi{constructor(F,Y,ae,De,Ge){this.app=F,this._authProvider=Y,this._appCheckProvider=ae,this._url=De,this._firebaseVersion=Ge,this._bucket=null,this._host=ue,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=De?Ae.makeFromBucketSpec(De,this._host):pa(this._host,this.app.options)}get host(){return this._host}set host(F){this._host=F,this._bucket=null!=this._url?Ae.makeFromBucketSpec(this._url,F):pa(F,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(F){Mn("time",0,Number.POSITIVE_INFINITY,F),this._maxUploadRetryTime=F}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(F){Mn("time",0,Number.POSITIVE_INFINITY,F),this._maxOperationRetryTime=F}_getAuthToken(){var F=this;return(0,Ce.Z)(function*(){if(F._overrideAuthToken)return F._overrideAuthToken;const Y=F._authProvider.getImmediate({optional:!0});if(Y){const ae=yield Y.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var F=this;return(0,Ce.Z)(function*(){const Y=F._appCheckProvider.getImmediate({optional:!0});return Y?(yield Y.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(F=>F.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(F){return new jn(this,F)}_makeRequest(F,Y,ae,De,Ge=!0){if(this._deleted)return new Ke(nn());{const vt=function fn(k,F,Y,ae,De,Ge,vt=!0){const Vt=Kn(k.urlParams),Ut=k.url+Vt,Hn=Object.assign({},k.headers);return function Cn(k,F){F&&(k["X-Firebase-GMPID"]=F)}(Hn,F),function Qt(k,F){null!==F&&F.length>0&&(k.Authorization="Firebase "+F)}(Hn,Y),function Zr(k,F){k["X-Firebase-Storage-Version"]="webjs/"+(F??"AppManager")}(Hn,Ge),function ur(k,F){null!==F&&(k["X-Firebase-AppCheck"]=F)}(Hn,ae),new rn(Ut,k.method,Hn,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,De,vt)}(F,this._appId,ae,De,Y,this._firebaseVersion,Ge);return this._requests.add(vt),vt.getPromise().then(()=>this._requests.delete(vt),()=>this._requests.delete(vt)),vt}}makeRequestWithTokens(F,Y){var ae=this;return(0,Ce.Z)(function*(){const[De,Ge]=yield Promise.all([ae._getAuthToken(),ae._getAppCheckToken()]);return ae._makeRequest(F,Y,De,Ge).getPromise()})()}}const Ks="@firebase/storage",ri="storage";function Vi(k,F,Y){return function mr(k,F,Y){k._throwIfRoot("uploadBytes");const ae=Si(k.storage,k._location,j(),new pn(F,!0),Y);return k.storage.makeRequestWithTokens(ae,be).then(De=>({metadata:De,ref:k}))}(k=(0,ze.m9)(k),F,Y)}function Ir(k){return Pa(k=(0,ze.m9)(k))}function mn(k,F){return function co(k,F){if(F&&function Bs(k){return/^[A-Za-z]+:\/\//.test(k)}(F)){if(k instanceof Pi)return function qi(k,F){return new jn(k,F)}(k,F);throw pt("To use ref(service, url), the first argument must be a Storage instance.")}return qs(k,F)}(k=(0,ze.m9)(k),F)}function Zi(k=(0,Ie.Mq)(),F){k=(0,ze.m9)(k);const ae=(0,Ie.qX)(k,ri).getImmediate({identifier:F}),De=(0,ze.P0)("storage");return De&&function ms(k,F,Y,ae={}){!function jr(k,F,Y,ae={}){k.host=`${F}:${Y}`,k._protocol="http";const{mockUserToken:De}=ae;De&&(k._overrideAuthToken="string"==typeof De?De:(0,ze.Sg)(De,k.app.options.projectId))}(k,F,Y,ae)}(ae,...De),ae}function Rr(k,{instanceIdentifier:F}){const Y=k.getProvider("app").getImmediate(),ae=k.getProvider("auth-internal"),De=k.getProvider("app-check-internal");return new Pi(Y,ae,De,F,Ie.Jn)}!function ds(){(0,Ie.Xd)(new ee.wA(ri,Rr,"PUBLIC").setMultipleInstances(!0)),(0,Ie.KN)(Ks,"0.11.2",""),(0,Ie.KN)(Ks,"0.11.2","esm2017")}();class ys{constructor(F){return F}}const qt="storage",js=new oe.OlP("angularfire2.storage-instances");function Ho(k){return(F,Y)=>{const ae=F.runOutsideAngular(()=>k(Y));return new ys(ae)}}const Cs={provide:class $o{constructor(){return(0,S.vb)(qt)}},deps:[[new oe.FiY,js]]},Wr={provide:ys,useFactory:function ui(k,F){const Y=(0,S.JM)(qt,k,F);return Y&&new ys(Y)},deps:[[new oe.FiY,js],le.Ot]};let Ss=(()=>{class k{constructor(){(0,me.KN)("angularfire",S.q4.full,"gcs")}}return k.\u0275fac=function(Y){return new(Y||k)},k.\u0275mod=oe.oAB({type:k}),k.\u0275inj=oe.cJS({providers:[Wr,Cs]}),k})();function ho(k,...F){return{ngModule:Ss,providers:[{provide:js,useFactory:Ho(k),multi:!0,deps:[oe.R0b,oe.zs3,S.HU,le.z6,[new oe.FiY,Te.dh],[new oe.FiY,J.nm],...F]}]}}const zo=(0,S.u3)(Ir,!0),Qi=(0,S.u3)(Zi,!0),pi=(0,S.u3)(mn,!0),Nr=(0,S.u3)(Vi,!0)},456:(on,Xe,G)=>{G.d(Xe,{q4:()=>Io,HU:()=>Sa,vb:()=>el,JM:()=>Jc,u3:()=>Sc});var S=G(4946),oe=G(3182),le=G(5861),Te=G(534),me=G(9058),J=G(4537),Ce=G(7879);const Ie=(I,A)=>A.some(P=>I instanceof P);let ze,ee;const He=new WeakMap,et=new WeakMap,Tt=new WeakMap,kt=new WeakMap,xt=new WeakMap;let Wt={get(I,A,P){if(I instanceof IDBTransaction){if("done"===A)return et.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Tt.get(I);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return At(I[A])},set:(I,A,P)=>(I[A]=P,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function We(I){return"function"==typeof I?function nt(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Dt(this),A),At(He.get(this))}:function(...A){return At(I.apply(Dt(this),A))}:function(A,...P){const Z=I.call(Dt(this),A,...P);return Tt.set(Z,A.sort?A.sort():[A]),At(Z)}}(I):(I instanceof IDBTransaction&&function xn(I){if(et.has(I))return;const A=new Promise((P,Z)=>{const de=()=>{I.removeEventListener("complete",we),I.removeEventListener("error",$e),I.removeEventListener("abort",$e)},we=()=>{P(),de()},$e=()=>{Z(I.error||new DOMException("AbortError","AbortError")),de()};I.addEventListener("complete",we),I.addEventListener("error",$e),I.addEventListener("abort",$e)});et.set(I,A)}(I),Ie(I,function ue(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Wt):I)}function At(I){if(I instanceof IDBRequest)return function it(I){const A=new Promise((P,Z)=>{const de=()=>{I.removeEventListener("success",we),I.removeEventListener("error",$e)},we=()=>{P(At(I.result)),de()},$e=()=>{Z(I.error),de()};I.addEventListener("success",we),I.addEventListener("error",$e)});return A.then(P=>{P instanceof IDBCursor&&He.set(P,I)}).catch(()=>{}),xt.set(A,I),A}(I);if(kt.has(I))return kt.get(I);const A=We(I);return A!==I&&(kt.set(I,A),xt.set(A,I)),A}const Dt=I=>xt.get(I),yn=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],Wn=new Map;function ut(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Wn.get(A))return Wn.get(A);const P=A.replace(/FromIndex$/,""),Z=A!==P,de=Rn.includes(P);if(!(P in(Z?IDBIndex:IDBObjectStore).prototype)||!de&&!yn.includes(P))return;const we=function(){var $e=(0,le.Z)(function*(Ft,...Rt){const tn=this.transaction(Ft,de?"readwrite":"readonly");let Fn=tn.store;return Z&&(Fn=Fn.index(Rt.shift())),(yield Promise.all([Fn[P](...Rt),de&&tn.done]))[0]});return function(Rt){return $e.apply(this,arguments)}}();return Wn.set(A,we),we}!function Pe(I){Wt=I(Wt)}(I=>({...I,get:(A,P,Z)=>ut(A,P)||I.get(A,P,Z),has:(A,P)=>!!ut(A,P)||I.has(A,P)}));const ht="@firebase/installations",En="0.6.4",pt=1e4,nn=`w:${En}`,Re="FIS_v2",ke="https://firebaseinstallations.googleapis.com/v1",Be=36e5,jt=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vn(I){return I instanceof me.ZR&&I.code.includes("request-failed")}function zt({projectId:I}){return`${ke}/projects/${I}/installations`}function yt(I){return{token:I.token,requestStatus:2,expiresIn:gr(I.expiresIn),creationTime:Date.now()}}function dn(I,A){return qn.apply(this,arguments)}function qn(){return(qn=(0,le.Z)(function*(I,A){const Z=(yield A.json()).error;return jt.create("request-failed",{requestName:I,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Nn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function er(I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,le.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function gr(I){return Number(I.replace("s","000"))}function oi(){return(oi=(0,le.Z)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:P}){const Z=zt(I),de=Nn(I),we=A.getImmediate({optional:!0});if(we){const tn=yield we.getHeartbeatsHeader();tn&&de.append("x-firebase-client",tn)}const Ft={method:"POST",headers:de,body:JSON.stringify({fid:P,authVersion:Re,appId:I.appId,sdkVersion:nn})},Rt=yield er(()=>fetch(Z,Ft));if(Rt.ok){const tn=yield Rt.json();return{fid:tn.fid||P,registrationStatus:2,refreshToken:tn.refreshToken,authToken:yt(tn.authToken)}}throw yield dn("Create Installation",Rt)})).apply(this,arguments)}function Qt(I){return new Promise(A=>{setTimeout(A,I)})}const Cn=/^[cdef][\w-]{21}$/,ur="";function fn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const P=function ln(I){return function Zr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Cn.test(P)?P:ur}catch{return ur}}function rr(I){return`${I.appName}!${I.appId}`}const kr=new Map;function Yr(I,A){const P=rr(I);Vr(P,A),function Un(I,A){const P=function bt(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=I=>{Vr(I.data.key,I.data.fid)}),Ci}();P&&P.postMessage({key:I,fid:A}),function Qr(){0===kr.size&&Ci&&(Ci.close(),Ci=null)}()}(P,A)}function Vr(I,A){const P=kr.get(I);if(P)for(const Z of P)Z(A)}let Ci=null;const ti="firebase-installations-database",_r=1,$n="firebase-installations-store";let pn=null;function It(){return pn||(pn=function tt(I,A,{blocked:P,upgrade:Z,blocking:de,terminated:we}={}){const $e=indexedDB.open(I,A),Ft=At($e);return Z&&$e.addEventListener("upgradeneeded",Rt=>{Z(At($e.result),Rt.oldVersion,Rt.newVersion,At($e.transaction))}),P&&$e.addEventListener("blocked",()=>P()),Ft.then(Rt=>{we&&Rt.addEventListener("close",()=>we()),de&&Rt.addEventListener("versionchange",()=>de())}).catch(()=>{}),Ft}(ti,_r,{upgrade:(I,A)=>{0===A&&I.createObjectStore($n)}})),pn}function cr(I,A){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,le.Z)(function*(I,A){const P=rr(I),de=(yield It()).transaction($n,"readwrite"),we=de.objectStore($n),$e=yield we.get(P);return yield we.put(A,P),yield de.done,(!$e||$e.fid!==A.fid)&&Yr(I,A.fid),A})).apply(this,arguments)}function Cr(I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,le.Z)(function*(I){const A=rr(I),Z=(yield It()).transaction($n,"readwrite");yield Z.objectStore($n).delete(A),yield Z.done})).apply(this,arguments)}function Pn(I,A){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,le.Z)(function*(I,A){const P=rr(I),de=(yield It()).transaction($n,"readwrite"),we=de.objectStore($n),$e=yield we.get(P),Ft=A($e);return void 0===Ft?yield we.delete(P):yield we.put(Ft,P),yield de.done,Ft&&(!$e||$e.fid!==Ft.fid)&&Yr(I,Ft.fid),Ft})).apply(this,arguments)}function ce(I){return j.apply(this,arguments)}function j(){return j=(0,le.Z)(function*(I){let A;const P=yield Pn(I.appConfig,Z=>{const de=function z(I){return Xt(I||{fid:fn(),registrationStatus:0})}(Z),we=function H(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(jt.create("app-offline"))};const P={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},Z=function q(I,A){return _e.apply(this,arguments)}(I,P);return{installationEntry:P,registrationPromise:Z}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Ye(I)}:{installationEntry:A}}(I,de);return A=we.registrationPromise,we.installationEntry});return P.fid===ur?{installationEntry:yield A}:{installationEntry:P,registrationPromise:A}}),j.apply(this,arguments)}function _e(){return _e=(0,le.Z)(function*(I,A){try{const P=yield function rn(I,A){return oi.apply(this,arguments)}(I,A);return cr(I.appConfig,P)}catch(P){throw vn(P)&&409===P.customData.serverCode?yield Cr(I.appConfig):yield cr(I.appConfig,{fid:A.fid,registrationStatus:0}),P}}),_e.apply(this,arguments)}function Ye(I){return gt.apply(this,arguments)}function gt(){return(gt=(0,le.Z)(function*(I){let A=yield an(I.appConfig);for(;1===A.registrationStatus;)yield Qt(100),A=yield an(I.appConfig);if(0===A.registrationStatus){const{installationEntry:P,registrationPromise:Z}=yield ce(I);return Z||P}return A})).apply(this,arguments)}function an(I){return Pn(I,A=>{if(!A)throw jt.create("installation-not-found");return Xt(A)})}function Xt(I){return function Qn(I){return 1===I.registrationStatus&&I.registrationTime+pt<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Bn(){return(Bn=(0,le.Z)(function*({appConfig:I,heartbeatServiceProvider:A},P){const Z=function Ee(I,{fid:A}){return`${zt(I)}/${A}/authTokens:generate`}(I,P),de=function Mn(I,{refreshToken:A}){const P=Nn(I);return P.append("Authorization",function Zn(I){return`${Re} ${I}`}(A)),P}(I,P),we=A.getImmediate({optional:!0});if(we){const tn=yield we.getHeartbeatsHeader();tn&&de.append("x-firebase-client",tn)}const Ft={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:nn,appId:I.appId}})},Rt=yield er(()=>fetch(Z,Ft));if(Rt.ok)return yt(yield Rt.json());throw yield dn("Generate Auth Token",Rt)})).apply(this,arguments)}function se(I){return he.apply(this,arguments)}function he(){return he=(0,le.Z)(function*(I,A=!1){let P;const Z=yield Pn(I.appConfig,we=>{if(!_t(we))throw jt.create("not-registered");const $e=we.authToken;if(!A&&function Kt(I){return 2===I.requestStatus&&!function sr(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+Be}(I)}($e))return we;if(1===$e.requestStatus)return P=function te(I,A){return re.apply(this,arguments)}(I,A),we;{if(!navigator.onLine)throw jt.create("app-offline");const Ft=function Tn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(we);return P=function Ve(I,A){return dt.apply(this,arguments)}(I,Ft),Ft}});return P?yield P:Z.authToken}),he.apply(this,arguments)}function re(){return(re=(0,le.Z)(function*(I,A){let P=yield ve(I.appConfig);for(;1===P.authToken.requestStatus;)yield Qt(100),P=yield ve(I.appConfig);const Z=P.authToken;return 0===Z.requestStatus?se(I,A):Z})).apply(this,arguments)}function ve(I){return Pn(I,A=>{if(!_t(A))throw jt.create("not-registered");return function Ar(I){return 1===I.requestStatus&&I.requestTime+pt<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function dt(){return dt=(0,le.Z)(function*(I,A){try{const P=yield function un(I,A){return Bn.apply(this,arguments)}(I,A),Z=Object.assign(Object.assign({},A),{authToken:P});return yield cr(I.appConfig,Z),P}catch(P){if(!vn(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const Z=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield cr(I.appConfig,Z)}else yield Cr(I.appConfig);throw P}}),dt.apply(this,arguments)}function _t(I){return void 0!==I&&2===I.registrationStatus}function Mr(){return(Mr=(0,le.Z)(function*(I){const A=I,{installationEntry:P,registrationPromise:Z}=yield ce(A);return Z?Z.catch(console.error):se(A).catch(console.error),P.fid})).apply(this,arguments)}function On(){return On=(0,le.Z)(function*(I,A=!1){const P=I;return yield function xr(I){return wn.apply(this,arguments)}(P),(yield se(P,A)).token}),On.apply(this,arguments)}function wn(){return(wn=(0,le.Z)(function*(I){const{registrationPromise:A}=yield ce(I);A&&(yield A)})).apply(this,arguments)}function pe(I){return jt.create("missing-app-config-values",{valueName:I})}const be="installations",ft=I=>{const A=I.getProvider("app").getImmediate(),P=function fe(I){if(!I||!I.options)throw pe("App Configuration");if(!I.name)throw pe("App Name");const A=["projectId","apiKey","appId"];for(const P of A)if(!I.options[P])throw pe(P);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:P,heartbeatServiceProvider:(0,Te.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},sn=I=>{const A=I.getProvider("app").getImmediate(),P=(0,Te.qX)(A,be).getImmediate();return{getId:()=>function Si(I){return Mr.apply(this,arguments)}(P),getToken:de=>function gn(I){return On.apply(this,arguments)}(P,de)}};(function Vn(){(0,Te.Xd)(new J.wA(be,ft,"PUBLIC")),(0,Te.Xd)(new J.wA("installations-internal",sn,"PRIVATE"))})(),(0,Te.KN)(ht,En),(0,Te.KN)(ht,En,"esm2017");const bn="@firebase/remote-config",ni=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ri{constructor(A,P,Z,de){this.client=A,this.storage=P,this.storageCache=Z,this.logger=de}isCachedDataFresh(A,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-P,de=Z<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${de}.`),de}fetch(A){var P=this;return(0,le.Z)(function*(){const[Z,de]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(de&&P.isCachedDataFresh(A.cacheMaxAgeMillis,Z))return de;A.eTag=de&&de.eTag;const we=yield P.client.fetch(A),$e=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&$e.push(P.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all($e),we})()}}function dr(I=navigator){return I.languages&&I.languages[0]||I.language}class Vi{constructor(A,P,Z,de,we,$e){this.firebaseInstallations=A,this.sdkVersion=P,this.namespace=Z,this.projectId=de,this.apiKey=we,this.appId=$e}fetch(A){var P=this;return(0,le.Z)(function*(){const[Z,de]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),$e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Rt={sdk_version:P.sdkVersion,app_instance_id:Z,app_instance_id_token:de,app_id:P.appId,language_code:dr()},tn={method:"POST",headers:Ft,body:JSON.stringify(Rt)},Fn=fetch($e,tn),Gn=new Promise((ro,si)=>{A.signal.addEventListener(()=>{const su=new Error("The operation was aborted.");su.name="AbortError",si(su)})});let Eo;try{yield Promise.race([Fn,Gn]),Eo=yield Fn}catch(ro){let si="fetch-client-network";throw"AbortError"===ro?.name&&(si="fetch-timeout"),ni.create(si,{originalErrorMessage:ro?.message})}let Ns=Eo.status;const tl=Eo.headers.get("ETag")||void 0;let Ma,Fo;if(200===Eo.status){let ro;try{ro=yield Eo.json()}catch(si){throw ni.create("fetch-client-parse",{originalErrorMessage:si?.message})}Ma=ro.entries,Fo=ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Fo?Ns=500:"NO_CHANGE"===Fo?Ns=304:("NO_TEMPLATE"===Fo||"EMPTY_CONFIG"===Fo)&&(Ma={}),304!==Ns&&200!==Ns)throw ni.create("fetch-status",{httpStatus:Ns});return{status:Ns,eTag:tl,config:Ma}})()}}class gu{constructor(A,P){this.client=A,this.storage=P}fetch(A){var P=this;return(0,le.Z)(function*(){const Z=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(A,Z)})()}attemptFetch(A,{throttleEndTimeMillis:P,backoffCount:Z}){var de=this;return(0,le.Z)(function*(){yield function ji(I,A){return new Promise((P,Z)=>{const de=Math.max(A-Date.now(),0),we=setTimeout(P,de);I.addEventListener(()=>{clearTimeout(we),Z(ni.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,P);try{const we=yield de.client.fetch(A);return yield de.storage.deleteThrottleMetadata(),we}catch(we){if(!function jo(I){if(!(I instanceof me.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(we))throw we;const $e={throttleEndTimeMillis:Date.now()+(0,me.$s)(Z),backoffCount:Z+1};return yield de.storage.setThrottleMetadata($e),de.attemptFetch(A,$e)}})()}}class ga{constructor(A,P,Z,de,we){this.app=A,this._client=P,this._storageCache=Z,this._storage=de,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ir(I,A){const P=I.target.error||void 0;return ni.create(A,{originalErrorMessage:P&&P?.message})}const St="app_namespace_store";class ms{constructor(A,P,Z,de=function Zi(){return new Promise((I,A)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=Z=>{A(Ir(Z,"storage-open"))},P.onsuccess=Z=>{I(Z.target.result)},P.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(St,{keyPath:"compositeKey"})}}catch(P){A(ni.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=A,this.appName=P,this.namespace=Z,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var P=this;return(0,le.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((de,we)=>{const Ft=Z.transaction([St],"readonly").objectStore(St),Rt=P.createCompositeKey(A);try{const tn=Ft.get(Rt);tn.onerror=Fn=>{we(Ir(Fn,"storage-get"))},tn.onsuccess=Fn=>{const Gn=Fn.target.result;de(Gn?Gn.value:void 0)}}catch(tn){we(ni.create("storage-get",{originalErrorMessage:tn?.message}))}})})()}set(A,P){var Z=this;return(0,le.Z)(function*(){const de=yield Z.openDbPromise;return new Promise((we,$e)=>{const Rt=de.transaction([St],"readwrite").objectStore(St),tn=Z.createCompositeKey(A);try{const Fn=Rt.put({compositeKey:tn,value:P});Fn.onerror=Gn=>{$e(Ir(Gn,"storage-set"))},Fn.onsuccess=()=>{we()}}catch(Fn){$e(ni.create("storage-set",{originalErrorMessage:Fn?.message}))}})})()}delete(A){var P=this;return(0,le.Z)(function*(){const Z=yield P.openDbPromise;return new Promise((de,we)=>{const Ft=Z.transaction([St],"readwrite").objectStore(St),Rt=P.createCompositeKey(A);try{const tn=Ft.delete(Rt);tn.onerror=Fn=>{we(Ir(Fn,"storage-delete"))},tn.onsuccess=()=>{de()}}catch(tn){we(ni.create("storage-delete",{originalErrorMessage:tn?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Oi{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,le.Z)(function*(){const P=A.storage.getLastFetchStatus(),Z=A.storage.getLastSuccessfulFetchTimestampMillis(),de=A.storage.getActiveConfig(),we=yield P;we&&(A.lastFetchStatus=we);const $e=yield Z;$e&&(A.lastSuccessfulFetchTimestampMillis=$e);const Ft=yield de;Ft&&(A.activeConfig=Ft)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ys(){return qt.apply(this,arguments)}function qt(){return(qt=(0,le.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function So(){(0,Te.Xd)(new J.wA("remote-config",function I(A,{instanceIdentifier:P}){const Z=A.getProvider("app").getImmediate(),de=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,me.hl)())throw ni.create("indexed-db-unavailable");const{projectId:we,apiKey:$e,appId:Ft}=Z.options;if(!we)throw ni.create("registration-project-id");if(!$e)throw ni.create("registration-api-key");if(!Ft)throw ni.create("registration-app-id");const Rt=new ms(Ft,Z.name,P=P||"firebase"),tn=new Oi(Rt),Fn=new Ce.Yd(bn);Fn.logLevel=Ce.in.ERROR;const Gn=new Vi(de,Te.Jn,P,we,$e,Ft),Eo=new gu(Gn,Rt),Ns=new ri(Eo,Rt,tn,Fn),tl=new ga(Z,Ns,tn,Rt,Fn);return function Vo(I){const A=(0,me.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(tl),tl},"PUBLIC").setMultipleInstances(!0)),(0,Te.KN)(bn,"0.4.4"),(0,Te.KN)(bn,"0.4.4","esm2017")}();const $o=(I,A)=>A.some(P=>I instanceof P);let lo,js;const Cs=new WeakMap,Wr=new WeakMap,Ss=new WeakMap,ho=new WeakMap,Zs=new WeakMap;let $i={get(I,A,P){if(I instanceof IDBTransaction){if("done"===A)return Wr.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Ss.get(I);if("store"===A)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return vs(I[A])},set:(I,A,P)=>(I[A]=P,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function zo(I){return"function"==typeof I?function Dc(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ho(){return js||(js=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Qi(this),A),vs(Cs.get(this))}:function(...A){return vs(I.apply(Qi(this),A))}:function(A,...P){const Z=I.call(Qi(this),A,...P);return Ss.set(Z,A.sort?A.sort():[A]),vs(Z)}}(I):(I instanceof IDBTransaction&&function Ys(I){if(Wr.has(I))return;const A=new Promise((P,Z)=>{const de=()=>{I.removeEventListener("complete",we),I.removeEventListener("error",$e),I.removeEventListener("abort",$e)},we=()=>{P(),de()},$e=()=>{Z(I.error||new DOMException("AbortError","AbortError")),de()};I.addEventListener("complete",we),I.addEventListener("error",$e),I.addEventListener("abort",$e)});Wr.set(I,A)}(I),$o(I,function ui(){return lo||(lo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,$i):I)}function vs(I){if(I instanceof IDBRequest)return function Yi(I){const A=new Promise((P,Z)=>{const de=()=>{I.removeEventListener("success",we),I.removeEventListener("error",$e)},we=()=>{P(vs(I.result)),de()},$e=()=>{Z(I.error),de()};I.addEventListener("success",we),I.addEventListener("error",$e)});return A.then(P=>{P instanceof IDBCursor&&Cs.set(P,I)}).catch(()=>{}),Zs.set(A,I),A}(I);if(ho.has(I))return ho.get(I);const A=zo(I);return A!==I&&(ho.set(I,A),Zs.set(A,I)),A}const Qi=I=>Zs.get(I);function ki(I,A,{blocked:P,upgrade:Z,blocking:de,terminated:we}={}){const $e=indexedDB.open(I,A),Ft=vs($e);return Z&&$e.addEventListener("upgradeneeded",Rt=>{Z(vs($e.result),Rt.oldVersion,Rt.newVersion,vs($e.transaction))}),P&&$e.addEventListener("blocked",()=>P()),Ft.then(Rt=>{we&&Rt.addEventListener("close",()=>we()),de&&Rt.addEventListener("versionchange",()=>de())}).catch(()=>{}),Ft}function fo(I,{blocked:A}={}){const P=indexedDB.deleteDatabase(I);return A&&P.addEventListener("blocked",()=>A()),vs(P).then(()=>{})}const _s=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],ma=new Map;function Nr(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(ma.get(A))return ma.get(A);const P=A.replace(/FromIndex$/,""),Z=A!==P,de=pi.includes(P);if(!(P in(Z?IDBIndex:IDBObjectStore).prototype)||!de&&!_s.includes(P))return;const we=function(){var $e=(0,le.Z)(function*(Ft,...Rt){const tn=this.transaction(Ft,de?"readwrite":"readonly");let Fn=tn.store;return Z&&(Fn=Fn.index(Rt.shift())),(yield Promise.all([Fn[P](...Rt),de&&tn.done]))[0]});return function(Rt){return $e.apply(this,arguments)}}();return ma.set(A,we),we}!function Zt(I){$i=I($i)}(I=>({...I,get:(A,P,Z)=>Nr(A,P)||I.get(A,P,Z),has:(A,P)=>!!Nr(A,P)||I.has(A,P)}));const Ei="/firebase-messaging-sw.js",Ao="/firebase-cloud-messaging-push-scope",k="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",F="https://fcmregistrations.googleapis.com/v1",Y="google.c.a.c_id",ae="google.c.a.c_l",De="google.c.a.ts";var Vt=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Vt||{});function Ut(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hn(I){const P=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(P),de=new Uint8Array(Z.length);for(let we=0;we<Z.length;++we)de[we]=Z.charCodeAt(we);return de}const zn="fcm_token_details_db",wi=5,ci="fcm_token_object_Store";function ei(){return ei=(0,le.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(zn))return null;let A=null;return(yield ki(zn,wi,{upgrade:(Z=(0,le.Z)(function*(de,we,$e,Ft){var Rt;if(we<2||!de.objectStoreNames.contains(ci))return;const tn=Ft.objectStore(ci),Fn=yield tn.index("fcmSenderId").get(I);if(yield tn.clear(),Fn)if(2===we){const Gn=Fn;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;A={token:Gn.fcmToken,createTime:null!==(Rt=Gn.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:Ut(Gn.vapidKey)}}}else if(3===we){const Gn=Fn;A={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Ut(Gn.auth),p256dh:Ut(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Ut(Gn.vapidKey)}}}else if(4===we){const Gn=Fn;A={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:Ut(Gn.auth),p256dh:Ut(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:Ut(Gn.vapidKey)}}}}),function(we,$e,Ft,Rt){return Z.apply(this,arguments)})})).close(),yield fo(zn),yield fo("fcm_vapid_details_db"),yield fo("undefined"),function Xi(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var Z}),ei.apply(this,arguments)}const wr="firebase-messaging-database",rs=1,Fr="firebase-messaging-store";let li=null;function mi(){return li||(li=ki(wr,rs,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Fr)}})),li}function $s(I){return is.apply(this,arguments)}function is(){return is=(0,le.Z)(function*(I){const A=po(I),Z=yield(yield mi()).transaction(Fr).objectStore(Fr).get(A);if(Z)return Z;{const de=yield function gi(I){return ei.apply(this,arguments)}(I.appConfig.senderId);if(de)return yield Jo(I,de),de}}),is.apply(this,arguments)}function Jo(I,A){return As.apply(this,arguments)}function As(){return(As=(0,le.Z)(function*(I,A){const P=po(I),de=(yield mi()).transaction(Fr,"readwrite");return yield de.objectStore(Fr).put(A,P),yield de.done,A})).apply(this,arguments)}function Is(){return(Is=(0,le.Z)(function*(I){const A=po(I),Z=(yield mi()).transaction(Fr,"readwrite");yield Z.objectStore(Fr).delete(A),yield Z.done})).apply(this,arguments)}function po({appConfig:I}){return I.appId}const hs=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ur(I,A){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,le.Z)(function*(I,A){const P=yield Mo(I),Z=na(A),de={method:"POST",headers:P,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(ta(I.appConfig),de)).json()}catch($e){throw hs.create("token-subscribe-failed",{errorInfo:$e?.toString()})}if(we.error)throw hs.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw hs.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function qa(){return(qa=(0,le.Z)(function*(I,A){const P=yield Mo(I),Z=na(A.subscriptionOptions),de={method:"PATCH",headers:P,body:JSON.stringify(Z)};let we;try{we=yield(yield fetch(`${ta(I.appConfig)}/${A.token}`,de)).json()}catch($e){throw hs.create("token-update-failed",{errorInfo:$e?.toString()})}if(we.error)throw hs.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw hs.create("token-update-no-token");return we.token})).apply(this,arguments)}function ea(I,A){return Es.apply(this,arguments)}function Es(){return(Es=(0,le.Z)(function*(I,A){const Z={method:"DELETE",headers:yield Mo(I)};try{const we=yield(yield fetch(`${ta(I.appConfig)}/${A}`,Z)).json();if(we.error)throw hs.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(de){throw hs.create("token-unsubscribe-failed",{errorInfo:de?.toString()})}})).apply(this,arguments)}function ta({projectId:I}){return`${F}/projects/${I}/registrations`}function Mo(I){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,le.Z)(function*({appConfig:I,installations:A}){const P=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function na({p256dh:I,auth:A,endpoint:P,vapidKey:Z}){const de={web:{endpoint:P,auth:A,p256dh:I}};return Z!==k&&(de.web.applicationPubKey=Z),de}const ra=6048e5;function Ji(){return Ji=(0,le.Z)(function*(I){const A=yield function mo(I,A){return Ka.apply(this,arguments)}(I.swRegistration,I.vapidKey),P={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Ut(A.getKey("auth")),p256dh:Ut(A.getKey("p256dh"))},Z=yield $s(I.firebaseDependencies);if(Z){if(function E(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(Z.subscriptionOptions,P))return Date.now()>=Z.createTime+ra?function go(I,A){return ws.apply(this,arguments)}(I,{token:Z.token,createTime:Date.now(),subscriptionOptions:P}):Z.token;try{yield ea(I.firebaseDependencies,Z.token)}catch(de){console.warn(de)}return Oa(I.firebaseDependencies,P)}return Oa(I.firebaseDependencies,P)}),Ji.apply(this,arguments)}function Xs(){return Xs=(0,le.Z)(function*(I){const A=yield $s(I.firebaseDependencies);A&&(yield ea(I.firebaseDependencies,A.token),yield function ss(I){return Is.apply(this,arguments)}(I.firebaseDependencies));const P=yield I.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),Xs.apply(this,arguments)}function ws(){return ws=(0,le.Z)(function*(I,A){try{const P=yield function kn(I,A){return qa.apply(this,arguments)}(I.firebaseDependencies,A),Z=Object.assign(Object.assign({},A),{token:P,createTime:Date.now()});return yield Jo(I.firebaseDependencies,Z),P}catch(P){throw yield function Li(I){return Xs.apply(this,arguments)}(I),P}}),ws.apply(this,arguments)}function Oa(I,A){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,le.Z)(function*(I,A){const Z={token:yield Ur(I,A),createTime:Date.now(),subscriptionOptions:A};return yield Jo(I,Z),Z.token})).apply(this,arguments)}function Ka(){return(Ka=(0,le.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hn(A)})})).apply(this,arguments)}function B(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function M(I,A){if(!A.notification)return;I.notification={};const P=A.notification.title;P&&(I.notification.title=P);const Z=A.notification.body;Z&&(I.notification.body=Z);const de=A.notification.image;de&&(I.notification.image=de);const we=A.notification.icon;we&&(I.notification.icon=we)}(A,I),function L(I,A){A.data&&(I.data=A.data)}(A,I),function ne(I,A){var P,Z,de,we,$e;if(!(A.fcmOptions||null!==(P=A.notification)&&void 0!==P&&P.click_action))return;I.fcmOptions={};const Ft=null!==(de=null===(Z=A.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==de?de:null===(we=A.notification)||void 0===we?void 0:we.click_action;Ft&&(I.fcmOptions.link=Ft);const Rt=null===($e=A.fcmOptions)||void 0===$e?void 0:$e.analytics_label;Rt&&(I.fcmOptions.analyticsLabel=Rt)}(A,I),A}function Ze(I,A){const P=[];for(let Z=0;Z<I.length;Z++)P.push(I.charAt(Z)),Z<A.length&&P.push(A.charAt(Z));return P.join("")}function $r(I){return hs.create("missing-app-config-values",{valueName:I})}Ze("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ze("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(A,P,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Jt(I){if(!I||!I.options)throw $r("App Configuration Object");if(!I.name)throw $r("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:P}=I;for(const Z of A)if(!P[Z])throw $r(Z);return{appName:I.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:de,installations:P,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function en(){return(en=(0,le.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ei,{scope:Ao}),I.swRegistration.update().catch(()=>{})}catch(A){throw hs.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Yn(){return(Yn=(0,le.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield function hr(I){return en.apply(this,arguments)}(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw hs.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function Ro(){return(Ro=(0,le.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=k)})).apply(this,arguments)}function yr(){return yr=(0,le.Z)(function*(I,A){if(!navigator)throw hs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hs.create("permission-blocked");return yield function vi(I,A){return Ro.apply(this,arguments)}(I,A?.vapidKey),yield function Hr(I,A){return Yn.apply(this,arguments)}(I,A?.serviceWorkerRegistration),function xo(I){return Ji.apply(this,arguments)}(I)}),yr.apply(this,arguments)}function Ds(){return(Ds=(0,le.Z)(function*(I,A,P){const Z=function Lt(I){switch(I){case Vt.NOTIFICATION_CLICKED:return"notification_open";case Vt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:P[Y],message_name:P[ae],message_time:P[De],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bu(){return Bu=(0,le.Z)(function*(I,A){const P=A.data;if(!P.isFirebaseMessaging)return;I.onMessageHandler&&P.messageType===Vt.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(B(P)):I.onMessageHandler.next(B(P)));const Z=P.data;(function Fe(I){return"object"==typeof I&&!!I&&Y in I})(Z)&&"1"===Z["google.c.a.e"]&&(yield function Dr(I,A,P){return Ds.apply(this,arguments)}(I,P.messageType,Z))}),Bu.apply(this,arguments)}const Pt="@firebase/messaging",ot=I=>{const A=new Er(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Ht(I,A){return Bu.apply(this,arguments)}(A,P)),A},Di=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:Z=>function st(I,A){return yr.apply(this,arguments)}(A,Z)}};function ya(){return va.apply(this,arguments)}function va(){return(va=(0,le.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mu(){(0,Te.Xd)(new J.wA("messaging",ot,"PUBLIC")),(0,Te.Xd)(new J.wA("messaging-internal",Di,"PRIVATE")),(0,Te.KN)(Pt,"0.12.4"),(0,Te.KN)(Pt,"0.12.4","esm2017")}();const _n="analytics",vo="firebase_id",os="origin",Ti=6e4,Ot="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_a="https://www.googletagmanager.com/gtag/js",Yt=new Ce.Yd("@firebase/analytics"),lr=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nt(I){if(!I.startsWith(_a)){const A=lr.create("invalid-gtag-resource",{gtagURL:I});return Yt.warn(A.message),""}return I}function Ms(I){return Promise.all(I.map(A=>A.catch(P=>P)))}function Ia(){return(Ia=(0,le.Z)(function*(I,A,P,Z,de,we){const $e=Z[de];try{if($e)yield A[$e];else{const Rt=(yield Ms(P)).find(tn=>tn.measurementId===de);Rt&&(yield A[Rt.appId])}}catch(Ft){Yt.error(Ft)}I("config",de,we)})).apply(this,arguments)}function La(){return(La=(0,le.Z)(function*(I,A,P,Z,de){try{let we=[];if(de&&de.send_to){let $e=de.send_to;Array.isArray($e)||($e=[$e]);const Ft=yield Ms(P);for(const Rt of $e){const tn=Ft.find(Gn=>Gn.measurementId===Rt),Fn=tn&&A[tn.appId];if(!Fn){we=[];break}we.push(Fn)}}0===we.length&&(we=Object.values(A)),yield Promise.all(we),I("event",Z,de||{})}catch(we){Yt.error(we)}})).apply(this,arguments)}const ju=30,Hu=new class ia{constructor(A={},P=1e3){this.throttleMetadata=A,this.intervalMillis=P}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,P){this.throttleMetadata[A]=P}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Oe(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ln(){return(Ln=(0,le.Z)(function*(I){var A;const{appId:P,apiKey:Z}=I,de={method:"GET",headers:Oe(Z)},we=Ot.replace("{app-id}",P),$e=yield fetch(we,de);if(200!==$e.status&&304!==$e.status){let Ft="";try{const Rt=yield $e.json();null!==(A=Rt.error)&&void 0!==A&&A.message&&(Ft=Rt.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:$e.status,responseMessage:Ft})}return $e.json()})).apply(this,arguments)}function sa(){return(sa=(0,le.Z)(function*(I,A=Hu,P){const{appId:Z,apiKey:de,measurementId:we}=I.options;if(!Z)throw lr.create("no-app-id");if(!de){if(we)return{measurementId:we,appId:Z};throw lr.create("no-api-key")}const $e=A.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new Ja;return setTimeout((0,le.Z)(function*(){Ft.abort()}),void 0!==P?P:Ti),di({appId:Z,apiKey:de,measurementId:we},$e,Ft,A)})).apply(this,arguments)}function di(I,A,P){return _u.apply(this,arguments)}function _u(){return _u=(0,le.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:P},Z,de=Hu){var we;const{appId:$e,measurementId:Ft}=I;try{yield function _o(I,A){return new Promise((P,Z)=>{const de=Math.max(A-Date.now(),0),we=setTimeout(P,de);I.addEventListener(()=>{clearTimeout(we),Z(lr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(Z,A)}catch(Rt){if(Ft)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:$e,measurementId:Ft};throw Rt}try{const Rt=yield function rt(I){return Ln.apply(this,arguments)}(I);return de.deleteThrottleMetadata($e),Rt}catch(Rt){const tn=Rt;if(!function xs(I){if(!(I instanceof me.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(tn)){if(de.deleteThrottleMetadata($e),Ft)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${tn?.message}]`),{appId:$e,measurementId:Ft};throw Rt}const Fn=503===Number(null===(we=tn?.customData)||void 0===we?void 0:we.httpStatus)?(0,me.$s)(P,de.intervalMillis,ju):(0,me.$s)(P,de.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+Fn,backoffCount:P+1};return de.setThrottleMetadata($e,Gn),Yt.debug(`Calling attemptFetch again in ${Fn} millis`),di(I,Gn,Z,de)}}),_u.apply(this,arguments)}class Ja{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let eu,b;function as(){return(as=(0,le.Z)(function*(I,A,P,Z,de){if(de&&de.global)I("event",P,Z);else{const we=yield A;I("event",P,Object.assign(Object.assign({},Z),{send_to:we}))}})).apply(this,arguments)}function Le(){return(Le=(0,le.Z)(function*(){if(!(0,me.hl)())return Yt.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(I){return Yt.warn(lr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mt(){return Mt=(0,le.Z)(function*(I,A,P,Z,de,we,$e){var Ft;const Rt=function zu(I){return sa.apply(this,arguments)}(I);Rt.then(Ns=>{P[Ns.measurementId]=Ns.appId,I.options.measurementId&&Ns.measurementId!==I.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ns.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ns=>Yt.error(Ns)),A.push(Rt);const tn=function X(){return Le.apply(this,arguments)}().then(Ns=>{if(Ns)return Z.getId()}),[Fn,Gn]=yield Promise.all([Rt,tn]);(function qo(I){const A=window.document.getElementsByTagName("script");for(const P of Object.values(A))if(P.src&&P.src.includes(_a)&&P.src.includes(I))return P;return null})(we)||function ka(I,A){const P=function Qa(I,A){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(I,A)),P}("firebase-js-sdk-policy",{createScriptURL:Nt}),Z=document.createElement("script"),de=`${_a}?l=${I}&id=${A}`;Z.src=P?P?.createScriptURL(de):de,Z.async=!0,document.head.appendChild(Z)}(we,Fn.measurementId),b&&(de("consent","default",b),function R(I){b=I}(void 0)),de("js",new Date);const Eo=null!==(Ft=$e?.config)&&void 0!==Ft?Ft:{};return Eo[os]="firebase",Eo.update=!0,null!=Gn&&(Eo[vo]=Gn),de("config",Fn.measurementId,Eo),eu&&(de("set",eu),function $(I){eu=I}(void 0)),Fn.measurementId}),Mt.apply(this,arguments)}class Dn{constructor(A){this.app=A}_delete(){return delete or[this.app.options.appId],Promise.resolve()}}let or={},ar=[];const No={};let Iu,zr,fs="dataLayer",Po=!1;function yd(I,A,P){!function Sl(){const I=[];if((0,me.ru)()&&I.push("This is a browser extension environment."),(0,me.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((Z,de)=>`(${de+1}) ${Z}`).join(" "),P=lr.create("invalid-analytics-context",{errorInfo:A});Yt.warn(P.message)}}();const Z=I.options.appId;if(!Z)throw lr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw lr.create("no-api-key");Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=or[Z])throw lr.create("already-exists",{id:Z});if(!Po){!function In(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(fs);const{wrappedGtag:we,gtagCore:$e}=function Ts(I,A,P,Z,de){let we=function(...$e){window[Z].push(arguments)};return window[de]&&"function"==typeof window[de]&&(we=window[de]),window[de]=function vu(I,A,P,Z){function we(){return we=(0,le.Z)(function*($e,...Ft){try{if("event"===$e){const[Rt,tn]=Ft;yield function Wo(I,A,P,Z,de){return La.apply(this,arguments)}(I,A,P,Rt,tn)}else if("config"===$e){const[Rt,tn]=Ft;yield function Xa(I,A,P,Z,de,we){return Ia.apply(this,arguments)}(I,A,P,Z,Rt,tn)}else if("consent"===$e){const[Rt]=Ft;I("consent","update",Rt)}else if("get"===$e){const[Rt,tn,Fn]=Ft;I("get",Rt,tn,Fn)}else if("set"===$e){const[Rt]=Ft;I("set",Rt)}else I($e,...Ft)}catch(Rt){Yt.error(Rt)}}),we.apply(this,arguments)}return function de($e){return we.apply(this,arguments)}}(we,I,A,P),{gtagCore:we,wrappedGtag:window[de]}}(or,ar,No,fs,"gtag");zr=we,Iu=$e,Po=!0}return or[Z]=function xe(I,A,P,Z,de,we,$e){return Mt.apply(this,arguments)}(I,ar,No,A,Iu,fs,P),new Dn(I)}function ps(){return nu.apply(this,arguments)}function nu(){return(nu=(0,le.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Wu="@firebase/analytics";!function Mi(){(0,Te.Xd)(new J.wA(_n,(A,{options:P})=>yd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,Te.Xd)(new J.wA("analytics-internal",function I(A){try{const P=A.getProvider(_n).getImmediate();return{logEvent:(Z,de,we)=>function wa(I,A,P,Z){I=(0,me.m9)(I),function Zc(I,A,P,Z,de){return as.apply(this,arguments)}(zr,or[I.app.options.appId],A,P,Z).catch(de=>Yt.error(de))}(P,Z,de,we)}}catch(P){throw lr.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,Te.KN)(Wu,"0.10.0"),(0,Te.KN)(Wu,"0.10.0","esm2017")}();var Al=G(7394);class Ua extends Al.w0{constructor(A,P){super()}schedule(A,P=0){return this}}const yi={setInterval(I,A,...P){const{delegate:Z}=yi;return Z?.setInterval?Z.setInterval(I,A,...P):setInterval(I,A,...P)},clearInterval(I){const{delegate:A}=yi;return(A?.clearInterval||clearInterval)(I)},delegate:void 0};var Ba=G(9039);class ru extends Ua{constructor(A,P){super(A,P),this.scheduler=A,this.work=P,this.pending=!1}schedule(A,P=0){var Z;if(this.closed)return this;this.state=A;const de=this.id,we=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(we,de,P)),this.pending=!0,this.delay=P,this.id=null!==(Z=this.id)&&void 0!==Z?Z:this.requestAsyncId(we,this.id,P),this}requestAsyncId(A,P,Z=0){return yi.setInterval(A.flush.bind(A,this),Z)}recycleAsyncId(A,P,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return P;null!=P&&yi.clearInterval(P)}execute(A,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(A,P);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,P){let de,Z=!1;try{this.work(A)}catch(we){Z=!0,de=we||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:A,scheduler:P}=this,{actions:Z}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ba.P)(Z,this),null!=A&&(this.id=this.recycleAsyncId(P,A,null)),this.delay=null,super.unsubscribe()}}}const Ku={now:()=>(Ku.delegate||Date).now(),delegate:void 0};class wu{constructor(A,P=wu.now){this.schedulerActionCtor=A,this.now=P}schedule(A,P=0,Z){return new this.schedulerActionCtor(this,A).schedule(Z,P)}}wu.now=Ku.now;class Da extends wu{constructor(A,P=wu.now){super(A,P),this.actions=[],this._active=!1}flush(A){const{actions:P}=this;if(this._active)return void P.push(A);let Z;this._active=!0;do{if(Z=A.execute(A.state,A.delay))break}while(A=P.shift());if(this._active=!1,Z){for(;A=P.shift();)A.unsubscribe();throw Z}}}const Du=new class Oo extends Da{}(class Qc extends ru{constructor(A,P){super(A,P),this.scheduler=A,this.work=P}schedule(A,P=0){return P>0?super.schedule(A,P):(this.delay=P,this.state=A,this.scheduler.flush(this),this)}execute(A,P){return P>0||this.closed?super.execute(A,P):this._execute(A,P)}requestAsyncId(A,P,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(A,P,Z):(A.flush(this),0)}}),to=new Da(ru);var ca=G(5592),bc=G(9397),la=G(5137),Cc=G(3093);const Io=new S.GfV("7.6.1"),da="__angularfire_symbol__analyticsIsSupportedValue",Ta="__angularfire_symbol__analyticsIsSupported",ba="__angularfire_symbol__remoteConfigIsSupportedValue",Zu="__angularfire_symbol__remoteConfigIsSupported",Ca="__angularfire_symbol__messagingIsSupportedValue",ja="__angularfire_symbol__messagingIsSupported";function Jc(I,A,P){if(A){if(1===A.length)return A[0];const we=A.filter($e=>$e.app===P);if(1===we.length)return we[0]}return P.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ta]||(globalThis[Ta]=ps().then(I=>globalThis[da]=I).catch(()=>globalThis[da]=!1)),globalThis[ja]||(globalThis[ja]=ya().then(I=>globalThis[Ca]=I).catch(()=>globalThis[Ca]=!1)),globalThis[Zu]||(globalThis[Zu]=ys().then(I=>globalThis[ba]=I).catch(()=>globalThis[ba]=!1));const el=(I,A)=>{const P=A?[A]:(0,oe.C6)(),Z=[];return P.forEach(de=>{de.container.getProvider(I).instances.forEach($e=>{Z.includes($e)||Z.push($e)})}),Z};function _i(){}class ko{constructor(A,P=Du){this.zone=A,this.delegate=P}now(){return this.delegate.now()}schedule(A,P,Z){const de=this.zone;return this.delegate.schedule(function($e){de.runGuarded(()=>{A.apply(this,[$e])})},P,Z)}}class Ii{constructor(A){this.zone=A,this.task=null}call(A,P){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)),P.pipe((0,bc.b)({next:Z,complete:Z,error:Z})).subscribe(A).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sa=(()=>{class I{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new ko(Zone.current)),this.insideAngular=P.run(()=>new ko(Zone.current,to)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(P){return new(P||I)(S.LFG(S.R0b))},I.\u0275prov=S.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Aa(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Lo(I){return Aa().ngZone.run(()=>I())}function fr(I){return Aa(),function Pr(I){return function(P){return(P=P.lift(new Ii(I.ngZone))).pipe((0,la.R)(I.outsideAngular),(0,Cc.Q)(I.insideAngular))}}(Aa())(I)}const bu=(I,A)=>function(){const Z=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Lo(()=>I.apply(void 0,Z))},Sc=(I,A)=>function(){let P;const Z=arguments;for(let we=0;we<arguments.length;we++)"function"==typeof Z[we]&&(A&&(P||(P=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)))),Z[we]=bu(Z[we],P));const de=function Tu(I){return Aa().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,Z));if(!A){if(de instanceof ca.y){const we=Aa();return de.pipe((0,la.R)(we.outsideAngular),(0,Cc.Q)(we.insideAngular))}return Lo(()=>de)}return de instanceof ca.y?de.pipe(fr):de instanceof Promise?Lo(()=>new Promise((we,$e)=>de.then(Ft=>Lo(()=>we(Ft)),Ft=>Lo(()=>$e(Ft))))):"function"==typeof de&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),de.apply(this,arguments)}:Lo(()=>de)}},9058:(on,Xe,G)=>{G.d(Xe,{$s:()=>Cr,BH:()=>We,L:()=>ze,LL:()=>lt,P0:()=>Wt,Pz:()=>nt,Sg:()=>At,UG:()=>at,US:()=>J,ZR:()=>Ke,aH:()=>Pe,b$:()=>Wn,eu:()=>ke,hl:()=>Re,m9:()=>Sr,ne:()=>rr,q4:()=>xn,ru:()=>Rn,tV:()=>ee,uI:()=>tt,vZ:()=>oi,w1:()=>ht,xO:()=>Cn,xb:()=>Zn,z$:()=>Dt,zI:()=>Be});const Te=function(ce){const j=[];let z=0;for(let H=0;H<ce.length;H++){let q=ce.charCodeAt(H);q<128?j[z++]=q:q<2048?(j[z++]=q>>6|192,j[z++]=63&q|128):55296==(64512&q)&&H+1<ce.length&&56320==(64512&ce.charCodeAt(H+1))?(q=65536+((1023&q)<<10)+(1023&ce.charCodeAt(++H)),j[z++]=q>>18|240,j[z++]=q>>12&63|128,j[z++]=q>>6&63|128,j[z++]=63&q|128):(j[z++]=q>>12|224,j[z++]=q>>6&63|128,j[z++]=63&q|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,j){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let q=0;q<ce.length;q+=3){const _e=ce[q],Ye=q+1<ce.length,gt=Ye?ce[q+1]:0,an=q+2<ce.length,Xt=an?ce[q+2]:0;let Bn=(15&gt)<<2|Xt>>6,Ee=63&Xt;an||(Ee=64,Ye||(Bn=64)),H.push(z[_e>>2],z[(3&_e)<<4|gt>>4],z[Bn],z[Ee])}return H.join("")},encodeString(ce,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ce):this.encodeByteArray(Te(ce),j)},decodeString(ce,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ce):function(ce){const j=[];let z=0,H=0;for(;z<ce.length;){const q=ce[z++];if(q<128)j[H++]=String.fromCharCode(q);else if(q>191&&q<224){const _e=ce[z++];j[H++]=String.fromCharCode((31&q)<<6|63&_e)}else if(q>239&&q<365){const an=((7&q)<<18|(63&ce[z++])<<12|(63&ce[z++])<<6|63&ce[z++])-65536;j[H++]=String.fromCharCode(55296+(an>>10)),j[H++]=String.fromCharCode(56320+(1023&an))}else{const _e=ce[z++],Ye=ce[z++];j[H++]=String.fromCharCode((15&q)<<12|(63&_e)<<6|63&Ye)}}return j.join("")}(this.decodeStringToByteArray(ce,j))},decodeStringToByteArray(ce,j){this.init_();const z=j?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let q=0;q<ce.length;){const _e=z[ce.charAt(q++)],gt=q<ce.length?z[ce.charAt(q)]:0;++q;const Xt=q<ce.length?z[ce.charAt(q)]:64;++q;const un=q<ce.length?z[ce.charAt(q)]:64;if(++q,null==_e||null==gt||null==Xt||null==un)throw new Ce;H.push(_e<<2|gt>>4),64!==Xt&&(H.push(gt<<4&240|Xt>>2),64!==un&&H.push(Xt<<6&192|un))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(ce){return function(ce){const j=Te(ce);return J.encodeByteArray(j,!0)}(ce).replace(/\./g,"")},ee=function(ce){try{return J.decodeString(ce,!0)}catch(j){console.error("base64Decode failed: ",j)}return null},it=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ce&&ee(ce[1]);return j&&JSON.parse(j)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},xn=ce=>{var j,z;return null===(z=null===(j=it())||void 0===j?void 0:j.emulatorHosts)||void 0===z?void 0:z[ce]},Wt=ce=>{const j=xn(ce);if(!j)return;const z=j.lastIndexOf(":");if(z<=0||z+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const H=parseInt(j.substring(z+1),10);return"["===j[0]?[j.substring(1,z-1),H]:[j.substring(0,z),H]},Pe=()=>{var ce;return null===(ce=it())||void 0===ce?void 0:ce.config},nt=ce=>{var j;return null===(j=it())||void 0===j?void 0:j[`_${ce}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,z)=>{this.resolve=j,this.reject=z})}wrapCallback(j){return(z,H)=>{z?this.reject(z):this.resolve(H),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(z):j(z,H))}}}function At(ce,j){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=j||"demo-project",q=ce.iat||0,_e=ce.sub||ce.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:q,exp:q+3600,auth_time:q,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(Ye)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function at(){var ce;const j=null===(ce=it())||void 0===ce?void 0:ce.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rn(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const ce=Dt();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((ce,j)=>{try{let z=!0;const H="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(H);q.onsuccess=()=>{q.result.close(),z||self.indexedDB.deleteDatabase(H),ce(!0)},q.onupgradeneeded=()=>{z=!1},q.onerror=()=>{var _e;j((null===(_e=q.error)||void 0===_e?void 0:_e.message)||"")}}catch(z){j(z)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(j,z,H){super(z),this.code=j,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(j,z,H){this.service=j,this.serviceName=z,this.errors=H}create(j,...z){const H=z[0]||{},q=`${this.service}/${j}`,_e=this.errors[j],Ye=_e?function jt(ce,j){return ce.replace(vn,(z,H)=>{const q=j[H];return null!=q?String(q):`<${H}?>`})}(_e,H):"Error";return new Ke(q,`${this.serviceName}: ${Ye} (${q}).`,H)}}const vn=/\{\$([^}]+)}/g;function Zn(ce){for(const j in ce)if(Object.prototype.hasOwnProperty.call(ce,j))return!1;return!0}function oi(ce,j){if(ce===j)return!0;const z=Object.keys(ce),H=Object.keys(j);for(const q of z){if(!H.includes(q))return!1;const _e=ce[q],Ye=j[q];if(Qt(_e)&&Qt(Ye)){if(!oi(_e,Ye))return!1}else if(_e!==Ye)return!1}for(const q of H)if(!z.includes(q))return!1;return!0}function Qt(ce){return null!==ce&&"object"==typeof ce}function Cn(ce){const j=[];for(const[z,H]of Object.entries(ce))Array.isArray(H)?H.forEach(q=>{j.push(encodeURIComponent(z)+"="+encodeURIComponent(q))}):j.push(encodeURIComponent(z)+"="+encodeURIComponent(H));return j.length?"&"+j.join("&"):""}function rr(ce,j){const z=new kr(ce,j);return z.subscribe.bind(z)}class kr{constructor(j,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{j(this)}).catch(H=>{this.error(H)})}next(j){this.forEachObserver(z=>{z.next(j)})}error(j){this.forEachObserver(z=>{z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,z,H){let q;if(void 0===j&&void 0===z&&void 0===H)throw new Error("Missing Observer.");q=function Sn(ce,j){if("object"!=typeof ce||null===ce)return!1;for(const z of j)if(z in ce&&"function"==typeof ce[z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:z,complete:H},void 0===q.next&&(q.next=tr),void 0===q.error&&(q.error=tr),void 0===q.complete&&(q.complete=tr);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),_e}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,j)}sendOne(j,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{z(this.observers[j])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}const pn=1e3,It=2,cr=144e5,Xr=.5;function Cr(ce,j=pn,z=It){const H=j*Math.pow(z,ce),q=Math.round(Xr*H*(Math.random()-.5)*2);return Math.min(cr,H+q)}function Sr(ce){return ce&&ce._delegate?ce._delegate:ce}},4069:(on,Xe,G)=>{var S=G(6593),oe=G(8589),le=G(4946);const Te=[{path:"actor",loadChildren:()=>G.e(37).then(G.bind(G,4037)).then(it=>it.ActorModule)},{path:"peliculas",loadChildren:()=>G.e(548).then(G.bind(G,548)).then(it=>it.PeliculaModule)}];let me=(()=>{class it{static#e=this.\u0275fac=function(Pe){return new(Pe||it)};static#t=this.\u0275mod=le.oAB({type:it});static#n=this.\u0275inj=le.cJS({imports:[oe.Bz.forRoot(Te),oe.Bz]})}return it})();const J=function(it){return{collapse:it}};let Ce=(()=>{class it{constructor(){this.verNavLink=!0}mostrarNavLink(){this.verNavLink=!this.verNavLink}static#e=this.\u0275fac=function(Pe){return new(Pe||it)};static#t=this.\u0275cmp=le.Xpm({type:it,selectors:[["app-navbar"]],decls:18,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container-fluid"],["routerLink","/bienvenido",1,"navbar-brand"],["src","../../../../assets/entradas.png","alt","Logo","width","40","height","40"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","/actor/alta",1,"nav-link"],["routerLink","/peliculas/alta",1,"nav-link"],["routerLink","/actor/actorpelicula",1,"nav-link"]],template:function(Pe,nt){1&Pe&&(le.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),le._UZ(3,"img",3),le._uU(4," Cueva Cine"),le.qZA(),le.TgZ(5,"button",4),le.NdJ("click",function(){return nt.mostrarNavLink()}),le._UZ(6,"span",5),le.qZA(),le.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),le._uU(11,"Alta Actores"),le.qZA()(),le.TgZ(12,"li",8)(13,"a",10),le._uU(14,"Alta Peliculas"),le.qZA()(),le.TgZ(15,"li",8)(16,"a",11),le._uU(17,"Actor Peliculas"),le.qZA()()()()()()),2&Pe&&(le.xp6(7),le.Tol(le.VKq(2,J,nt.verNavLink)))},dependencies:[oe.rH],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}body[_ngcontent-%COMP%]{min-height:75rem}img[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return it})(),Ie=(()=>{class it{constructor(){this.title="lab4-PP-simulacro"}static#e=this.\u0275fac=function(Pe){return new(Pe||it)};static#t=this.\u0275cmp=le.Xpm({type:it,selectors:[["app-root"]],decls:2,vars:0,template:function(Pe,nt){1&Pe&&le._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[oe.lC,Ce]})}return it})();var ze=G(9862),ee=G(8726);const ue_firebase={projectId:"labo4-pp",appId:"1:672320762230:web:52e4fbb65e3a2d75b20a57",storageBucket:"labo4-pp.appspot.com",locationId:"us-central",apiKey:"AIzaSyDdu-RxTrZL4aG81gwVukCataJcNHytMIA",authDomain:"labo4-pp.firebaseapp.com",messagingSenderId:"672320762230"};var Me=G(5609),He=G(6863),et=G(9493),Tt=G(6814);let kt=(()=>{class it{static#e=this.\u0275fac=function(Pe){return new(Pe||it)};static#t=this.\u0275mod=le.oAB({type:it});static#n=this.\u0275inj=le.cJS({imports:[Tt.ez,oe.Bz]})}return it})(),xt=(()=>{class it{static#e=this.\u0275fac=function(Pe){return new(Pe||it)};static#t=this.\u0275mod=le.oAB({type:it,bootstrap:[Ie]});static#n=this.\u0275inj=le.cJS({imports:[S.b2,me,ze.JF,(0,ee.hX)(()=>(0,ee.ZF)(ue_firebase)),(0,Me.AR)(()=>(0,Me.v0)()),(0,He.Cm)(()=>(0,He.ad)()),(0,et.Vq)(()=>(0,et.cF)()),kt]})}return it})();S.q6().bootstrapModule(xt).catch(it=>console.error(it))},5619:(on,Xe,G)=>{G.d(Xe,{X:()=>oe});var S=G(8645);class oe extends S.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const me=super._subscribe(Te);return!me.closed&&Te.next(this._value),me}getValue(){const{hasError:Te,thrownError:me,_value:J}=this;if(Te)throw me;return this._throwIfClosed(),J}next(Te){super.next(this._value=Te)}}},5592:(on,Xe,G)=>{G.d(Xe,{y:()=>Ie});var S=G(305),oe=G(7394),le=G(4850),Te=G(8407),me=G(2653),J=G(4674),Ce=G(1441);let Ie=(()=>{class Me{constructor(et){et&&(this._subscribe=et)}lift(et){const Tt=new Me;return Tt.source=this,Tt.operator=et,Tt}subscribe(et,Tt,kt){const xt=function ue(Me){return Me&&Me instanceof S.Lv||function ee(Me){return Me&&(0,J.m)(Me.next)&&(0,J.m)(Me.error)&&(0,J.m)(Me.complete)}(Me)&&(0,oe.Nn)(Me)}(et)?et:new S.Hp(et,Tt,kt);return(0,Ce.x)(()=>{const{operator:it,source:xn}=this;xt.add(it?it.call(xt,xn):xn?this._subscribe(xt):this._trySubscribe(xt))}),xt}_trySubscribe(et){try{return this._subscribe(et)}catch(Tt){et.error(Tt)}}forEach(et,Tt){return new(Tt=ze(Tt))((kt,xt)=>{const it=new S.Hp({next:xn=>{try{et(xn)}catch(Wt){xt(Wt),it.unsubscribe()}},error:xt,complete:kt});this.subscribe(it)})}_subscribe(et){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(et)}[le.L](){return this}pipe(...et){return(0,Te.U)(et)(this)}toPromise(et){return new(et=ze(et))((Tt,kt)=>{let xt;this.subscribe(it=>xt=it,it=>kt(it),()=>Tt(xt))})}}return Me.create=He=>new Me(He),Me})();function ze(Me){var He;return null!==(He=Me??me.config.Promise)&&void 0!==He?He:Promise}},8645:(on,Xe,G)=>{G.d(Xe,{x:()=>Ce});var S=G(5592),oe=G(7394);const Te=(0,G(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=G(9039),J=G(1441);let Ce=(()=>{class ze extends S.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Me=new Ie(this,this);return Me.operator=ue,Me}_throwIfClosed(){if(this.closed)throw new Te}next(ue){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ue)}})}error(ue){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ue)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Me,isStopped:He,observers:et}=this;return Me||He?oe.Lc:(this.currentObservers=null,et.push(ue),new oe.w0(()=>{this.currentObservers=null,(0,me.P)(et,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Me,thrownError:He,isStopped:et}=this;Me?ue.error(He):et&&ue.complete()}asObservable(){const ue=new S.y;return ue.source=this,ue}}return ze.create=(ee,ue)=>new Ie(ee,ue),ze})();class Ie extends Ce{constructor(ee,ue){super(),this.destination=ee,this.source=ue}next(ee){var ue,Me;null===(Me=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Me||Me.call(ue,ee)}error(ee){var ue,Me;null===(Me=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Me||Me.call(ue,ee)}complete(){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ue||ue.call(ee)}_subscribe(ee){var ue,Me;return null!==(Me=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ee))&&void 0!==Me?Me:oe.Lc}}},305:(on,Xe,G)=>{G.d(Xe,{Hp:()=>kt,Lv:()=>Me});var S=G(4674),oe=G(7394),le=G(2653),Te=G(3894),me=G(2420);const J=ze("C",void 0,void 0);function ze(Pe,nt,We){return{kind:Pe,value:nt,error:We}}var ee=G(7599),ue=G(1441);class Me extends oe.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,oe.Nn)(nt)&&nt.add(this)):this.destination=Wt}static create(nt,We,At){return new kt(nt,We,At)}next(nt){this.isStopped?xn(function Ie(Pe){return ze("N",Pe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?xn(function Ce(Pe){return ze("E",void 0,Pe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?xn(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function et(Pe,nt){return He.call(Pe,nt)}class Tt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:We}=this;if(We.next)try{We.next(nt)}catch(At){xt(At)}}error(nt){const{partialObserver:We}=this;if(We.error)try{We.error(nt)}catch(At){xt(At)}else xt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(We){xt(We)}}}class kt extends Me{constructor(nt,We,At){let Dt;if(super(),(0,S.m)(nt)||!nt)Dt={next:nt??void 0,error:We??void 0,complete:At??void 0};else{let tt;this&&le.config.useDeprecatedNextContext?(tt=Object.create(nt),tt.unsubscribe=()=>this.unsubscribe(),Dt={next:nt.next&&et(nt.next,tt),error:nt.error&&et(nt.error,tt),complete:nt.complete&&et(nt.complete,tt)}):Dt=nt}this.destination=new Tt(Dt)}}function xt(Pe){le.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(Pe):(0,Te.h)(Pe)}function xn(Pe,nt){const{onStoppedNotification:We}=le.config;We&&ee.z.setTimeout(()=>We(Pe,nt))}const Wt={closed:!0,next:me.Z,error:function it(Pe){throw Pe},complete:me.Z}},7394:(on,Xe,G)=>{G.d(Xe,{Lc:()=>J,w0:()=>me,Nn:()=>Ce});var S=G(4674);const le=(0,G(2306).d)(ze=>function(ue){ze(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Me,He)=>`${He+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var Te=G(9039);class me{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const et of ue)et.remove(this);else ue.remove(this);const{initialTeardown:Me}=this;if((0,S.m)(Me))try{Me()}catch(et){ee=et instanceof le?et.errors:[et]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const et of He)try{Ie(et)}catch(Tt){ee=ee??[],Tt instanceof le?ee=[...ee,...Tt.errors]:ee.push(Tt)}}if(ee)throw new le(ee)}}add(ee){var ue;if(ee&&ee!==this)if(this.closed)Ie(ee);else{if(ee instanceof me){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ee)}}_hasParent(ee){const{_parentage:ue}=this;return ue===ee||Array.isArray(ue)&&ue.includes(ee)}_addParent(ee){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ee),ue):ue?[ue,ee]:ee}_removeParent(ee){const{_parentage:ue}=this;ue===ee?this._parentage=null:Array.isArray(ue)&&(0,Te.P)(ue,ee)}remove(ee){const{_finalizers:ue}=this;ue&&(0,Te.P)(ue,ee),ee instanceof me&&ee._removeParent(this)}}me.EMPTY=(()=>{const ze=new me;return ze.closed=!0,ze})();const J=me.EMPTY;function Ce(ze){return ze instanceof me||ze&&"closed"in ze&&(0,S.m)(ze.remove)&&(0,S.m)(ze.add)&&(0,S.m)(ze.unsubscribe)}function Ie(ze){(0,S.m)(ze)?ze():ze.unsubscribe()}},2653:(on,Xe,G)=>{G.d(Xe,{config:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(on,Xe,G)=>{G.d(Xe,{E:()=>oe});const oe=new(G(5592).y)(me=>me.complete())},2459:(on,Xe,G)=>{G.d(Xe,{D:()=>nt});var S=G(4829),oe=G(3093),le=G(5137),J=G(5592),Ie=G(4971),ze=G(4674),ee=G(7103);function Me(We,At){if(!We)throw new Error("Iterable cannot be null");return new J.y(Dt=>{(0,ee.f)(Dt,At,()=>{const tt=We[Symbol.asyncIterator]();(0,ee.f)(Dt,At,()=>{tt.next().then(at=>{at.done?Dt.complete():Dt.next(at.value)})},0,!0)})})}var He=G(8382),et=G(4026),Tt=G(4266),kt=G(3664),xt=G(5726),it=G(9853),xn=G(541);function nt(We,At){return At?function Pe(We,At){if(null!=We){if((0,He.c)(We))return function Te(We,At){return(0,S.Xf)(We).pipe((0,le.R)(At),(0,oe.Q)(At))}(We,At);if((0,Tt.z)(We))return function Ce(We,At){return new J.y(Dt=>{let tt=0;return At.schedule(function(){tt===We.length?Dt.complete():(Dt.next(We[tt++]),Dt.closed||this.schedule())})})}(We,At);if((0,et.t)(We))return function me(We,At){return(0,S.Xf)(We).pipe((0,le.R)(At),(0,oe.Q)(At))}(We,At);if((0,xt.D)(We))return Me(We,At);if((0,kt.T)(We))return function ue(We,At){return new J.y(Dt=>{let tt;return(0,ee.f)(Dt,At,()=>{tt=We[Ie.h](),(0,ee.f)(Dt,At,()=>{let at,yn;try{({value:at,done:yn}=tt.next())}catch(Rn){return void Dt.error(Rn)}yn?Dt.complete():Dt.next(at)},0,!0)}),()=>(0,ze.m)(tt?.return)&&tt.return()})}(We,At);if((0,xn.L)(We))return function Wt(We,At){return Me((0,xn.Q)(We),At)}(We,At)}throw(0,it.z)(We)}(We,At):(0,S.Xf)(We)}},4829:(on,Xe,G)=>{G.d(Xe,{Xf:()=>He});var S=G(7582),oe=G(4266),le=G(4026),Te=G(5592),me=G(8382),J=G(5726),Ce=G(9853),Ie=G(3664),ze=G(541),ee=G(4674),ue=G(3894),Me=G(4850);function He(Pe){if(Pe instanceof Te.y)return Pe;if(null!=Pe){if((0,me.c)(Pe))return function et(Pe){return new Te.y(nt=>{const We=Pe[Me.L]();if((0,ee.m)(We.subscribe))return We.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,oe.z)(Pe))return function Tt(Pe){return new Te.y(nt=>{for(let We=0;We<Pe.length&&!nt.closed;We++)nt.next(Pe[We]);nt.complete()})}(Pe);if((0,le.t)(Pe))return function kt(Pe){return new Te.y(nt=>{Pe.then(We=>{nt.closed||(nt.next(We),nt.complete())},We=>nt.error(We)).then(null,ue.h)})}(Pe);if((0,J.D)(Pe))return it(Pe);if((0,Ie.T)(Pe))return function xt(Pe){return new Te.y(nt=>{for(const We of Pe)if(nt.next(We),nt.closed)return;nt.complete()})}(Pe);if((0,ze.L)(Pe))return function xn(Pe){return it((0,ze.Q)(Pe))}(Pe)}throw(0,Ce.z)(Pe)}function it(Pe){return new Te.y(nt=>{(function Wt(Pe,nt){var We,At,Dt,tt;return(0,S.mG)(this,void 0,void 0,function*(){try{for(We=(0,S.KL)(Pe);!(At=yield We.next()).done;)if(nt.next(At.value),nt.closed)return}catch(at){Dt={error:at}}finally{try{At&&!At.done&&(tt=We.return)&&(yield tt.call(We))}finally{if(Dt)throw Dt.error}}nt.complete()})})(Pe,nt).catch(We=>nt.error(We))})}},2096:(on,Xe,G)=>{G.d(Xe,{of:()=>le});var S=G(4564),oe=G(2459);function le(...Te){const me=(0,S.yG)(Te);return(0,oe.D)(Te,me)}},8251:(on,Xe,G)=>{G.d(Xe,{x:()=>oe});var S=G(305);function oe(Te,me,J,Ce,Ie){return new le(Te,me,J,Ce,Ie)}class le extends S.Lv{constructor(me,J,Ce,Ie,ze,ee){super(me),this.onFinalize=ze,this.shouldUnsubscribe=ee,this._next=J?function(ue){try{J(ue)}catch(Me){me.error(Me)}}:super._next,this._error=Ie?function(ue){try{Ie(ue)}catch(Me){me.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ue){me.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},6328:(on,Xe,G)=>{G.d(Xe,{b:()=>le});var S=G(1631),oe=G(4674);function le(Te,me){return(0,oe.m)(me)?(0,S.z)(Te,me,1):(0,S.z)(Te,1)}},2181:(on,Xe,G)=>{G.d(Xe,{h:()=>le});var S=G(9360),oe=G(8251);function le(Te,me){return(0,S.e)((J,Ce)=>{let Ie=0;J.subscribe((0,oe.x)(Ce,ze=>Te.call(me,ze,Ie++)&&Ce.next(ze)))})}},4716:(on,Xe,G)=>{G.d(Xe,{x:()=>oe});var S=G(9360);function oe(le){return(0,S.e)((Te,me)=>{try{Te.subscribe(me)}finally{me.add(le)}})}},7398:(on,Xe,G)=>{G.d(Xe,{U:()=>le});var S=G(9360),oe=G(8251);function le(Te,me){return(0,S.e)((J,Ce)=>{let Ie=0;J.subscribe((0,oe.x)(Ce,ze=>{Ce.next(Te.call(me,ze,Ie++))}))})}},7537:(on,Xe,G)=>{G.d(Xe,{J:()=>le});var S=G(1631),oe=G(2737);function le(Te=1/0){return(0,S.z)(oe.y,Te)}},1631:(on,Xe,G)=>{G.d(Xe,{z:()=>Ie});var S=G(7398),oe=G(4829),le=G(9360),Te=G(7103),me=G(8251),Ce=G(4674);function Ie(ze,ee,ue=1/0){return(0,Ce.m)(ee)?Ie((Me,He)=>(0,S.U)((et,Tt)=>ee(Me,et,He,Tt))((0,oe.Xf)(ze(Me,He))),ue):("number"==typeof ee&&(ue=ee),(0,le.e)((Me,He)=>function J(ze,ee,ue,Me,He,et,Tt,kt){const xt=[];let it=0,xn=0,Wt=!1;const Pe=()=>{Wt&&!xt.length&&!it&&ee.complete()},nt=At=>it<Me?We(At):xt.push(At),We=At=>{et&&ee.next(At),it++;let Dt=!1;(0,oe.Xf)(ue(At,xn++)).subscribe((0,me.x)(ee,tt=>{He?.(tt),et?nt(tt):ee.next(tt)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(it--;xt.length&&it<Me;){const tt=xt.shift();Tt?(0,Te.f)(ee,Tt,()=>We(tt)):We(tt)}Pe()}catch(tt){ee.error(tt)}}))};return ze.subscribe((0,me.x)(ee,nt,()=>{Wt=!0,Pe()})),()=>{kt?.()}}(Me,He,ze,ue)))}},3093:(on,Xe,G)=>{G.d(Xe,{Q:()=>Te});var S=G(7103),oe=G(9360),le=G(8251);function Te(me,J=0){return(0,oe.e)((Ce,Ie)=>{Ce.subscribe((0,le.x)(Ie,ze=>(0,S.f)(Ie,me,()=>Ie.next(ze),J),()=>(0,S.f)(Ie,me,()=>Ie.complete(),J),ze=>(0,S.f)(Ie,me,()=>Ie.error(ze),J)))})}},5137:(on,Xe,G)=>{G.d(Xe,{R:()=>oe});var S=G(9360);function oe(le,Te=0){return(0,S.e)((me,J)=>{J.add(le.schedule(()=>me.subscribe(J),Te))})}},4664:(on,Xe,G)=>{G.d(Xe,{w:()=>Te});var S=G(4829),oe=G(9360),le=G(8251);function Te(me,J){return(0,oe.e)((Ce,Ie)=>{let ze=null,ee=0,ue=!1;const Me=()=>ue&&!ze&&Ie.complete();Ce.subscribe((0,le.x)(Ie,He=>{ze?.unsubscribe();let et=0;const Tt=ee++;(0,S.Xf)(me(He,Tt)).subscribe(ze=(0,le.x)(Ie,kt=>Ie.next(J?J(He,kt,Tt,et++):kt),()=>{ze=null,Me()}))},()=>{ue=!0,Me()}))})}},9397:(on,Xe,G)=>{G.d(Xe,{b:()=>me});var S=G(4674),oe=G(9360),le=G(8251),Te=G(2737);function me(J,Ce,Ie){const ze=(0,S.m)(J)||Ce||Ie?{next:J,error:Ce,complete:Ie}:J;return ze?(0,oe.e)((ee,ue)=>{var Me;null===(Me=ze.subscribe)||void 0===Me||Me.call(ze);let He=!0;ee.subscribe((0,le.x)(ue,et=>{var Tt;null===(Tt=ze.next)||void 0===Tt||Tt.call(ze,et),ue.next(et)},()=>{var et;He=!1,null===(et=ze.complete)||void 0===et||et.call(ze),ue.complete()},et=>{var Tt;He=!1,null===(Tt=ze.error)||void 0===Tt||Tt.call(ze,et),ue.error(et)},()=>{var et,Tt;He&&(null===(et=ze.unsubscribe)||void 0===et||et.call(ze)),null===(Tt=ze.finalize)||void 0===Tt||Tt.call(ze)}))}):Te.y}},7599:(on,Xe,G)=>{G.d(Xe,{z:()=>S});const S={setTimeout(oe,le,...Te){const{delegate:me}=S;return me?.setTimeout?me.setTimeout(oe,le,...Te):setTimeout(oe,le,...Te)},clearTimeout(oe){const{delegate:le}=S;return(le?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4971:(on,Xe,G)=>{G.d(Xe,{h:()=>oe});const oe=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(on,Xe,G)=>{G.d(Xe,{L:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(on,Xe,G)=>{G.d(Xe,{_6:()=>J,jO:()=>Te,yG:()=>me});var S=G(4674);function le(Ce){return Ce[Ce.length-1]}function Te(Ce){return(0,S.m)(le(Ce))?Ce.pop():void 0}function me(Ce){return function oe(Ce){return Ce&&(0,S.m)(Ce.schedule)}(le(Ce))?Ce.pop():void 0}function J(Ce,Ie){return"number"==typeof le(Ce)?Ce.pop():Ie}},7453:(on,Xe,G)=>{G.d(Xe,{D:()=>me});const{isArray:S}=Array,{getPrototypeOf:oe,prototype:le,keys:Te}=Object;function me(Ce){if(1===Ce.length){const Ie=Ce[0];if(S(Ie))return{args:Ie,keys:null};if(function J(Ce){return Ce&&"object"==typeof Ce&&oe(Ce)===le}(Ie)){const ze=Te(Ie);return{args:ze.map(ee=>Ie[ee]),keys:ze}}}return{args:Ce,keys:null}}},9039:(on,Xe,G)=>{function S(oe,le){if(oe){const Te=oe.indexOf(le);0<=Te&&oe.splice(Te,1)}}G.d(Xe,{P:()=>S})},2306:(on,Xe,G)=>{function S(oe){const Te=oe(me=>{Error.call(me),me.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}G.d(Xe,{d:()=>S})},2714:(on,Xe,G)=>{function S(oe,le){return oe.reduce((Te,me,J)=>(Te[me]=le[J],Te),{})}G.d(Xe,{n:()=>S})},1441:(on,Xe,G)=>{G.d(Xe,{O:()=>Te,x:()=>le});var S=G(2653);let oe=null;function le(me){if(S.config.useDeprecatedSynchronousErrorHandling){const J=!oe;if(J&&(oe={errorThrown:!1,error:null}),me(),J){const{errorThrown:Ce,error:Ie}=oe;if(oe=null,Ce)throw Ie}}else me()}function Te(me){S.config.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=me)}},7103:(on,Xe,G)=>{function S(oe,le,Te,me=0,J=!1){const Ce=le.schedule(function(){Te(),J?oe.add(this.schedule(null,me)):this.unsubscribe()},me);if(oe.add(Ce),!J)return Ce}G.d(Xe,{f:()=>S})},2737:(on,Xe,G)=>{function S(oe){return oe}G.d(Xe,{y:()=>S})},4266:(on,Xe,G)=>{G.d(Xe,{z:()=>S});const S=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},5726:(on,Xe,G)=>{G.d(Xe,{D:()=>oe});var S=G(4674);function oe(le){return Symbol.asyncIterator&&(0,S.m)(le?.[Symbol.asyncIterator])}},4674:(on,Xe,G)=>{function S(oe){return"function"==typeof oe}G.d(Xe,{m:()=>S})},8382:(on,Xe,G)=>{G.d(Xe,{c:()=>le});var S=G(4850),oe=G(4674);function le(Te){return(0,oe.m)(Te[S.L])}},3664:(on,Xe,G)=>{G.d(Xe,{T:()=>le});var S=G(4971),oe=G(4674);function le(Te){return(0,oe.m)(Te?.[S.h])}},4026:(on,Xe,G)=>{G.d(Xe,{t:()=>oe});var S=G(4674);function oe(le){return(0,S.m)(le?.then)}},541:(on,Xe,G)=>{G.d(Xe,{L:()=>Te,Q:()=>le});var S=G(7582),oe=G(4674);function le(me){return(0,S.FC)(this,arguments,function*(){const Ce=me.getReader();try{for(;;){const{value:Ie,done:ze}=yield(0,S.qq)(Ce.read());if(ze)return yield(0,S.qq)(void 0);yield yield(0,S.qq)(Ie)}}finally{Ce.releaseLock()}})}function Te(me){return(0,oe.m)(me?.getReader)}},9360:(on,Xe,G)=>{G.d(Xe,{A:()=>oe,e:()=>le});var S=G(4674);function oe(Te){return(0,S.m)(Te?.lift)}function le(Te){return me=>{if(oe(me))return me.lift(function(J){try{return Te(J,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(on,Xe,G)=>{G.d(Xe,{Z:()=>Te});var S=G(7398);const{isArray:oe}=Array;function Te(me){return(0,S.U)(J=>function le(me,J){return oe(J)?me(...J):me(J)}(me,J))}},2420:(on,Xe,G)=>{function S(){}G.d(Xe,{Z:()=>S})},8407:(on,Xe,G)=>{G.d(Xe,{U:()=>le,z:()=>oe});var S=G(2737);function oe(...Te){return le(Te)}function le(Te){return 0===Te.length?S.y:1===Te.length?Te[0]:function(J){return Te.reduce((Ce,Ie)=>Ie(Ce),J)}}},3894:(on,Xe,G)=>{G.d(Xe,{h:()=>le});var S=G(2653),oe=G(7599);function le(Te){oe.z.setTimeout(()=>{const{onUnhandledError:me}=S.config;if(!me)throw Te;me(Te)})}},9853:(on,Xe,G)=>{function S(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Xe,{z:()=>S})},6814:(on,Xe,G)=>{G.d(Xe,{Do:()=>kt,EM:()=>So,HT:()=>Te,JF:()=>qt,K0:()=>J,Mx:()=>Si,O5:()=>fi,PM:()=>Gr,S$:()=>He,V_:()=>Ie,Ye:()=>xt,b0:()=>Tt,bD:()=>Vs,ez:()=>Ki,q:()=>le,sg:()=>Gi,w_:()=>me});var S=G(4946);let oe=null;function le(){return oe}function Te(E){oe||(oe=E)}class me{}const J=new S.OlP("DocumentToken");let Ce=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||E)};static#t=this.\u0275prov=S.Yz7({token:E,factory:function(){return(0,S.f3M)(ze)},providedIn:"platform"})}return E})();const Ie=new S.OlP("Location Initialized");let ze=(()=>{class E extends Ce{constructor(){super(),this._doc=(0,S.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(M){const L=le().getGlobalEventTarget(this._doc,"window");return L.addEventListener("popstate",M,!1),()=>L.removeEventListener("popstate",M)}onHashChange(M){const L=le().getGlobalEventTarget(this._doc,"window");return L.addEventListener("hashchange",M,!1),()=>L.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,L,ne){this._history.pushState(M,L,ne)}replaceState(M,L,ne){this._history.replaceState(M,L,ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static#e=this.\u0275fac=function(L){return new(L||E)};static#t=this.\u0275prov=S.Yz7({token:E,factory:function(){return new E},providedIn:"platform"})}return E})();function ee(E,B){if(0==E.length)return B;if(0==B.length)return E;let M=0;return E.endsWith("/")&&M++,B.startsWith("/")&&M++,2==M?E+B.substring(1):1==M?E+B:E+"/"+B}function ue(E){const B=E.match(/#|\?|$/),M=B&&B.index||E.length;return E.slice(0,M-("/"===E[M-1]?1:0))+E.slice(M)}function Me(E){return E&&"?"!==E[0]?"?"+E:E}let He=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||E)};static#t=this.\u0275prov=S.Yz7({token:E,factory:function(){return(0,S.f3M)(Tt)},providedIn:"root"})}return E})();const et=new S.OlP("appBaseHref");let Tt=(()=>{class E extends He{constructor(M,L){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=L??this._platformLocation.getBaseHrefFromDOM()??(0,S.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ee(this._baseHref,M)}path(M=!1){const L=this._platformLocation.pathname+Me(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&M?`${L}${ne}`:L}pushState(M,L,ne,Fe){const Ze=this.prepareExternalUrl(ne+Me(Fe));this._platformLocation.pushState(M,L,Ze)}replaceState(M,L,ne,Fe){const Ze=this.prepareExternalUrl(ne+Me(Fe));this._platformLocation.replaceState(M,L,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(L){return new(L||E)(S.LFG(Ce),S.LFG(et,8))};static#t=this.\u0275prov=S.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),kt=(()=>{class E extends He{constructor(M,L){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=L&&(this._baseHref=L)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let L=this._platformLocation.hash;return null==L&&(L="#"),L.length>0?L.substring(1):L}prepareExternalUrl(M){const L=ee(this._baseHref,M);return L.length>0?"#"+L:L}pushState(M,L,ne,Fe){let Ze=this.prepareExternalUrl(ne+Me(Fe));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(M,L,Ze)}replaceState(M,L,ne,Fe){let Ze=this.prepareExternalUrl(ne+Me(Fe));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(M,L,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(L){return new(L||E)(S.LFG(Ce),S.LFG(et,8))};static#t=this.\u0275prov=S.Yz7({token:E,factory:E.\u0275fac})}return E})(),xt=(()=>{class E{constructor(M){this._subject=new S.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const L=this._locationStrategy.getBaseHref();this._basePath=function Pe(E){if(new RegExp("^(https?:)?//").test(E)){const[,M]=E.split(/\/\/[^\/]+/);return M}return E}(ue(Wt(L))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,L=""){return this.path()==this.normalize(M+Me(L))}normalize(M){return E.stripTrailingSlash(function xn(E,B){if(!E||!B.startsWith(E))return B;const M=B.substring(E.length);return""===M||["/",";","?","#"].includes(M[0])?M:B}(this._basePath,Wt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,L="",ne=null){this._locationStrategy.pushState(ne,"",M,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Me(L)),ne)}replaceState(M,L="",ne=null){this._locationStrategy.replaceState(ne,"",M,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Me(L)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(L=>{this._notifyUrlChangeListeners(L.url,L.state)})),()=>{const L=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(L,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",L){this._urlChangeListeners.forEach(ne=>ne(M,L))}subscribe(M,L,ne){return this._subject.subscribe({next:M,error:L,complete:ne})}static#e=this.normalizeQueryParams=Me;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=ue;static#r=this.\u0275fac=function(L){return new(L||E)(S.LFG(He))};static#i=this.\u0275prov=S.Yz7({token:E,factory:function(){return function it(){return new xt((0,S.LFG)(He))}()},providedIn:"root"})}return E})();function Wt(E){return E.replace(/\/index.html$/,"")}function Si(E,B){B=encodeURIComponent(B);for(const M of E.split(";")){const L=M.indexOf("="),[ne,Fe]=-1==L?[M,""]:[M.slice(0,L),M.slice(L+1)];if(ne.trim()===B)return decodeURIComponent(Fe)}return null}class Jr{constructor(B,M,L,ne){this.$implicit=B,this.ngForOf=M,this.index=L,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class E{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,L,ne){this._viewContainer=M,this._template=L,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const L=this._viewContainer;M.forEachOperation((ne,Fe,Ze)=>{if(null==ne.previousIndex)L.createEmbeddedView(this._template,new Jr(ne.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)L.remove(null===Fe?void 0:Fe);else if(null!==Fe){const Jt=L.get(Fe);L.move(Jt,Ze),Lr(Jt,ne)}});for(let ne=0,Fe=L.length;ne<Fe;ne++){const Jt=L.get(ne).context;Jt.index=ne,Jt.count=Fe,Jt.ngForOf=this._ngForOf}M.forEachIdentityChange(ne=>{Lr(L.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(M,L){return!0}static#e=this.\u0275fac=function(L){return new(L||E)(S.Y36(S.s_b),S.Y36(S.Rgc),S.Y36(S.ZZ4))};static#t=this.\u0275dir=S.lG2({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return E})();function Lr(E,B){E.context.$implicit=B.item}let fi=(()=>{class E{constructor(M,L){this._viewContainer=M,this._context=new ns,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=L}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ao("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ao("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,L){return!0}static#e=this.\u0275fac=function(L){return new(L||E)(S.Y36(S.s_b),S.Y36(S.Rgc))};static#t=this.\u0275dir=S.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return E})();class ns{constructor(){this.$implicit=null,this.ngIf=null}}function ao(E,B){if(B&&!B.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,S.AaK)(B)}'.`)}let Ki=(()=>{class E{static#e=this.\u0275fac=function(L){return new(L||E)};static#t=this.\u0275mod=S.oAB({type:E});static#n=this.\u0275inj=S.cJS({})}return E})();const Vs="browser",ga="server";function Gr(E){return E===ga}let So=(()=>{class E{static#e=this.\u0275prov=(0,S.Yz7)({token:E,providedIn:"root",factory:()=>new Rr((0,S.LFG)(J),window)})}return E})();class Rr{constructor(B,M){this.document=B,this.window=M,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const M=function ds(E,B){const M=E.getElementById(B)||E.getElementsByName(B)[0];if(M)return M;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const L=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let ne=L.currentNode;for(;ne;){const Fe=ne.shadowRoot;if(Fe){const Ze=Fe.getElementById(B)||Fe.querySelector(`[name="${B}"]`);if(Ze)return Ze}ne=L.nextNode()}}return null}(this.document,B);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(B){this.supportsScrolling()&&(this.window.history.scrollRestoration=B)}scrollToElement(B){const M=B.getBoundingClientRect(),L=M.left+this.window.pageXOffset,ne=M.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(L-Fe[0],ne-Fe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qt{}},9862:(on,Xe,G)=>{G.d(Xe,{JF:()=>q,eN:()=>Re});var S=G(4946),oe=G(2096),le=G(2459),Te=G(5592),me=G(6328),J=G(2181),Ce=G(7398),Ie=G(4716),ze=G(4664),ee=G(6814);class ue{}class Me{}class He{constructor(se){this.normalizedNames=new Map,this.lazyUpdate=null,se?"string"==typeof se?this.lazyInit=()=>{this.headers=new Map,se.split("\n").forEach(he=>{const te=he.indexOf(":");if(te>0){const re=he.slice(0,te),ve=re.toLowerCase(),Ve=he.slice(te+1).trim();this.maybeSetNormalizedName(re,ve),this.headers.has(ve)?this.headers.get(ve).push(Ve):this.headers.set(ve,[Ve])}})}:typeof Headers<"u"&&se instanceof Headers?(this.headers=new Map,se.forEach((he,te)=>{this.setHeaderEntries(te,he)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(se).forEach(([he,te])=>{this.setHeaderEntries(he,te)})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const he=this.headers.get(se.toLowerCase());return he&&he.length>0?he[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,he){return this.clone({name:se,value:he,op:"a"})}set(se,he){return this.clone({name:se,value:he,op:"s"})}delete(se,he){return this.clone({name:se,value:he,op:"d"})}maybeSetNormalizedName(se,he){this.normalizedNames.has(he)||this.normalizedNames.set(he,se)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(he=>{this.headers.set(he,se.headers.get(he)),this.normalizedNames.set(he,se.normalizedNames.get(he))})}clone(se){const he=new He;return he.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,he.lazyUpdate=(this.lazyUpdate||[]).concat([se]),he}applyUpdate(se){const he=se.name.toLowerCase();switch(se.op){case"a":case"s":let te=se.value;if("string"==typeof te&&(te=[te]),0===te.length)return;this.maybeSetNormalizedName(se.name,he);const re=("a"===se.op?this.headers.get(he):void 0)||[];re.push(...te),this.headers.set(he,re);break;case"d":const ve=se.value;if(ve){let Ve=this.headers.get(he);if(!Ve)return;Ve=Ve.filter(dt=>-1===ve.indexOf(dt)),0===Ve.length?(this.headers.delete(he),this.normalizedNames.delete(he)):this.headers.set(he,Ve)}else this.headers.delete(he),this.normalizedNames.delete(he)}}setHeaderEntries(se,he){const te=(Array.isArray(he)?he:[he]).map(ve=>ve.toString()),re=se.toLowerCase();this.headers.set(re,te),this.maybeSetNormalizedName(se,re)}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(he=>se(this.normalizedNames.get(he),this.headers.get(he)))}}class Tt{encodeKey(se){return xn(se)}encodeValue(se){return xn(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const xt=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xn(Ee){return encodeURIComponent(Ee).replace(xt,(se,he)=>it[he]??se)}function Wt(Ee){return`${Ee}`}class Pe{constructor(se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=se.encoder||new Tt,se.fromString){if(se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kt(Ee,se){const he=new Map;return Ee.length>0&&Ee.replace(/^\?/,"").split("&").forEach(re=>{const ve=re.indexOf("="),[Ve,dt]=-1==ve?[se.decodeKey(re),""]:[se.decodeKey(re.slice(0,ve)),se.decodeValue(re.slice(ve+1))],_t=he.get(Ve)||[];_t.push(dt),he.set(Ve,_t)}),he}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(he=>{const te=se.fromObject[he],re=Array.isArray(te)?te.map(Wt):[Wt(te)];this.map.set(he,re)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const he=this.map.get(se);return he?he[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,he){return this.clone({param:se,value:he,op:"a"})}appendAll(se){const he=[];return Object.keys(se).forEach(te=>{const re=se[te];Array.isArray(re)?re.forEach(ve=>{he.push({param:te,value:ve,op:"a"})}):he.push({param:te,value:re,op:"a"})}),this.clone(he)}set(se,he){return this.clone({param:se,value:he,op:"s"})}delete(se,he){return this.clone({param:se,value:he,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const he=this.encoder.encodeKey(se);return this.map.get(se).map(te=>he+"="+this.encoder.encodeValue(te)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const he=new Pe({encoder:this.encoder});return he.cloneFrom=this.cloneFrom||this,he.updates=(this.updates||[]).concat(se),he}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const he=("a"===se.op?this.map.get(se.param):void 0)||[];he.push(Wt(se.value)),this.map.set(se.param,he);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let te=this.map.get(se.param)||[];const re=te.indexOf(Wt(se.value));-1!==re&&te.splice(re,1),te.length>0?this.map.set(se.param,te):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class We{constructor(){this.map=new Map}set(se,he){return this.map.set(se,he),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function Dt(Ee){return typeof ArrayBuffer<"u"&&Ee instanceof ArrayBuffer}function tt(Ee){return typeof Blob<"u"&&Ee instanceof Blob}function at(Ee){return typeof FormData<"u"&&Ee instanceof FormData}class Rn{constructor(se,he,te,re){let ve;if(this.url=he,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=se.toUpperCase(),function At(Ee){switch(Ee){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||re?(this.body=void 0!==te?te:null,ve=re):ve=te,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params)),this.headers||(this.headers=new He),this.context||(this.context=new We),this.params){const Ve=this.params.toString();if(0===Ve.length)this.urlWithParams=he;else{const dt=he.indexOf("?");this.urlWithParams=he+(-1===dt?"?":dt<he.length-1?"&":"")+Ve}}else this.params=new Pe,this.urlWithParams=he}serializeBody(){return null===this.body?null:Dt(this.body)||tt(this.body)||at(this.body)||function yn(Ee){return typeof URLSearchParams<"u"&&Ee instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:tt(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(se={}){const he=se.method||this.method,te=se.url||this.url,re=se.responseType||this.responseType,ve=void 0!==se.body?se.body:this.body,Ve=void 0!==se.withCredentials?se.withCredentials:this.withCredentials,dt=void 0!==se.reportProgress?se.reportProgress:this.reportProgress;let _t=se.headers||this.headers,Kt=se.params||this.params;const sr=se.context??this.context;return void 0!==se.setHeaders&&(_t=Object.keys(se.setHeaders).reduce((Tn,Ar)=>Tn.set(Ar,se.setHeaders[Ar]),_t)),se.setParams&&(Kt=Object.keys(se.setParams).reduce((Tn,Ar)=>Tn.set(Ar,se.setParams[Ar]),Kt)),new Rn(he,te,ve,{params:Kt,headers:_t,context:sr,reportProgress:dt,responseType:re,withCredentials:Ve})}}var Wn=function(Ee){return Ee[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee}(Wn||{});class ut{constructor(se,he=200,te="OK"){this.headers=se.headers||new He,this.status=void 0!==se.status?se.status:he,this.statusText=se.statusText||te,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class ht extends ut{constructor(se={}){super(se),this.type=Wn.ResponseHeader}clone(se={}){return new ht({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class En extends ut{constructor(se={}){super(se),this.type=Wn.Response,this.body=void 0!==se.body?se.body:null}clone(se={}){return new En({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class pt extends ut{constructor(se){super(se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function nn(Ee,se){return{body:se,headers:Ee.headers,context:Ee.context,observe:Ee.observe,params:Ee.params,reportProgress:Ee.reportProgress,responseType:Ee.responseType,withCredentials:Ee.withCredentials}}let Re=(()=>{class Ee{constructor(he){this.handler=he}request(he,te,re={}){let ve;if(he instanceof Rn)ve=he;else{let _t,Kt;_t=re.headers instanceof He?re.headers:new He(re.headers),re.params&&(Kt=re.params instanceof Pe?re.params:new Pe({fromObject:re.params})),ve=new Rn(he,te,void 0!==re.body?re.body:null,{headers:_t,context:re.context,params:Kt,reportProgress:re.reportProgress,responseType:re.responseType||"json",withCredentials:re.withCredentials})}const Ve=(0,oe.of)(ve).pipe((0,me.b)(_t=>this.handler.handle(_t)));if(he instanceof Rn||"events"===re.observe)return Ve;const dt=Ve.pipe((0,J.h)(_t=>_t instanceof En));switch(re.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return dt.pipe((0,Ce.U)(_t=>{if(null!==_t.body&&!(_t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _t.body}));case"blob":return dt.pipe((0,Ce.U)(_t=>{if(null!==_t.body&&!(_t.body instanceof Blob))throw new Error("Response is not a Blob.");return _t.body}));case"text":return dt.pipe((0,Ce.U)(_t=>{if(null!==_t.body&&"string"!=typeof _t.body)throw new Error("Response is not a string.");return _t.body}));default:return dt.pipe((0,Ce.U)(_t=>_t.body))}case"response":return dt;default:throw new Error(`Unreachable: unhandled observe type ${re.observe}}`)}}delete(he,te={}){return this.request("DELETE",he,te)}get(he,te={}){return this.request("GET",he,te)}head(he,te={}){return this.request("HEAD",he,te)}jsonp(he,te){return this.request("JSONP",he,{params:(new Pe).append(te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(he,te={}){return this.request("OPTIONS",he,te)}patch(he,te,re={}){return this.request("PATCH",he,nn(re,te))}post(he,te,re={}){return this.request("POST",he,nn(re,te))}put(he,te,re={}){return this.request("PUT",he,nn(re,te))}static#e=this.\u0275fac=function(te){return new(te||Ee)(S.LFG(ue))};static#t=this.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function zt(Ee,se){return se(Ee)}function yt(Ee,se){return(he,te)=>se.intercept(he,{handle:re=>Ee(re,te)})}const qn=new S.OlP(""),Nn=new S.OlP(""),Mn=new S.OlP("");function er(){let Ee=null;return(se,he)=>{null===Ee&&(Ee=((0,S.f3M)(qn,{optional:!0})??[]).reduceRight(yt,zt));const te=(0,S.f3M)(S.HDt),re=te.add();return Ee(se,he).pipe((0,Ie.x)(()=>te.remove(re)))}}let Kn=(()=>{class Ee extends ue{constructor(he,te){super(),this.backend=he,this.injector=te,this.chain=null,this.pendingTasks=(0,S.f3M)(S.HDt)}handle(he){if(null===this.chain){const re=Array.from(new Set([...this.injector.get(Nn),...this.injector.get(Mn,[])]));this.chain=re.reduceRight((ve,Ve)=>function dn(Ee,se,he){return(te,re)=>he.runInContext(()=>se(te,ve=>Ee(ve,re)))}(ve,Ve,this.injector),zt)}const te=this.pendingTasks.add();return this.chain(he,re=>this.backend.handle(re)).pipe((0,Ie.x)(()=>this.pendingTasks.remove(te)))}static#e=this.\u0275fac=function(te){return new(te||Ee)(S.LFG(Me),S.LFG(S.lqb))};static#t=this.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const kr=/^\)\]\}',?\n/;let Sn=(()=>{class Ee{constructor(he){this.xhrFactory=he}handle(he){if("JSONP"===he.method)throw new S.vHH(-2800,!1);const te=this.xhrFactory;return(te.\u0275loadImpl?(0,le.D)(te.\u0275loadImpl()):(0,oe.of)(null)).pipe((0,ze.w)(()=>new Te.y(ve=>{const Ve=te.build();if(Ve.open(he.method,he.urlWithParams),he.withCredentials&&(Ve.withCredentials=!0),he.headers.forEach((gn,On)=>Ve.setRequestHeader(gn,On.join(","))),he.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!he.headers.has("Content-Type")){const gn=he.detectContentTypeHeader();null!==gn&&Ve.setRequestHeader("Content-Type",gn)}if(he.responseType){const gn=he.responseType.toLowerCase();Ve.responseType="json"!==gn?gn:"text"}const dt=he.serializeBody();let _t=null;const Kt=()=>{if(null!==_t)return _t;const gn=Ve.statusText||"OK",On=new He(Ve.getAllResponseHeaders()),xr=function Yr(Ee){return"responseURL"in Ee&&Ee.responseURL?Ee.responseURL:/^X-Request-URL:/m.test(Ee.getAllResponseHeaders())?Ee.getResponseHeader("X-Request-URL"):null}(Ve)||he.url;return _t=new ht({headers:On,status:Ve.status,statusText:gn,url:xr}),_t},sr=()=>{let{headers:gn,status:On,statusText:xr,url:wn}=Kt(),Jr=null;204!==On&&(Jr=typeof Ve.response>"u"?Ve.responseText:Ve.response),0===On&&(On=Jr?200:0);let Gi=On>=200&&On<300;if("json"===he.responseType&&"string"==typeof Jr){const Lr=Jr;Jr=Jr.replace(kr,"");try{Jr=""!==Jr?JSON.parse(Jr):null}catch(Bi){Jr=Lr,Gi&&(Gi=!1,Jr={error:Bi,text:Jr})}}Gi?(ve.next(new En({body:Jr,headers:gn,status:On,statusText:xr,url:wn||void 0})),ve.complete()):ve.error(new pt({error:Jr,headers:gn,status:On,statusText:xr,url:wn||void 0}))},Tn=gn=>{const{url:On}=Kt(),xr=new pt({error:gn,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:On||void 0});ve.error(xr)};let Ar=!1;const Si=gn=>{Ar||(ve.next(Kt()),Ar=!0);let On={type:Wn.DownloadProgress,loaded:gn.loaded};gn.lengthComputable&&(On.total=gn.total),"text"===he.responseType&&Ve.responseText&&(On.partialText=Ve.responseText),ve.next(On)},Mr=gn=>{let On={type:Wn.UploadProgress,loaded:gn.loaded};gn.lengthComputable&&(On.total=gn.total),ve.next(On)};return Ve.addEventListener("load",sr),Ve.addEventListener("error",Tn),Ve.addEventListener("timeout",Tn),Ve.addEventListener("abort",Tn),he.reportProgress&&(Ve.addEventListener("progress",Si),null!==dt&&Ve.upload&&Ve.upload.addEventListener("progress",Mr)),Ve.send(dt),ve.next({type:Wn.Sent}),()=>{Ve.removeEventListener("error",Tn),Ve.removeEventListener("abort",Tn),Ve.removeEventListener("load",sr),Ve.removeEventListener("timeout",Tn),he.reportProgress&&(Ve.removeEventListener("progress",Si),null!==dt&&Ve.upload&&Ve.upload.removeEventListener("progress",Mr)),Ve.readyState!==Ve.DONE&&Ve.abort()}})))}static#e=this.\u0275fac=function(te){return new(te||Ee)(S.LFG(ee.JF))};static#t=this.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const tr=new S.OlP("XSRF_ENABLED"),Un=new S.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bt=new S.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qr{}let ti=(()=>{class Ee{constructor(he,te,re){this.doc=he,this.platform=te,this.cookieName=re,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const he=this.doc.cookie||"";return he!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee.Mx)(he,this.cookieName),this.lastCookieString=he),this.lastToken}static#e=this.\u0275fac=function(te){return new(te||Ee)(S.LFG(ee.K0),S.LFG(S.Lbi),S.LFG(Un))};static#t=this.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function _r(Ee,se){const he=Ee.url.toLowerCase();if(!(0,S.f3M)(tr)||"GET"===Ee.method||"HEAD"===Ee.method||he.startsWith("http://")||he.startsWith("https://"))return se(Ee);const te=(0,S.f3M)(Qr).getToken(),re=(0,S.f3M)(bt);return null!=te&&!Ee.headers.has(re)&&(Ee=Ee.clone({headers:Ee.headers.set(re,te)})),se(Ee)}var pn=function(Ee){return Ee[Ee.Interceptors=0]="Interceptors",Ee[Ee.LegacyInterceptors=1]="LegacyInterceptors",Ee[Ee.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ee[Ee.NoXsrfProtection=3]="NoXsrfProtection",Ee[Ee.JsonpSupport=4]="JsonpSupport",Ee[Ee.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ee[Ee.Fetch=6]="Fetch",Ee}(pn||{});function cr(...Ee){const se=[Re,Sn,Kn,{provide:ue,useExisting:Kn},{provide:Me,useExisting:Sn},{provide:Nn,useValue:_r,multi:!0},{provide:tr,useValue:!0},{provide:Qr,useClass:ti}];for(const he of Ee)se.push(...he.\u0275providers);return(0,S.MR2)(se)}const Cr=new S.OlP("LEGACY_INTERCEPTOR_FN");function Ni(){return function It(Ee,se){return{\u0275kind:Ee,\u0275providers:se}}(pn.LegacyInterceptors,[{provide:Cr,useFactory:er},{provide:Nn,useExisting:Cr,multi:!0}])}let q=(()=>{class Ee{static#e=this.\u0275fac=function(te){return new(te||Ee)};static#t=this.\u0275mod=S.oAB({type:Ee});static#n=this.\u0275inj=S.cJS({providers:[cr(Ni())]})}return Ee})()},4946:(on,Xe,G)=>{G.d(Xe,{tb:()=>J_,AFp:()=>km,ip1:()=>Ww,hGG:()=>BC,z2F:()=>Hf,Ojb:()=>Bo,sBO:()=>DC,Sil:()=>Gb,EJc:()=>$b,Xts:()=>pl,SBq:()=>Yd,lqb:()=>$a,qLn:()=>hc,vpe:()=>ku,XFs:()=>bt,OlP:()=>Kr,zs3:()=>du,ZZ4:()=>sI,aQg:()=>oI,soG:()=>Hy,YKP:()=>QE,h0i:()=>wh,PXZ:()=>gC,R0b:()=>Os,FiY:()=>Pl,Lbi:()=>qd,g9A:()=>Wd,Qsj:()=>Yp,FYo:()=>Bm,JOm:()=>Vl,tp0:()=>Ol,Rgc:()=>rm,dDg:()=>dC,eoX:()=>e0,q4F:()=>hf,GfV:()=>df,s_b:()=>jy,ifc:()=>On,VuI:()=>YC,MMx:()=>JE,Lck:()=>TT,eFA:()=>s0,Gpc:()=>tt,f3M:()=>dt,$WT:()=>Vi,MR2:()=>Kh,_c5:()=>UC,qFp:()=>XC,rg0:()=>Ro,c2e:()=>qw,zSh:()=>Xh,HDt:()=>Kw,wAp:()=>Bf,vHH:()=>ht,lri:()=>Xw,rWj:()=>Jw,cg1:()=>C_,kL8:()=>wE,dqk:()=>It,Z0I:()=>rr,eJc:()=>H_,QGY:()=>l,F4k:()=>f,RDi:()=>vp,AaK:()=>We,qOj:()=>Af,Xq5:()=>lh,TTD:()=>Ht,_Bn:()=>YE,jDz:()=>ew,xp6:()=>Ef,uIk:()=>Ty,Tol:()=>ZI,ekj:()=>w_,Suo:()=>bw,Xpm:()=>Vo,lG2:()=>Pi,Yz7:()=>Cn,cJS:()=>fn,oAB:()=>co,Yjl:()=>Ks,Y36:()=>pc,_UZ:()=>xy,qZA:()=>qg,TgZ:()=>Wg,EpF:()=>u,n5z:()=>fr,LFG:()=>ve,$8M:()=>I,$Z:()=>ry,NdJ:()=>w,CRH:()=>Cw,oxw:()=>qe,Q6J:()=>Gg,s9C:()=>ir,VKq:()=>aw,iGM:()=>Tw,KtG:()=>sa,CHM:()=>zu,LSH:()=>Sp,P3R:()=>Ap,YNc:()=>h_,_uU:()=>nE,Oqu:()=>T_,hij:()=>Oy,AsE:()=>b_});var S=G(8645),oe=G(7394),le=G(5592),Te=G(7537),me=G(4829),J=G(6232),Ce=G(4564),Ie=G(2459),ee=G(5619),ue=G(2096),Me=G(305),He=G(9360);function et(t={}){const{connector:r=(()=>new S.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,C,N=0,V=!1,Q=!1;const ge=()=>{v?.unsubscribe(),v=void 0},Se=()=>{ge(),g=C=void 0,V=Q=!1},Je=()=>{const mt=g;Se(),mt?.unsubscribe()};return(0,He.e)((mt,Bt)=>{N++,!Q&&!V&&ge();const hn=C=C??r();Bt.add(()=>{N--,0===N&&!Q&&!V&&(v=Tt(Je,c))}),hn.subscribe(Bt),!g&&N>0&&(g=new Me.Hp({next:ct=>hn.next(ct),error:ct=>{Q=!0,ge(),v=Tt(Se,s,ct),hn.error(ct)},complete:()=>{V=!0,ge(),v=Tt(Se,a),hn.complete()}}),(0,me.Xf)(mt).subscribe(g))})(d)}}function Tt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Me.Hp({next:()=>{a.unsubscribe(),t()}});return(0,me.Xf)(r(...s)).subscribe(a)}var kt=G(4664),xt=G(2737),it=G(8251);function Wt(t,r){return t===r}function Pe(t){for(let r in t)if(t[r]===Pe)return r;throw Error("Could not find renamed property on target object.")}function nt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function We(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function At(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Dt=Pe({__forward_ref__:Pe});function tt(t){return t.__forward_ref__=tt,t.toString=function(){return We(this())},t}function at(t){return yn(t)?t():t}function yn(t){return"function"==typeof t&&t.hasOwnProperty(Dt)&&t.__forward_ref__===tt}function Rn(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class ht extends Error{constructor(r,s){super(function En(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ae(t,r){throw new ht(-201,!1)}function Zn(t,r){null==t&&function rn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ln(t){return kr(t,tr)||kr(t,Un)}function rr(t){return null!==ln(t)}function kr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Sn(t){return t&&(t.hasOwnProperty(Vr)||t.hasOwnProperty(Ci))?t[Vr]:null}const tr=Pe({\u0275prov:Pe}),Vr=Pe({\u0275inj:Pe}),Un=Pe({ngInjectableDef:Pe}),Ci=Pe({ngInjectorDef:Pe});var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bt||{});let Qr;function _r(t){const r=Qr;return Qr=t,r}function $n(t,r,s){const a=ln(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&bt.Optional?null:void 0!==r?r:void Ae(We(t))}const It=globalThis,gt={},an="__NG_DI_FLAG__",Xt="ngTempTokenPath",un=/\n/gm,Ee="__source";let se;function te(t){const r=se;return se=t,r}function re(t,r=bt.Default){if(void 0===se)throw new ht(-203,!1);return null===se?$n(t,void 0,r):se.get(t,r&bt.Optional?null:void 0,r)}function ve(t,r=bt.Default){return(function ti(){return Qr}()||re)(at(t),r)}function dt(t,r=bt.Default){return ve(t,_t(r))}function _t(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kt(t){const r=[];for(let s=0;s<t.length;s++){const a=at(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ht(900,!1);let c,d=bt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Tn(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(ve(c,d))}else r.push(ve(a))}return r}function sr(t,r){return t[an]=r,t.prototype[an]=r,t}function Tn(t){return t[an]}function Mr(t){return{toString:t}.toString()}var gn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gn||{}),On=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(On||{});const xr={},wn=[],Jr=Pe({\u0275cmp:Pe}),Gi=Pe({\u0275dir:Pe}),Lr=Pe({\u0275pipe:Pe}),Bi=Pe({\u0275mod:Pe}),fi=Pe({\u0275fac:Pe}),ns=Pe({__NG_ELEMENT_ID__:Pe}),ao=Pe({__NG_ENV_ID__:Pe});function fe(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function pe(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];Qe(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function be(t){return 3===t||4===t||6===t}function Qe(t){return 64===t.charCodeAt(0)}function ft(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||sn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function sn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Vn="ng-template";function bn(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==fe(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function jn(t){return 4===t.type&&t.value!==Vn}function Wi(t,r,s){return r===(4!==t.type||s?t.value:Vn)}function ai(t,r,s){let a=4;const c=t.attrs||[],d=function Ws(t){for(let r=0;r<t.length;r++)if(be(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!Wi(t,C,s)||""===C&&1===r.length){if(mr(a))return!1;g=!0}}else{const N=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!bn(t.attrs,N,s)){if(mr(a))return!1;g=!0}continue}const Q=ni(8&a?"class":C,c,jn(t),s);if(-1===Q){if(mr(a))return!1;g=!0;continue}if(""!==N){let ge;ge=Q>d?"":c[Q+1].toLowerCase();const Se=8&a?ge:null;if(Se&&-1!==fe(Se,N,0)||2&a&&N!==ge){if(mr(a))return!1;g=!0}}}}else{if(!g&&!mr(a)&&!mr(C))return!1;if(g&&mr(C))continue;g=!1,a=C|1&a}}return mr(a)||g}function mr(t){return 0==(1&t)}function ni(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function ls(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function To(t,r,s=!1){for(let a=0;a<r.length;a++)if(ai(t,r[a],s))return!0;return!1}function uo(t,r){return t?":not("+r.trim()+")":r}function Na(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!mr(g)&&(r+=uo(d,c),c=""),a=g,d=d||!mr(a);s++}return""!==c&&(r+=uo(d,c)),r}function Vo(t){return Mr(()=>{const r=jo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""};gu(s);const a=t.dependencies;return s.directiveDefs=Ki(a,!1),s.pipeDefs=Ki(a,!0),s.id=function ga(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function qi(t){return An(t)||ri(t)}function qs(t){return null!==t}function co(t){return Mr(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jr(t,r){if(null==t)return xr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Pi(t){return Mr(()=>{const r=jo(t);return gu(r),r})}function Ks(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function An(t){return t[Jr]||null}function ri(t){return t[Gi]||null}function dr(t){return t[Lr]||null}function Vi(t){const r=An(t)||ri(t)||dr(t);return null!==r&&r.standalone}function ji(t,r){const s=t[Bi]||null;if(!s&&!0===r)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return s}function jo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jr(t.inputs,r),outputs:jr(t.outputs)}}function gu(t){t.features?.forEach(r=>r(t))}function Ki(t,r){if(!t)return null;const s=r?dr:qi;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(qs)}const Ir=0,St=1,mn=2,Gr=3,Zi=4,ms=5,Oi=6,So=7,Rr=8,ds=9,ys=10,qt=11,$o=12,lo=13,js=14,ui=15,Ho=16,Cs=17,Wr=18,Ss=19,ho=20,Zs=21,Yi=22,Ys=23,$i=24,Zt=25,zo=1,vs=2,Qi=7,fo=9,pi=11;function Nr(t){return Array.isArray(t)&&"object"==typeof t[zo]}function Ei(t){return Array.isArray(t)&&!0===t[zo]}function Ao(t){return 0!=(4&t.flags)}function k(t){return t.componentOffset>-1}function F(t){return 1==(1&t.flags)}function Y(t){return!!t.template}function ae(t){return 0!=(512&t[mn])}function Is(t,r){return t.hasOwnProperty(fi)?t[fi]:null}let Ur=null,Qs=!1;function kn(t){const r=Ur;return Ur=t,r}const qa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Es(t){if(!go(t)||t.dirty){if(!t.producerMustRecompute(t)&&!xo(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Hs(t){t.dirty=!0,function ta(t){if(void 0===t.liveConsumerNode)return;const r=Qs;Qs=!0;try{for(const s of t.liveConsumerNode)s.dirty||Hs(s)}finally{Qs=r}}(t),t.consumerMarkedDirty?.(t)}function na(t){return t&&(t.nextProducerIndex=0),kn(t)}function ra(t,r){if(kn(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(go(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Xs(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xo(t){ws(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Es(s),a!==s.version))return!0}return!1}function Ji(t){if(ws(t),go(t))for(let r=0;r<t.producerNode.length;r++)Xs(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xs(t,r){if(function Oa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ws(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Xs(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];ws(c),c.producerIndexOfThis[a]=r}}function go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let L=null;function Ro(t){const r=kn(null);try{return t()}finally{kn(r)}}const yr=()=>{},Dr=(()=>({...qa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:yr}))();class Lt{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ht(){return Bu}function Bu(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ue),Pt}function Pt(){const t=Di(this),r=t?.current;if(r){const s=t.previous;if(s===xr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Ue(t,r,s,a){const c=this.declaredInputs[s],d=Di(t)||function mu(t,r){return t[ot]=r}(t,{previous:xr,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new Lt(C&&C.currentValue,r,v===xr),t[a]=r}Ht.ngInherit=!0;const ot="__ngSimpleChanges__";function Di(t){return t[ot]||null}const yo=function(t,r,s){};function ii(t){for(;Array.isArray(t);)t=t[Ir];return t}function Za(t,r){return ii(r[t])}function zs(t,r){return ii(r[t.index])}function _n(t,r){return t.data[r]}function os(t,r){const s=r[t];return Nr(s)?s:s[Ir]}function Yt(t,r){return null==r?null:t[r]}function Vu(t){t[Cs]=0}function lr(t){1024&t[mn]||(t[mn]|=1024,Ms(t,1))}function Nt(t){1024&t[mn]&&(t[mn]&=-1025,Ms(t,-1))}function Ms(t,r){let s=t[Gr];if(null===s)return;s[ms]+=r;let a=s;for(s=s[Gr];null!==s&&(1===r&&1===a[ms]||-1===r&&0===a[ms]);)s[ms]+=r,a=s,s=s[Gr]}const In={lFrame:or(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ts(){return In.bindingsEnabled}function rt(){return In.lFrame.lView}function Ln(){return In.lFrame.tView}function zu(t){return In.lFrame.contextLView=t,t[Rr]}function sa(t){return In.lFrame.contextLView=null,t}function di(){let t=_u();for(;null!==t&&64===t.type;)t=t.parent;return t}function _u(){return In.lFrame.currentTNode}function xs(t,r){const s=In.lFrame;s.currentTNode=t,s.isParent=r}function Ja(){return In.lFrame.isParent}function tu(){return In.lFrame.bindingIndex++}function eo(t){const r=In.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function T(t,r){const s=In.lFrame;s.bindingIndex=s.bindingRootIndex=t,b(r)}function b(t){In.lFrame.currentDirectiveIndex=t}function $(){return In.lFrame.currentQueryIndex}function X(t){In.lFrame.currentQueryIndex=t}function Le(t){const r=t[St];return 2===r.type?r.declTNode:1===r.type?t[Oi]:null}function xe(t,r,s){if(s&bt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&bt.Host||(c=Le(d),null===c||(d=d[js],10&c.type))););if(null===c)return!1;r=c,t=d}const a=In.lFrame=Dn();return a.currentTNode=r,a.lView=t,!0}function Mt(t){const r=Dn(),s=t[St];In.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Dn(){const t=In.lFrame,r=null===t?null:t.child;return null===r?or(t):r}function or(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ar(){const t=In.lFrame;return In.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const No=ar;function fs(){const t=ar();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return In.lFrame.selectedIndex}function Po(t){In.lFrame.selectedIndex=t}function bi(){const t=In.lFrame;return _n(t.tView,t.selectedIndex)}let nu=!0;function Ea(){return nu}function aa(t){nu=t}function Eu(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:V}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),N&&((t.viewHooks??=[]).push(s,N),(t.viewCheckHooks??=[]).push(s,N)),null!=V&&(t.destroyHooks??=[]).push(s,V)}}function Ai(t,r,s){wa(t,r,3,s)}function hi(t,r,s,a){(3&t[mn])===s&&wa(t,r,s,a)}function Yc(t,r){let s=t[mn];(3&s)===r&&(s&=8191,s+=1,t[mn]=s)}function wa(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[Cs]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[Cs]+=65536),(v<d||-1==d)&&(Wu(t,s,r,C),t[Cs]=(4294901760&t[Cs])+C+2),C++}function Rs(t,r){yo(4,t,r);const s=kn(null);try{r.call(t)}finally{kn(s),yo(5,t,r)}}function Wu(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[mn]>>13<t[Cs]>>16&&(3&t[mn])===r&&(t[mn]+=8192,Rs(v,d)):Rs(v,d)}const qu=-1;class Mi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Da(t){return t!==qu}function Oo(t){return 32767&t}function ua(t,r){let s=function Du(t){return t>>16}(t),a=r;for(;s>0;)a=a[js],s--;return a}let to=!0;function Va(t){const r=to;return to=t,r}const bc=255,la=5;let Cc=0;const Io={};function Ta(t,r){const s=Zu(t,r);if(-1!==s)return s;const a=r[St];a.firstCreatePass&&(t.injectorIndex=r.length,ba(a.data,t),ba(r,null),ba(a.blueprint,null));const c=Ca(t,r),d=t.injectorIndex;if(Da(c)){const g=Oo(c),v=ua(c,r),C=v[St].data;for(let N=0;N<8;N++)r[d+N]=v[g+N]|C[g+N]}return r[d+8]=c,d}function ba(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Zu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Ca(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Sc(c),null===a)return qu;if(s++,c=c[js],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return qu}function ja(t,r,s){!function da(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ns)&&(a=s[ns]),null==a&&(a=s[ns]=Cc++);const c=a&bc;r.data[t+(c>>la)]|=1<<c}(t,r,s)}function Ml(t,r,s){if(s&bt.Optional||void 0!==t)return t;Ae()}function Xc(t,r,s,a){if(s&bt.Optional&&void 0===a&&(a=null),!(s&(bt.Self|bt.Host))){const c=t[ds],d=_r(void 0);try{return c?c.get(r,a,s&bt.Optional):$n(r,a,s&bt.Optional)}finally{_r(d)}}return Ml(a,0,s)}function vd(t,r,s,a=bt.Default,c){if(null!==t){if(2048&r[mn]&&!(a&bt.Self)){const g=function bu(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[mn]&&!(512&g[mn]);){const v=Jc(d,g,s,a|bt.Self,Io);if(v!==Io)return v;let C=d.parent;if(!C){const N=g[ho];if(N){const V=N.get(s,Io,a);if(V!==Io)return V}C=Sc(g),g=g[js]}d=C}return c}(t,r,s,a,Io);if(g!==Io)return g}const d=Jc(t,r,s,a,Io);if(d!==Io)return d}return Xc(r,s,a,c)}function Jc(t,r,s,a,c){const d=function Ii(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ns)?t[ns]:void 0;return"number"==typeof r?r>=0?r&bc:_d:r}(s);if("function"==typeof d){if(!xe(r,t,a))return a&bt.Host?Ml(c,0,a):Xc(r,s,a,c);try{let g;if(g=d(a),null!=g||a&bt.Optional)return g;Ae()}finally{No()}}else if("number"==typeof d){let g=null,v=Zu(t,r),C=qu,N=a&bt.Host?r[ui][Oi]:null;for((-1===v||a&bt.SkipSelf)&&(C=-1===v?Ca(t,r):r[v+8],C!==qu&&Aa(a,!1)?(g=r[St],v=Oo(C),r=ua(C,r)):v=-1);-1!==v;){const V=r[St];if(Sa(d,v,V.data)){const Q=el(v,r,s,g,a,N);if(Q!==Io)return Q}C=r[v+8],C!==qu&&Aa(a,r[St].data[v+8]===N)&&Sa(d,v,r)?(g=V,v=Oo(C),r=ua(C,r)):v=-1}}return c}function el(t,r,s,a,c,d){const g=r[St],v=g.data[t+8],V=_i(v,g,s,null==a?k(v)&&to:a!=g&&0!=(3&v.type),c&bt.Host&&d===v);return null!==V?ko(r,g,V,v):Io}function _i(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,V=d>>20,ge=c?v+V:t.directiveEnd;for(let Se=a?v:v+V;Se<ge;Se++){const Je=g[Se];if(Se<C&&s===Je||Se>=C&&Je.type===s)return Se}if(c){const Se=g[C];if(Se&&Y(Se)&&Se.type===s)return C}return null}function ko(t,r,s,a){let c=t[s];const d=r.data;if(function Al(t){return t instanceof Mi}(c)){const g=c;g.resolving&&function Re(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ht(-200,`Circular dependency in DI detected for ${t}${s}`)}(function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(d[s]));const v=Va(g.canSeeViewProviders);g.resolving=!0;const N=g.injectImpl?_r(g.injectImpl):null;xe(t,a,bt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function qr(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Bu(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==N&&_r(N),Va(v),g.resolving=!1,No()}}return c}function Sa(t,r,s){return!!(s[r+(t>>la)]&1<<t)}function Aa(t,r){return!(t&bt.Self||t&bt.Host&&r)}class no{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return vd(this._tNode,this._lView,r,_t(a),s)}}function _d(){return new no(di(),rt())}function fr(t){return Mr(()=>{const r=t.prototype.constructor,s=r[fi]||Pr(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[fi]||Pr(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Pr(t){return yn(t)?()=>{const r=Pr(at(t));return r&&r()}:Is(t)}function Sc(t){const r=t[St],s=r.type;return 2===s?r.declTNode:1===s?t[Oi]:null}function I(t){return function iu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(be(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(di(),t)}const P="__parameters__";function $e(t,r,s){return Mr(()=>{const a=function we(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,N,V){const Q=C.hasOwnProperty(P)?C[P]:Object.defineProperty(C,P,{value:[]})[P];for(;Q.length<=V;)Q.push(null);return(Q[V]=Q[V]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Cu(t,r){t.forEach(s=>Array.isArray(s)?Cu(s,r):r(s))}function Qu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function rl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function wo(t,r,s){let a=ha(t,r);return a>=0?t[1|a]=s:(a=~a,function Su(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Ju(t,r){const s=ha(t,r);if(s>=0)return t[1|s]}function ha(t,r){return function Id(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Pl=sr($e("Optional"),8),Ol=sr($e("SkipSelf"),4);function ts(t){return 128==(128&t.flags)}var Vl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vl||{});const p=new Map;let D=0;const Gs="__ngContext__";function zi(t,r){Nr(r)?(t[Gs]=r[Ss],function K(t){p.set(t[Ss],t)}(r)):t[Gs]=r}let sc;function Hl(t,r){return sc(t,r)}function fa(t){const r=t[Gr];return Ei(r)?r[Gr]:r}function zl(t){return up(t[$o])}function ap(t){return up(t[Zi])}function up(t){for(;null!==t&&!Ei(t);)t=t[Zi];return t}function ul(t,r,s,a,c){if(null!=a){let d,g=!1;Ei(a)?d=a:Nr(a)&&(g=!0,a=a[Ir]);const v=ii(a);0===t&&null!==s?null==c?fp(r,s,v):Yo(r,s,v,c||null,!0):1===t&&null!==s?Yo(r,s,v,c||null,!0):2===t?function Nd(t,r,s){const a=xu(t,r);a&&function ym(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function nv(t,r,s,a,c){const d=s[Qi];d!==ii(s)&&ul(r,t,a,d,c);for(let v=pi;v<s.length;v++){const C=s[v];cu(C[St],C,t,r,a,d)}}(r,t,d,s,c)}}function Gl(t,r,s){return t.createElement(r,s)}function pm(t,r){const s=t[fo],a=s.indexOf(r);Nt(r),s.splice(a,1)}function kh(t,r){if(t.length<=pi)return;const s=pi+r,a=t[s];if(a){const c=a[Ho];null!==c&&c!==t&&pm(c,a),r>0&&(t[s-1][Zi]=a[Zi]);const d=rl(t,pi+r);!function Jy(t,r){cu(t,r,r[qt],2,null,null),r[Ir]=null,r[Oi]=null}(a[St],a);const g=d[Wr];null!==g&&g.detachView(d[St]),a[Gr]=null,a[Zi]=null,a[mn]&=-129}return a}function lp(t,r){if(!(256&r[mn])){const s=r[qt];r[Ys]&&Ji(r[Ys]),r[$i]&&Ji(r[$i]),s.destroyNode&&cu(t,r,s,3,null,null),function hm(t){let r=t[$o];if(!r)return Mu(t[St],t);for(;r;){let s=null;if(Nr(r))s=r[$o];else{const a=r[pi];a&&(s=a)}if(!s){for(;r&&!r[Zi]&&r!==t;)Nr(r)&&Mu(r[St],r),r=r[Gr];null===r&&(r=t),Nr(r)&&Mu(r[St],r),s=r&&r[Zi]}r=s}}(r)}}function Mu(t,r){if(!(256&r[mn])){r[mn]&=-129,r[mn]|=256,function gm(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Mi)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];yo(4,v,C);try{C.call(v)}finally{yo(5,v,C)}}else{yo(4,c,d);try{d.call(c)}finally{yo(5,c,d)}}}}}(t,r),function Wl(t,r){const s=t.cleanup,a=r[So];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[So]=null);const c=r[Zs];if(null!==c){r[Zs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[St].type&&r[qt].destroy();const s=r[Ho];if(null!==s&&Ei(r[Gr])){s!==r[Gr]&&pm(s,r);const a=r[Wr];null!==a&&a.detachView(t)}!function je(t){p.delete(t[Ss])}(r)}}function dp(t,r,s){return function hp(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Ir];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===On.None||d===On.Emulated)return null}return zs(a,s)}}(t,r.parent,s)}function Yo(t,r,s,a,c){t.insertBefore(r,s,a,c)}function fp(t,r,s){t.appendChild(r,s)}function mm(t,r,s,a,c){null!==a?Yo(t,r,s,a,c):fp(t,r,s)}function xu(t,r){return t.parentNode(r)}let xd,Bh,Od,gp=function ql(t,r,s){return 40&t.type?zs(t,s):null};function Rd(t,r,s,a){const c=dp(t,a,r),d=r[qt],v=function Nc(t,r,s){return gp(t,r,s)}(a.parent||r[Oi],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)mm(d,c,s[C],v,!1);else mm(d,c,s,v,!1);void 0!==xd&&xd(d,a,r,s,c)}function Kl(t,r){if(null!==r){const s=r.type;if(3&s)return zs(r,t);if(4&s)return Fh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Kl(t,a);{const c=t[r.index];return Ei(c)?Fh(-1,c):ii(c)}}if(32&s)return Hl(r,t)()||ii(t[r.index]);{const a=vm(t,r);return null!==a?Array.isArray(a)?a[0]:Kl(fa(t[ui]),a):Kl(t,r.next)}}return null}function vm(t,r){return null!==r?t[ui][Oi].projection[r.projection]:null}function Fh(t,r){const s=pi+t+1;if(s<r.length){const a=r[s],c=a[St].firstChild;if(null!==c)return Kl(a,c)}return r[Qi]}function dl(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&zi(ii(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)dl(t,r,s.child,a,c,d,!1),ul(r,t,c,v,d);else if(32&C){const N=Hl(s,a);let V;for(;V=N();)ul(r,t,c,V,d);ul(r,t,c,v,d)}else 16&C?mp(t,r,a,s,c,d):ul(r,t,c,v,d);s=g?s.projectionNext:s.next}}function cu(t,r,s,a,c,d){dl(s,a,t.firstChild,r,c,d,!1)}function mp(t,r,s,a,c,d){const g=s[ui],C=g[Oi].projection[a.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)ul(r,t,c,C[N],d);else{let N=C;const V=g[Gr];ts(a)&&(N.flags|=128),dl(t,r,N,V,c,d,!0)}}function Zl(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Pc(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&pe(t,r,a),null!==c&&Zl(t,r,c),null!==d&&function iv(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function vp(t){Bh=t}function kd(t){return function Ql(){if(void 0===Od&&(Od=null,It.trustedTypes))try{Od=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Od}()?.createScriptURL(t)||t}class wm{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function oc(t){return t instanceof wm?t.changingThisBreaksApplicationSecurity:t}function Ps(t,r){const s=function bm(t){return t instanceof wm&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${ut})`)}return s===r}const Cm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jl||{});function Sp(t){const r=ac();return r?r.sanitize(Jl.URL,t)||"":Ps(t,"URL")?oc(t):function Ru(t){return(t=String(t)).match(Cm)?t:"unsafe:"+t}(pt(t))}function zh(t){const r=ac();if(r)return kd(r.sanitize(Jl.RESOURCE_URL,t)||"");if(Ps(t,"ResourceURL"))return kd(oc(t));throw new ht(904,!1)}function Ap(t,r,s){return function pv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?zh:Sp}(r,s)(t)}function ac(){const t=rt();return t&&t[ys].sanitizer}class Kr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Cn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const pl=new Kr("ENVIRONMENT_INITIALIZER"),qh=new Kr("INJECTOR",-1),Mp=new Kr("INJECTOR_DEF_TYPES");class xp{get(r,s=gt){if(s===gt){const a=new Error(`NullInjectorError: No provider for ${We(r)}!`);throw a.name="NullInjectorError",a}return s}}function Kh(t){return{\u0275providers:t}}function Nm(...t){return{\u0275providers:Zh(0,t),\u0275fromNgModule:!0}}function Zh(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return Cu(r,g=>{const v=g;$d(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Pm(c,d),s}function Pm(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Yh(c,d=>{r(d,a)})}}function $d(t,r,s,a){if(!(t=at(t)))return!1;let c=null,d=Sn(t);const g=!d&&An(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=Sn(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of C)$d(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let N;a.add(c);try{Cu(d.imports,V=>{$d(V,r,s,a)&&(N||=[],N.push(V))})}finally{}void 0!==N&&Pm(N,r)}if(!v){const N=Is(c)||(()=>new c);r({provide:c,useFactory:N,deps:wn},c),r({provide:Mp,useValue:c,multi:!0},c),r({provide:pl,useValue:()=>ve(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const N=t;Yh(C,V=>{r(V,N)})}}}return c!==t&&void 0!==t.providers}function Yh(t,r){for(let s of t)Rn(s)&&(s=s.\u0275providers),Array.isArray(s)?Yh(s,r):r(s)}const gv=Pe({provide:String,useValue:Pe});function Lc(t){return null!==t&&"object"==typeof t&&gv in t}function Pu(t){return"function"==typeof t}const Xh=new Kr("Set Injector scope."),Hd={},mv={};let zd;function Jh(){return void 0===zd&&(zd=new xp),zd}class $a{}class Gd extends $a{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nf(r,g=>this.processProvider(g)),this.records.set(qh,uc(void 0,this)),c.has("environment")&&this.records.set($a,uc(void 0,this));const d=this.records.get(Xh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Mp.multi,wn,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=te(this),a=_r(void 0);try{return r()}finally{te(s),_r(a)}}get(r,s=gt,a=bt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ao))return r[ao](this);a=_t(a);const d=te(this),g=_r(void 0);try{if(!(a&bt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const N=function Op(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kr}(r)&&ln(r);C=N&&this.injectableDefInScope(N)?uc(ef(r),Hd):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&bt.Self?Jh():this.parent).get(r,s=a&bt.Optional&&s===gt?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Xt]=v[Xt]||[]).unshift(We(r)),d)throw v;return function Ar(t,r,s,a){const c=t[Xt];throw r[Ee]&&c.unshift(r[Ee]),t.message=function Si(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=We(r);if(Array.isArray(r))c=r.map(We).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):We(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(un,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Xt]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{_r(g),te(d)}}resolveInjectorInitializers(){const r=te(this),s=_r(void 0);try{const c=this.get(pl.multi,wn,bt.Self);for(const d of c)d()}finally{te(r),_r(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(We(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processProvider(r){let s=Pu(r=at(r))?r:at(r&&r.provide);const a=function tf(t){return Lc(t)?uc(void 0,t.useValue):uc(ed(t),Hd)}(r);if(Pu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=uc(void 0,Hd,!0),c.factory=()=>Kt(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Hd&&(s.value=mv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Pp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=at(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function ef(t){const r=ln(t),s=null!==r?r.factory:Is(t);if(null!==s)return s;if(t instanceof Kr)throw new ht(204,!1);if(t instanceof Function)return function Rp(t){const r=t.length;if(r>0)throw function Xu(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new ht(204,!1);const s=function Yr(t){return t&&(t[tr]||t[Un])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ht(204,!1)}function ed(t,r,s){let a;if(Pu(t)){const c=at(t);return Is(c)||ef(c)}if(Lc(t))a=()=>at(t.useValue);else if(function Qh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Kt(t.deps||[]));else if(function gl(t){return!(!t||!t.useExisting)}(t))a=()=>ve(at(t.useExisting));else{const c=at(t&&(t.useClass||t.provide));if(!function Np(t){return!!t.deps}(t))return Is(c)||ef(c);a=()=>new c(...Kt(t.deps))}return a}function uc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function nf(t,r){for(const s of t)Array.isArray(s)?nf(s,r):s&&Rn(s)?nf(s.\u0275providers,r):r(s)}const km=new Kr("AppId",{providedIn:"root",factory:()=>Lm}),Lm="ng",Wd=new Kr("Platform Initializer"),qd=new Kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bo=new Kr("CSP nonce",{providedIn:"root",factory:()=>function Oc(){if(void 0!==Bh)return Bh;if(typeof document<"u")return document;throw new ht(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jp=(t,r,s)=>null;function Ou(t,r,s=!1){return jp(t,r,s)}class qp{}class Um{}class wv{resolveComponentFactory(r){throw function Iv(t){const r=Error(`No component factory found for ${We(t)}.`);return r.ngComponent=t,r}(r)}}let id=(()=>{class t{static#e=this.NULL=new wv}return t})();function Dv(){return Uc(di(),rt())}function Uc(t,r){return new Yd(zs(t,r))}let Yd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Dv}return t})();function Zp(t){return t instanceof Yd?t.nativeElement:t}class Bm{}let Yp=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Vm(){const t=rt(),s=os(di().index,t);return(Nr(s)?s:t)[qt]}()}return t})(),Qp=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>null})}return t})();class df{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const hf=new df("16.2.9"),Bc={};function ff(t,r=null,s=null,a){const c=zm(t,r,s,a);return c.resolveInjectorInitializers(),c}function zm(t,r=null,s=null,a,c=new Set){const d=[s||wn,Nm(t)];return a=a||("object"==typeof t?void 0:We(t)),new Gd(d,r||Jh(),a||null,c)}let du=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=gt;static#t=this.NULL=new xp;static create(s,a){if(Array.isArray(s))return ff({name:""},a,s,"");{const c=s.name??"";return ff({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=Cn({token:t,providedIn:"any",factory:()=>ve(qh)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function eg(t){return t.ngOriginalError}class hc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&eg(r);for(;s&&eg(s);)s=eg(s);return s||null}}function gf(t){return r=>{setTimeout(t,void 0,r)}}const ku=class qm extends S.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=gf(d),c&&(c=gf(c)),g&&(g=gf(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof oe.w0&&r.add(v),v}};function Km(...t){}class Os{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1),typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Cv(){const t="function"==typeof It.requestAnimationFrame;let r=It[t?"requestAnimationFrame":"setTimeout"],s=It[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function rg(t){const r=()=>{!function Sv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ig(t),t.isCheckStableRunning=!0,Xd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ig(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function ug(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return mf(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),sg(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return mf(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),sg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ig(t),Xd(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new ht(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ng,Km,Km);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ng={};function Xd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ig(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sg(t){t._nesting--,Xd(t)}class og{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const ag=new Kr("",{providedIn:"root",factory:Zm});function Zm(){const t=dt(Os);let r=!0;return function ze(...t){const r=(0,Ce.yG)(t),s=(0,Ce._6)(t,1/0),a=t;return a.length?1===a.length?(0,me.Xf)(a[0]):(0,Te.J)(s)((0,Ie.D)(a,r)):J.E}(new le.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new le.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Os.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(et()))}function fc(t){return t instanceof Function?t():t}let Jd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function eh(t){for(;t;){t[mn]|=64;const r=fa(t);if(ae(t)&&!r)return t;t=r}return null}const yf=new Kr("",{providedIn:"root",factory:()=>!1});let ad=null;function Jm(t,r){return t[r]??If()}function ey(t,r){const s=If();s.producerNode?.length&&(t[r]=ad,s.lView=t,ad=ty())}const gg={...qa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eh(t.lView)},lView:null};function ty(){return Object.create(gg)}function If(){return ad??=ty(),ad}const Jn={};function Ef(t){ny(Ln(),rt(),zr()+t,!1)}function ny(t,r,s,a){if(!a)if(3==(3&r[mn])){const d=t.preOrderCheckHooks;null!==d&&Ai(r,d,s)}else{const d=t.preOrderHooks;null!==d&&hi(r,d,0,s)}Po(s)}function pc(t,r=bt.Default){const s=rt();return null===s?ve(t,r):vd(di(),s,at(t),r)}function ry(){throw new Error("invalid")}function th(t,r,s,a,c,d,g,v,C,N,V){const Q=r.blueprint.slice();return Q[Ir]=c,Q[mn]=140|a,(null!==N||t&&2048&t[mn])&&(Q[mn]|=2048),Vu(Q),Q[Gr]=Q[js]=t,Q[Rr]=s,Q[ys]=g||t&&t[ys],Q[qt]=v||t&&t[qt],Q[ds]=C||t&&t[ds]||null,Q[Oi]=d,Q[Ss]=function U(){return D++}(),Q[Yi]=V,Q[ho]=N,Q[ui]=2==r.type?t[ui]:Q,Q}function hu(t,r,s,a,c){let d=t.data[r];if(null===d)d=function wf(t,r,s,a,c){const d=_u(),g=Ja(),C=t.data[r]=function ay(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function qo(){return null!==In.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function Zo(){return In.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function _o(){const t=In.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return xs(d,!0),d}function $c(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function sy(t,r,s,a,c){const d=Jm(r,Ys),g=zr(),v=2&a;try{Po(-1),v&&r.length>Zt&&ny(t,r,Zt,!1),yo(v?2:0,c);const N=v?d:null,V=na(N);try{null!==N&&(N.dirty=!1),s(a,c)}finally{ra(N,V)}}finally{v&&null===r[Ys]&&ey(r,Ys),Po(g),yo(v?3:1,c)}}function mg(t,r,s){if(Ao(r)){const a=kn(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{kn(a)}}}function yg(t,r,s){Ts()&&(function Lv(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;k(s)&&function fy(t,r,s){const a=zs(r,t),c=nh(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=ks(t,th(t,c,null,g,a,r,null,t[ys].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ta(s,r),zi(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],N=ko(r,t,v,s);zi(N,r),null!==g&&py(0,v-c,N,C,0,g),Y(C)&&(os(s.index,r)[Rr]=ko(r,t,v,s))}}(t,r,s,zs(s,r)),64==(64&s.flags)&&ly(t,r,s))}function vg(t,r,s=zs){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function nh(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=rh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function rh(t,r,s,a,c,d,g,v,C,N,V){const Q=Zt+a,ge=Q+c,Se=function _g(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Jn);return s}(Q,ge),Je="function"==typeof N?N():N;return Se[St]={type:t,blueprint:Se,template:s,queries:null,viewQuery:v,declTNode:r,data:Se.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:Je,incompleteFirstPass:!1,ssrId:V}}let Df=t=>null;function ih(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Dg(s,r,c,d):a.hasOwnProperty(c)&&Dg(s,r,a[c],d)}return s}function Dg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function oo(t,r,s,a,c,d,g,v){const C=zs(r,s);let V,N=r.inputs;!v&&null!=N&&(V=N[a])?(Ng(t,s,V,a,c),k(r)&&function bg(t,r){const s=os(r,t);16&s[mn]||(s[mn]|=64)}(s,r.index)):3&r.type&&(a=function uy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function Cg(t,r,s,a){if(Ts()){const c=null===a?null:{"":-1},d=function Uv(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(To(r,g.selectors,!1))if(a||(a=[]),Y(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),bf(t,r,v.length)}else a.unshift(g),bf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Sg(t,r,s,g,c,v),c&&function dy(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ht(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=ft(s.mergedAttrs,s.attrs)}function Sg(t,r,s,a,c,d){for(let N=0;N<a.length;N++)ja(Ta(s,r),t,a[N].type);!function Bv(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let N=0;N<a.length;N++){const V=a[N];V.providersResolver&&V.providersResolver(V)}let g=!1,v=!1,C=$c(t,r,a.length,null);for(let N=0;N<a.length;N++){const V=a[N];s.mergedAttrs=ft(s.mergedAttrs,V.hostAttrs),hy(t,s,r,C,V),Ag(C,V,c),null!==V.contentQueries&&(s.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(s.flags|=64);const Q=V.type.prototype;!g&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(Q.ngOnChanges||Q.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Tg(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,N=null;for(let V=r.directiveStart;V<c;V++){const Q=d[V],ge=s?s.get(Q):null,Je=ge?ge.outputs:null;C=ih(Q.inputs,V,C,ge?ge.inputs:null),N=ih(Q.outputs,V,N,Je);const mt=null===C||null===g||jn(r)?null:sh(C,V,g);v.push(mt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=N}(t,s,d)}function ly(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function m(){return In.lFrame.currentDirectiveIndex}();try{Po(d);for(let v=a;v<c;v++){const C=t.data[v],N=r[v];b(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Fv(C,N)}}finally{Po(-1),b(g)}}function Fv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Ag(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Y(r)&&(s[""]=t)}}function hy(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Is(c.type)),g=new Mi(d,Y(c),pc);t.blueprint[a]=g,s[a]=g,function kv(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function cy(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,$c(t,s,c.hostVars,Jn),c)}function xa(t,r,s,a,c,d){const g=zs(t,r);!function Or(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?pt(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[qt],g,d,t.value,s,a,c)}function py(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Mg(a,s,g[v++],g[v++],g[v++])}function Mg(t,r,s,a,c){const d=kn(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{kn(d)}}function sh(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function gy(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function gs(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];X(s[a]),g.contentQueries(2,r[d],d)}}}function ks(t,r){return t[$o]?t[lo][Zi]=r:t[$o]=r,t[lo]=r,r}function Ha(t,r,s){X(0);const a=kn(null);try{r(t,s)}finally{kn(a)}}function Vv(t){return t[So]||(t[So]=[])}function xg(t){return t.cleanup||(t.cleanup=[])}function Rg(t,r){const s=t[ds],a=s?s.get(hc,null):null;a&&a.handleError(r)}function Ng(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Mg(t.data[g],r[g],a,v,c)}}function fu(t,r,s){const a=Za(r,t);!function lm(t,r,s){t.setValue(r,s)}(t[qt],a,s)}function $v(t,r){const s=os(r,t),a=s[St];!function EI(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Ir];null!==c&&null===s[Yi]&&(s[Yi]=Ou(c,s[ds])),xi(a,s,s[Rr])}function xi(t,r,s){Mt(r);try{const a=t.viewQuery;null!==a&&Ha(1,a,s);const c=t.template;null!==c&&sy(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gs(t,r),t.staticViewQueries&&Ha(2,t.viewQuery,s);const d=t.components;null!==d&&function wI(t,r){for(let s=0;s<r.length;s++)$v(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[mn]&=-5,fs()}}let my=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function st(t,r,s){const a=Object.create(Dr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Hs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!xo(a))return;a.hasRun=!0;const g=na(a);try{a.cleanupFn(),a.cleanupFn=yr,a.fn(c)}finally{ra(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,N=>{this.all.has(N)&&this.queue.set(N,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t})}return t})();function oh(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=At(c,v):2==d&&(a=At(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Cf(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(ii(d)),Ei(d)&&Hv(d,a);const g=s.type;if(8&g)Cf(t,r,s.child,a);else if(32&g){const v=Hl(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=vm(r,s);if(Array.isArray(v))a.push(...v);else{const C=fa(r[ui]);Cf(C[St],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function Hv(t,r){for(let s=pi;s<t.length;s++){const a=t[s],c=a[St].firstChild;null!==c&&Cf(a[St],a,c,r)}t[Qi]!==t[Ir]&&r.push(t[Qi])}function ah(t,r,s,a=!0){const c=r[ys],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{zv(t,r,t.template,s)}catch(C){throw a&&Rg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function zv(t,r,s,a){const c=r[mn];if(256!=(256&c)){r[ys].effectManager?.flush(),Mt(r);try{Vu(r),function es(t){return In.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&sy(t,r,s,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&Ai(r,N,null)}else{const N=t.preOrderHooks;null!==N&&hi(r,N,0,null),Yc(r,0)}if(function TI(t){for(let r=zl(t);null!==r;r=ap(r)){if(!r[vs])continue;const s=r[fo];for(let a=0;a<s.length;a++){lr(s[a])}}}(r),Gv(r,2),null!==t.contentQueries&&gs(t,r),g){const N=t.contentCheckHooks;null!==N&&Ai(r,N)}else{const N=t.contentHooks;null!==N&&hi(r,N,1),Yc(r,1)}!function iy(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Jm(r,$i);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Po(~d);else{const g=d,v=s[++c],C=s[++c];T(v,g),a.dirty=!1;const N=na(a);try{C(2,r[g])}finally{ra(a,N)}}}}finally{null===r[$i]&&ey(r,$i),Po(-1)}}(t,r);const v=t.components;null!==v&&Pg(r,v,0);const C=t.viewQuery;if(null!==C&&Ha(2,C,a),g){const N=t.viewCheckHooks;null!==N&&Ai(r,N)}else{const N=t.viewHooks;null!==N&&hi(r,N,2),Yc(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[mn]&=-73,Nt(r)}finally{fs()}}}function Gv(t,r){for(let s=zl(t);null!==s;s=ap(s))for(let a=pi;a<s.length;a++)Wv(s[a],r)}function bI(t,r,s){Wv(os(r,t),s)}function Wv(t,r){if(!function Ot(t){return 128==(128&t[mn])}(t))return;const s=t[St],a=t[mn];if(80&a&&0===r||1024&a||2===r)zv(s,t,s.template,t[Rr]);else if(t[ms]>0){Gv(t,1);const c=s.components;null!==c&&Pg(t,c,1)}}function Pg(t,r,s){for(let a=0;a<r.length;a++)bI(t,r[a],s)}class gc{get rootNodes(){const r=this._lView,s=r[St];return Cf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(r){this._lView[Rr]=r}get destroyed(){return 256==(256&this._lView[mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Gr];if(Ei(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(kh(r,a),rl(s,a))}this._attachedToViewContainer=!1}lp(this._lView[St],this._lView)}onDestroy(r){!function Qa(t,r){if(256==(256&t[mn]))throw new ht(911,!1);null===t[Zs]&&(t[Zs]=[]),t[Zs].push(r)}(this._lView,r)}markForCheck(){eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[mn]&=-129}reattach(){this._lView[mn]|=128}detectChanges(){ah(this._lView[St],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cp(t,r){cu(t,r,r[qt],2,null,null)}(this._lView[St],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=r}}class qv extends gc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ah(r[St],r,r[Rr],!1)}checkNoChanges(){}get context(){return null}}class Hc extends id{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=An(r);return new Dl(s,this.ngModule)}}function wl(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class yy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=_t(a);const c=this.injector.get(r,Bc,a);return c!==Bc||s===Bc?c:this.parentInjector.get(r,s,a)}}class Dl extends Um{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=wl(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return wl(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Pa(t){return t.map(Na).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof $a?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new yy(r,d):r,v=g.get(Bm,null);if(null===v)throw new ht(407,!1);const Q={rendererFactory:v,sanitizer:g.get(Qp,null),effectManager:g.get(my,null),afterRenderEventManager:g.get(Jd,null)},ge=v.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",Je=a?function Ig(t,r,s,a){const d=a.get(yf,!1)||s===On.ShadowDom,g=t.selectRootElement(r,d);return function oy(t){Df(t)}(g),g}(ge,a,this.componentDef.encapsulation,g):Gl(ge,Se,function CI(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Se)),hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ct=null;null!==Je&&(ct=Ou(Je,g,!0));const nr=rh(0,null,null,1,0,null,null,null,null,null,null),br=th(null,nr,null,hn,null,null,Q,ge,g,null,ct);let Ri,Wa;Mt(br);try{const Cl=this.componentDef;let zf,uI=null;Cl.findHostDirectiveDefs?(zf=[],uI=new Map,Cl.findHostDirectiveDefs(Cl,zf,uI),zf.push(Cl)):zf=[Cl];const JC=function Zv(t,r){const s=t[St],a=Zt;return t[a]=r,hu(s,a,2,"#host",null)}(br,Je),eS=function vy(t,r,s,a,c,d,g){const v=c[St];!function _y(t,r,s,a){for(const c of t)r.mergedAttrs=ft(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(oh(r,r.mergedAttrs,!0),null!==s&&Pc(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=Ou(r,c[ds]));const N=d.rendererFactory.createRenderer(r,s);let V=16;s.signals?V=4096:s.onPush&&(V=64);const Q=th(c,nh(s),null,V,c[t.index],t,d,N,null,null,C);return v.firstCreatePass&&bf(v,t,a.length-1),ks(c,Q),c[t.index]=Q}(JC,Je,Cl,zf,br,Q,ge);Wa=_n(nr,Zt),Je&&function Yv(t,r,s,a){if(a)pe(t,s,["ng-version",hf.full]);else{const{attrs:c,classes:d}=function Co(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!mr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&pe(t,s,c),d&&d.length>0&&Zl(t,s,d.join(" "))}}(ge,Cl,Je,a),void 0!==s&&function ud(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Wa,this.ngContentSelectors,s),Ri=function Sf(t,r,s,a,c,d){const g=di(),v=c[St],C=zs(g,c);Sg(v,c,g,s,null,a);for(let V=0;V<s.length;V++)zi(ko(c,v,g.directiveStart+V,g),c);ly(v,c,g),C&&zi(C,c);const N=ko(c,v,g.directiveStart+g.componentOffset,g);if(t[Rr]=c[Rr]=N,null!==d)for(const V of d)V(N,r);return mg(v,g,t),N}(eS,Cl,zf,uI,br,[Og]),xi(nr,br,null)}finally{fs()}return new Kv(this.componentType,Ri,Uc(Wa,br),br,Wa)}}class Kv extends qp{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new qv(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Ng(d[St],d,c,r,s),this.previousInputValues.set(r,s),eh(os(this._tNode.index,d))}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Og(){const t=di();Eu(rt()[St],t)}function Af(t){let r=function cd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Y(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ht(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Mf(t.inputs),g.inputTransforms=Mf(t.inputTransforms),g.declaredInputs=Mf(t.declaredInputs),g.outputs=Mf(t.outputs);const v=c.hostBindings;v&&Iy(t,v);const C=c.viewQuery,N=c.contentQueries;if(C&&Qv(t,C),N&&Xv(t,N),nt(t.inputs,c.inputs),nt(t.declaredInputs,c.declaredInputs),nt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),nt(g.inputTransforms,c.inputTransforms)),Y(c)&&c.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===Af&&(s=!1)}}r=Object.getPrototypeOf(r)}!function kg(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ft(c.hostAttrs,s=ft(s,c.hostAttrs))}}(a)}function Mf(t){return t===xr?{}:t===wn?[]:t}function Qv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Xv(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Iy(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function lh(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function ld(t){return!!Nf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Nf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Ty(t,r,s,a){const c=rt();return Fs(c,tu(),r)&&(Ln(),xa(bi(),c,t,r,s,a)),Ty}function dh(t,r,s,a){return Fs(t,tu(),s)?r+pt(s)+a:Jn}function vc(t,r,s,a,c,d){const v=function dd(t,r,s,a){const c=Fs(t,r,s);return Fs(t,r+1,a)||c}(t,function Ko(){return In.lFrame.bindingIndex}(),s,c);return eo(2),v?r+pt(s)+a+pt(c)+d:Jn}function h_(t,r,s,a,c,d,g,v){const C=rt(),N=Ln(),V=t+Zt,Q=N.firstCreatePass?function kI(t,r,s,a,c,d,g,v,C){const N=r.consts,V=hu(r,t,4,g||null,Yt(N,v));Cg(r,s,V,Yt(N,C)),Eu(r,V);const Q=V.tView=rh(2,V,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,V),Q.queries=r.queries.embeddedTView(V)),V}(V,N,C,r,s,a,c,d,g):N.data[V];xs(Q,!1);const ge=f_(N,C,Q,t);Ea()&&Rd(N,C,ge,Q),zi(ge,C),ks(C,C[V]=gy(ge,C,ge,Q)),F(Q)&&yg(N,C,Q),null!=g&&vg(C,Q,v)}let f_=function My(t,r,s,a){return aa(!0),r[qt].createComment("")};function Gg(t,r,s){const a=rt();return Fs(a,tu(),r)&&oo(Ln(),bi(),a,t,r,a[qt],s,!1),Gg}function pd(t,r,s,a,c){const g=c?"class":"style";Ng(t,s,r.inputs[g],g,a)}function Wg(t,r,s,a){const c=rt(),d=Ln(),g=Zt+t,v=c[qt],C=d.firstCreatePass?function y_(t,r,s,a,c,d){const g=r.consts,C=hu(r,t,2,a,Yt(g,c));return Cg(r,s,C,Yt(g,d)),null!==C.attrs&&oh(C,C.attrs,!1),null!==C.mergedAttrs&&oh(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],N=v_(d,c,C,v,r,t);c[g]=N;const V=F(C);return xs(C,!0),Pc(v,N,C),32!=(32&C.flags)&&Ea()&&Rd(d,c,N,C),0===function Wo(){return In.lFrame.elementDepthCount}()&&zi(N,c),function La(){In.lFrame.elementDepthCount++}(),V&&(yg(d,c,C),mg(d,C,c)),null!==a&&vg(c,C),Wg}function qg(){let t=di();Ja()?function eu(){In.lFrame.isParent=!1}():(t=t.parent,xs(t,!1));const r=t;(function ju(t){return In.skipHydrationRootTNode===t})(r)&&function Oe(){In.skipHydrationRootTNode=null}(),function vu(){In.lFrame.elementDepthCount--}();const s=Ln();return s.firstCreatePass&&(Eu(s,t),Ao(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ru(t){return 0!=(8&t.flags)}(r)&&pd(s,r,rt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Qc(t){return 0!=(16&t.flags)}(r)&&pd(s,r,rt(),r.stylesWithoutHost,!1),qg}function xy(t,r,s,a){return Wg(t,r,s,a),qg(),xy}let v_=(t,r,s,a,c,d)=>(aa(!0),Gl(a,c,function ps(){return In.lFrame.currentNamespace}()));function u(){return rt()}function l(t){return!!t&&"function"==typeof t.then}function f(t){return!!t&&"function"==typeof t.subscribe}function w(t,r,s,a){const c=rt(),d=Ln(),g=di();return function W(t,r,s,a,c,d,g){const v=F(a),N=t.firstCreatePass&&xg(t),V=r[Rr],Q=Vv(r);let ge=!0;if(3&a.type||g){const mt=zs(a,r),Bt=g?g(mt):mt,hn=Q.length,ct=g?br=>g(ii(br[a.index])):a.index;let nr=null;if(!g&&v&&(nr=function O(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[So],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==nr)(nr.__ngLastListenerFn__||nr).__ngNextListenerFn__=d,nr.__ngLastListenerFn__=d,ge=!1;else{d=Ne(a,r,V,d,!1);const br=s.listen(Bt,c,d);Q.push(d,br),N&&N.push(c,ct,hn,hn+1)}}else d=Ne(a,r,V,d,!1);const Se=a.outputs;let Je;if(ge&&null!==Se&&(Je=Se[c])){const mt=Je.length;if(mt)for(let Bt=0;Bt<mt;Bt+=2){const Ri=r[Je[Bt]][Je[Bt+1]].subscribe(d),Wa=Q.length;Q.push(d,Ri),N&&N.push(c,a.index,Wa,-(Wa+1))}}}(d,c,c[qt],g,t,r,a),w}function ie(t,r,s,a){try{return yo(6,r,s),!1!==s(a)}catch(c){return Rg(t,c),!1}finally{yo(7,r,s)}}function Ne(t,r,s,a,c){return function d(g){if(g===Function)return a;eh(t.componentOffset>-1?os(t.index,r):r);let C=ie(r,s,a,g),N=d.__ngNextListenerFn__;for(;N;)C=ie(r,s,N,g)&&C,N=N.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function qe(t=1){return function oa(t){return(In.lFrame.contextLView=function Iu(t,r){for(;t>0;)r=r[js],t--;return r}(t,In.lFrame.contextLView))[Rr]}(t)}function ir(t,r,s){return Br(t,"",r,"",s),ir}function Br(t,r,s,a,c){const d=rt(),g=dh(d,r,s,a);return g!==Jn&&oo(Ln(),bi(),d,t,g,d[qt],c,!1),Br}function Ny(t,r){return t<<17|r<<2}function gd(t){return t>>17&32767}function __(t){return 2|t}function Ih(t){return(131068&t)>>2}function I_(t,r){return-131069&t|r<<2}function E_(t){return 1|t}function jI(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?gd(d):Ih(d),C=!1;for(;0!==v&&(!1===C||g);){const V=t[v+1];j0(t[v],r)&&(C=!0,t[v+1]=a?E_(V):__(V)),v=a?gd(V):Ih(V)}C&&(t[s+1]=a?__(d):E_(d))}function j0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ha(t,r)>=0}const Do={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $I(t){return t.substring(Do.key,Do.keyEnd)}function HI(t,r){const s=Do.textEnd;return s===r?-1:(r=Do.keyEnd=function G0(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Do.key=r,s),Ff(t,r,s))}function Ff(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function w_(t,r){return function Ec(t,r,s,a){const c=rt(),d=Ln(),g=eo(2);d.firstUpdatePass&&QI(d,t,g,a),r!==Jn&&Fs(c,g,r)&&JI(d,d.data[zr()],c,c[qt],t,c[g+1]=function nD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=We(oc(t)))),t}(r,s),a,g)}(t,r,null,!0),w_}function ZI(t){!function wc(t,r,s,a){const c=Ln(),d=eo(2);c.firstUpdatePass&&QI(c,null,d,a);const g=rt();if(s!==Jn&&Fs(g,d,s)){const v=c.data[zr()];if(tE(v,a)&&!YI(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=At(C,s||"")),pd(c,v,g,s,a)}else!function tD(t,r,s,a,c,d,g,v){c===Jn&&(c=wn);let C=0,N=0,V=0<c.length?c[0]:null,Q=0<d.length?d[0]:null;for(;null!==V||null!==Q;){const ge=C<c.length?c[C+1]:void 0,Se=N<d.length?d[N+1]:void 0;let mt,Je=null;V===Q?(C+=2,N+=2,ge!==Se&&(Je=Q,mt=Se)):null===Q||null!==V&&V<Q?(C+=2,Je=V):(N+=2,Je=Q,mt=Se),null!==Je&&JI(t,r,s,a,Je,mt,g,v),V=C<c.length?c[C]:null,Q=N<d.length?d[N]:null}}(c,v,g,g[qt],g[d+1],g[d+1]=function J0(t,r,s){if(null==s||""===s)return wn;const a=[],c=oc(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}(eD,Kc,t,!0)}function Kc(t,r){for(let s=function H0(t){return function GI(t){Do.key=0,Do.keyEnd=0,Do.value=0,Do.valueEnd=0,Do.textEnd=t.length}(t),HI(t,Ff(t,0,Do.textEnd))}(r);s>=0;s=HI(r,s))wo(t,$I(r),!0)}function YI(t,r){return r>=t.expandoStartIndex}function QI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[zr()],g=YI(t,s);tE(d,a)&&null===r&&!g&&(r=!1),r=function Z0(t,r,s,a){const c=function R(t){const r=In.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Zg(s=D_(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=D_(c,t,r,s,a),null===d){let C=function Y0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ih(a))return t[gd(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=D_(null,t,r,C[1],a),C=Zg(C,r.attrs,a),function Q0(t,r,s,a){t[gd(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function X0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Zg(a,t[d].hostAttrs,s);return Zg(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function B0(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=gd(g),C=Ih(g);t[a]=s;let V,N=!1;if(Array.isArray(s)?(V=s[1],(null===V||ha(s,V)>0)&&(N=!0)):V=s,c)if(0!==C){const ge=gd(t[v+1]);t[a+1]=Ny(ge,v),0!==ge&&(t[ge+1]=I_(t[ge+1],a)),t[v+1]=function F0(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Ny(v,0),0!==v&&(t[v+1]=I_(t[v+1],a)),v=a;else t[a+1]=Ny(C,0),0===v?v=a:t[C+1]=I_(t[C+1],a),C=a;N&&(t[a+1]=__(t[a+1])),jI(t,V,a,!0),jI(t,V,a,!1),function V0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&ha(d,r)>=0&&(s[a+1]=E_(s[a+1]))}(r,V,t,a,d),g=Ny(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function D_(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Zg(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Zg(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wo(t,g,!!s||r[++d]))}return void 0===t?null:t}function eD(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&wo(t,a,s)}function JI(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,N=C[v+1],V=function U0(t){return 1==(1&t)}(N)?eE(C,r,s,c,Ih(N),g):void 0;Py(V)||(Py(d)||function L0(t){return 2==(2&t)}(N)&&(d=eE(C,null,s,c,v,g)),function rv(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Vl.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Vl.Important),t.setStyle(s,a,c,d))}}(a,g,Za(zr(),s),c,d))}function eE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],N=Array.isArray(C),V=N?C[1]:C,Q=null===V;let ge=s[c+1];ge===Jn&&(ge=Q?wn:void 0);let Se=Q?Ju(ge,a):V===a?ge:void 0;if(N&&!Py(Se)&&(Se=Ju(C,a)),Py(Se)&&(v=Se,g))return v;const Je=t[c+1];c=g?gd(Je):Ih(Je)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=Ju(C,a))}return v}function Py(t){return void 0!==t}function tE(t,r){return 0!=(t.flags&(r?8:16))}function nE(t,r=""){const s=rt(),a=Ln(),c=t+Zt,d=a.firstCreatePass?hu(a,c,1,r,null):a.data[c],g=rE(a,s,d,r,t);s[c]=g,Ea()&&Rd(a,s,g,d),xs(d,!1)}let rE=(t,r,s,a,c)=>(aa(!0),function Oh(t,r){return t.createText(r)}(r[qt],a));function T_(t){return Oy("",t,""),T_}function Oy(t,r,s){const a=rt(),c=dh(a,t,r,s);return c!==Jn&&fu(a,zr(),c),Oy}function b_(t,r,s,a,c){const d=rt(),g=vc(d,t,r,s,a,c);return g!==Jn&&fu(d,zr(),g),b_}const Eh=void 0;var TD=["en",[["a","p"],["AM","PM"],Eh],[["AM","PM"],Eh,Eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eh,"{1} 'at' {0}",Eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Uf={};function C_(t){const r=function bD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=DE(r);if(s)return s;const a=r.split("-")[0];if(s=DE(a),s)return s;if("en"===a)return TD;throw new ht(701,!1)}function wE(t){return C_(t)[Bf.PluralCase]}function DE(t){return t in Uf||(Uf[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Uf[t]}var Bf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bf||{});const Vf="en-US";let TE=Vf;function M_(t,r,s,a,c){if(t=at(t),Array.isArray(t))for(let d=0;d<t.length;d++)M_(t[d],r,s,a,c);else{const d=Ln(),g=rt(),v=di();let C=Pu(t)?t:at(t.provide);const N=ed(t),V=1048575&v.providerIndexes,Q=v.directiveStart,ge=v.providerIndexes>>20;if(Pu(t)||!t.multi){const Se=new Mi(N,c,pc),Je=R_(C,r,c?V:V+ge,Q);-1===Je?(ja(Ta(v,g),d,C),x_(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Se),g.push(Se)):(s[Je]=Se,g[Je]=Se)}else{const Se=R_(C,r,V+ge,Q),Je=R_(C,r,V,V+ge),Bt=Je>=0&&s[Je];if(c&&!Bt||!c&&!(Se>=0&&s[Se])){ja(Ta(v,g),d,C);const hn=function DT(t,r,s,a,c){const d=new Mi(t,s,pc);return d.multi=[],d.index=r,d.componentProviders=0,ZE(d,c,a&&!s),d}(c?wT:ET,s.length,c,a,N);!c&&Bt&&(s[Je].providerFactory=hn),x_(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(hn),g.push(hn)}else x_(d,t,Se>-1?Se:Je,ZE(s[c?Je:Se],N,!c&&a));!c&&a&&Bt&&s[Je].componentProviders++}}}function x_(t,r,s,a){const c=Pu(r),d=function Om(t){return!!t.useClass}(r);if(c||d){const C=(d?at(r.useClass):r).prototype.ngOnDestroy;if(C){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const V=N.indexOf(s);-1===V?N.push(s,[a,C]):N[V+1].push(a,C)}else N.push(s,C)}}}function ZE(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function R_(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function ET(t,r,s,a){return N_(this.multi,[])}function wT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=ko(s,s[St],this.providerFactory.index,a);d=v.slice(0,g),N_(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],N_(c,d);return d}function N_(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function YE(t,r=[]){return s=>{s.providersResolver=(a,c)=>function IT(t,r,s){const a=Ln();if(a.firstCreatePass){const c=Y(t);M_(s,a.data,a.blueprint,c,!0),M_(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class wh{}class QE{}function TT(t,r){return new P_(t,r??null,[])}class P_ extends wh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hc(this);const c=ji(r);this._bootstrapComponents=fc(c.bootstrap),this._r3Injector=zm(r,s,[{provide:wh,useValue:this},{provide:id,useValue:this.componentFactoryResolver},...a],We(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class O_ extends QE{constructor(r){super(),this.moduleType=r}create(r){return new P_(this.moduleType,r,[])}}class XE extends wh{constructor(r){super(),this.componentFactoryResolver=new Hc(this),this.instance=null;const s=new Gd([...r.providers,{provide:wh,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],r.parent||Jh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function JE(t,r,s=null){return new XE({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let CT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Zh(0,s.type),c=a.length>0?JE([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Cn({token:t,providedIn:"environment",factory:()=>new t(ve($a))})}return t})();function ew(t){t.getStandaloneInjector=r=>r.get(CT).getOrCreateStandaloneInjector(t)}function aw(t,r,s,a){return function uw(t,r,s,a,c,d){const g=r+s;return Fs(t,g,c)?function mc(t,r,s){return t[r]=s}(t,g+1,d?a.call(d,c):a(c)):function tm(t,r){const s=t[r];return s===Jn?void 0:s}(t,g+1)}(rt(),function Fi(){const t=In.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),t,r,s,a)}function QT(){return this._results[Symbol.iterator]()}class L_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ku)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=L_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=QT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function nl(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JT(t,r,s,a=!0){const c=r[St];if(function ev(t,r,s,a){const c=pi+a,d=s.length;a>0&&(s[c-1][Zi]=r),a<d-pi?(r[Zi]=s[c],Qu(s,pi+a,r)):(s.push(r),r[Zi]=null),r[Gr]=s;const g=r[Ho];null!==g&&s!==g&&function fm(t,r){const s=t[fo];r[ui]!==r[Gr][Gr][ui]&&(t[vs]=!0),null===s?t[fo]=[r]:s.push(r)}(g,r);const v=r[Wr];null!==v&&v.insertView(t),r[mn]|=128}(c,r,t,s),a){const d=Fh(s,t),g=r[qt],v=xu(g,t[Qi]);null!==v&&function dm(t,r,s,a,c,d){a[Ir]=c,a[Oi]=r,cu(t,a,s,1,c,d)}(c,t[Oi],g,r,v,d)}}let rm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nb}return t})();const eb=rm,tb=class extends eb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function XT(t,r,s,a){const c=r.tView,v=th(t,c,s,4096&t[mn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Ho]=t[r.index];const N=t[Wr];return null!==N&&(v[Wr]=N.createEmbeddedView(c)),xi(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new gc(c)}};function nb(){return By(di(),rt())}function By(t,r){return 4&t.type?new tb(r,t,Uc(t,r)):null}let jy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ub}return t})();function ub(){return _w(di(),rt())}const cb=jy,yw=class extends cb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ca(this._hostTNode,this._hostLView);if(Da(r)){const s=ua(r,this._hostLView),a=Oo(r);return new no(s[St].data[a+8],s)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=vw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-pi}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Yu(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const mt=s||{};v=mt.index,a=mt.injector,c=mt.projectableNodes,d=mt.environmentInjector||mt.ngModuleRef}const C=g?r:new Dl(An(r)),N=a||this.parentInjector;if(!d&&null==C.ngModule){const Bt=(g?N:this.parentInjector).get($a,null);Bt&&(d=Bt)}An(C.componentType??{});const Se=C.create(N,c,null,d);return this.insertImpl(Se.hostView,v,false),Se}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function _a(t){return Ei(t[Gr])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const N=c[Gr],V=new yw(N,N[Oi],N[Gr]);V.detach(V.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return JT(v,c,g,!a),r.attachToViewContainerRef(),Qu(F_(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=vw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=kh(this._lContainer,s);a&&(rl(F_(this._lContainer),s),lp(a[St],a))}detach(r){const s=this._adjustIndex(r,-1),a=kh(this._lContainer,s);return a&&null!=rl(F_(this._lContainer),s)?new gc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function vw(t){return t[8]}function F_(t){return t[8]||(t[8]=[])}function _w(t,r){let s;const a=r[t.index];return Ei(a)?s=a:(s=gy(a,r,null,t),r[t.index]=s,ks(r,s)),Iw(s,r,t,a),new yw(s,t,r)}let Iw=function Ew(t,r,s,a){if(t[Qi])return;let c;c=8&s.type?ii(a):function lb(t,r){const s=t[qt],a=s.createComment(""),c=zs(r,t);return Yo(s,xu(s,c),a,function ll(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Qi]=c};class U_{constructor(r){this.queryList=r,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class B_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new B_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Mw(r,s).matches&&this.queries[s].setDirty()}}class ww{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class V_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new V_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class j_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new j_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,fb(s,d)),this.matchTNodeWithReadOption(r,s,_i(s,r,d,!1,!1))}else a===rm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,_i(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Yd||c===jy||c===rm&&4&s.type)this.addMatch(s.index,-2);else{const d=_i(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function fb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function gb(t,r,s,a){return-1===s?function pb(t,r){return 11&t.type?Uc(t,r):4&t.type?By(t,r):null}(r,t):-2===s?function mb(t,r,s){return s===Yd?Uc(r,t):s===rm?By(r,t):s===jy?_w(r,t):void 0}(t,r,a):ko(t,t[St],s,r)}function Dw(t,r,s,a){const c=r[Wr].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const N=g[C];v.push(N<0?null:gb(r,d[N],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function $_(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=Dw(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const N=d[v+1],V=r[-C];for(let Q=pi;Q<V.length;Q++){const ge=V[Q];ge[Ho]===ge[Gr]&&$_(ge[St],ge,N,a)}if(null!==V[fo]){const Q=V[fo];for(let ge=0;ge<Q.length;ge++){const Se=Q[ge];$_(Se[St],Se,N,a)}}}}}return a}function Tw(t){const r=rt(),s=Ln(),a=$();X(a+1);const c=Mw(s,a);if(t.dirty&&function Ti(t){return 4==(4&t[mn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?$_(s,r,a,[]):Dw(s,r,c,a);t.reset(d,Zp),t.notifyOnChanges()}return!0}return!1}function bw(t,r,s,a){const c=Ln();if(c.firstCreatePass){const d=di();(function Aw(t,r,s){null===t.queries&&(t.queries=new V_),t.queries.track(new j_(r,s))})(c,new ww(r,s,a),d.index),function _b(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function Sw(t,r,s){const a=new L_(4==(4&s));(function wg(t,r,s,a){const c=Vv(r);c.push(s),t.firstCreatePass&&xg(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Wr]&&(r[Wr]=new B_),r[Wr].queries.push(new U_(a))}(c,rt(),s)}function Cw(){return function vb(t,r){return t[Wr].queries[r].queryList}(rt(),$())}function Mw(t,r){return t.queries.getByIndex(r)}function H_(t){return!!ji(t)}const Ww=new Kr("Application Initializer");let K_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=dt(Ww,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(l(d))s.push(d);else if(f(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Hy=new Kr("LocaleId",{providedIn:"root",factory:()=>dt(Hy,bt.Optional|bt.SkipSelf)||function jb(){return typeof $localize<"u"&&$localize.locale||Vf}()}),$b=new Kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Kw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Gb=(()=>{class t{compileModuleSync(s){return new O_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=fc(ji(s).declarations).reduce((g,v)=>{const C=An(v);return C&&g.push(new Dl(C)),g},[]);return new zb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Xw=new Kr(""),Jw=new Kr("");let Q_,dC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Q_||(function hC(t){Q_=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ve(Os),ve(e0),ve(Jw))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac})}return t})(),e0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Q_?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),md=null;const t0=new Kr("AllowMultipleToken"),X_=new Kr("PlatformDestroyListeners"),J_=new Kr("appBootstrapListener");class gC{constructor(r,s){this.name=r,this.token=s}}function s0(t,r,s=[]){const a=`Platform: ${r}`,c=new Kr(a);return(d=[])=>{let g=eI();if(!g||g.injector.get(t0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function mC(t){if(md&&!md.get(t0,!1))throw new ht(400,!1);(function n0(){!function Fe(t){L=t}(()=>{throw new ht(600,!1)})})(),md=t;const r=t.get(a0);(function r0(t){t.get(Wd,null)?.forEach(s=>s())})(t)}(function o0(t=[],r){return du.create({name:r,providers:[{provide:Xh,useValue:"platform"},{provide:X_,useValue:new Set([()=>md=null])},...t]})}(v,a))}return function vC(t){const r=eI();if(!r)throw new ht(401,!1);return r}()}}function eI(){return md?.get(a0)??null}let a0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function _C(t="zone.js",r){return"noop"===t?new og:"zone.js"===t?new Os(r):t}(a?.ngZone,function u0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function bT(t,r,s){return new P_(t,r,s)}(s.moduleType,this.injector,function f0(t){return[{provide:Os,useFactory:t},{provide:pl,multi:!0,useFactory:()=>{const r=dt(EC,{optional:!0});return()=>r.initialize()}},{provide:h0,useFactory:IC},{provide:ag,useFactory:Zm}]}(()=>c)),g=d.injector.get(hc,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{Gy(this._modules,d),v.unsubscribe()})}),function c0(t,r,s){try{const a=s();return l(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(K_);return v.runInitializers(),v.donePromise.then(()=>(function bE(t){Zn(t,"Expected localeId to be defined"),"string"==typeof t&&(TE=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Hy,Vf)||Vf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=l0({},a);return function fC(t,r,s){const a=new O_(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Hf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ht(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(X_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ve(du))};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function l0(t,r){return Array.isArray(r)?r.reduce(l0,t):{...t,...r}}let Hf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dt(h0),this.zoneIsStable=dt(ag),this.componentTypes=[],this.components=[],this.isStable=dt(Kw).hasPendingTasks.pipe((0,kt.w)(s=>s?(0,ue.of)(!1):this.zoneIsStable),function xn(t,r=xt.y){return t=t??Wt,(0,He.e)((s,a)=>{let c,d=!0;s.subscribe((0,it.x)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),et()),this._injector=dt($a)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Um;if(!this._injector.get(K_).done)throw!c&&Vi(s),new ht(405,!1);let g;g=c?s:this._injector.get(id).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function pC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(wh),N=g.create(du.NULL,[],a||g.selector,v),V=N.location.nativeElement,Q=N.injector.get(Xw,null);return Q?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),Gy(this.components,N),Q?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new ht(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Gy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(J_,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Gy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ht(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gy(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const h0=new Kr("",{providedIn:"root",factory:()=>dt(hc).handleError.bind(void 0)});function IC(){const t=dt(Os),r=dt(hc);return s=>t.runOutsideAngular(()=>r.handleError(s))}let EC=(()=>{class t{constructor(){this.zone=dt(Os),this.applicationRef=dt(Hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let DC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=TC}return t})();function TC(t){return function bC(t,r,s){if(k(t)&&!s){const a=os(t.index,r);return new gc(a,a)}return 47&t.type?new gc(r[ui],r):null}(di(),rt(),16==(16&t))}class y0{constructor(){}supports(r){return ld(r)}create(r){return new RC(r)}}const xC=(t,r)=>r;class RC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<_0(a,c,d)?s:a,v=_0(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const N=v-c,V=C-c;if(N!=V){for(let ge=0;ge<N;ge++){const Se=ge<d.length?d[ge]:d[ge]=0,Je=Se+ge;V<=Je&&Je<N&&(d[ge]=Se+1)}d[g.previousIndex]=V-N}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!ld(r))throw new ht(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Rf(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new NC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new v0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new v0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class NC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class v0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new PC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class I0{constructor(){}supports(r){return r instanceof Map||Nf(r)}create(){return new OC}}class OC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Nf(r)))throw new ht(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new kC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class kC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function E0(){return new sI([new y0])}let sI=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:E0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||E0()),deps:[[t,new Ol,new Pl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ht(901,!1)}}return t})();function w0(){return new oI([new I0])}let oI=(()=>{class t{static#e=this.\u0275prov=Cn({token:t,providedIn:"root",factory:w0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||w0()),deps:[[t,new Ol,new Pl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ht(901,!1)}}return t})();const UC=s0(null,"core",[]);let BC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(ve(Hf))};static#t=this.\u0275mod=co({type:t});static#n=this.\u0275inj=fn({})}return t})();function YC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XC(t){const r=An(t);if(!r)return null;const s=new Dl(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},6593:(on,Xe,G)=>{G.d(Xe,{Dx:()=>Qt,b2:()=>Kn,q6:()=>qn});var S=G(4946),oe=G(6814);class le extends oe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends le{static makeCurrent(){(0,oe.HT)(new Te)}onAndCancel(z,H,q){return z.addEventListener(H,q),()=>{z.removeEventListener(H,q)}}dispatchEvent(z,H){z.dispatchEvent(H)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,H){return(H=H||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,H){return"window"===H?window:"document"===H?z:"body"===H?z.body:null}getBaseHref(z){const H=function J(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==H?null:function Ie(j){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",j);const z=Ce.pathname;return"/"===z.charAt(0)?z:`/${z}`}(H)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,oe.Mx)(document.cookie,z)}}let Ce,me=null,ee=(()=>{class j{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(q){return new(q||j)};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();const ue=new S.OlP("EventManagerPlugins");let Me=(()=>{class j{constructor(H,q){this._zone=q,this._eventNameToPlugin=new Map,H.forEach(_e=>{_e.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,q,_e){return this._findPluginFor(q).addEventListener(H,q,_e)}getZone(){return this._zone}_findPluginFor(H){let q=this._eventNameToPlugin.get(H);if(q)return q;if(q=this._plugins.find(Ye=>Ye.supports(H)),!q)throw new S.vHH(5101,!1);return this._eventNameToPlugin.set(H,q),q}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(ue),S.LFG(S.R0b))};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();class He{constructor(z){this._doc=z}}const et="ng-app-id";let Tt=(()=>{class j{constructor(H,q,_e,Ye={}){this.doc=H,this.appId=q,this.nonce=_e,this.platformId=Ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.PM)(Ye),this.resetHostNodes()}addStyles(H){for(const q of H)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(H){for(const q of H)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(q=>q.remove()),H.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const q of this.getAllStyles())this.addStyleToHost(H,q)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const q of this.hostNodes)this.addStyleToHost(q,H)}onStyleRemoved(H){const q=this.styleRef;q.get(H)?.elements?.forEach(_e=>_e.remove()),q.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${et}="${this.appId}"]`);if(H?.length){const q=new Map;return H.forEach(_e=>{null!=_e.textContent&&q.set(_e.textContent,_e)}),q}return null}changeUsageCount(H,q){const _e=this.styleRef;if(_e.has(H)){const Ye=_e.get(H);return Ye.usage+=q,Ye.usage}return _e.set(H,{usage:q,elements:[]}),q}getStyleElement(H,q){const _e=this.styleNodesInDOM,Ye=_e?.get(q);if(Ye?.parentNode===H)return _e.delete(q),Ye.removeAttribute(et),Ye;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=q,this.platformIsServer&&gt.setAttribute(et,this.appId),gt}}addStyleToHost(H,q){const _e=this.getStyleElement(H,q);H.appendChild(_e);const Ye=this.styleRef,gt=Ye.get(q)?.elements;gt?gt.push(_e):Ye.set(q,{elements:[_e],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(oe.K0),S.LFG(S.AFp),S.LFG(S.Ojb,8),S.LFG(S.Lbi))};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g,nt=new S.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(j,z){return z.map(H=>H.replace(xt,j))}let tt=(()=>{class j{constructor(H,q,_e,Ye,gt,an,Xt,Qn=null){this.eventManager=H,this.sharedStylesHost=q,this.appId=_e,this.removeStylesOnCompDestroy=Ye,this.doc=gt,this.platformId=an,this.ngZone=Xt,this.nonce=Qn,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.PM)(an),this.defaultRenderer=new at(H,gt,Xt,this.platformIsServer)}createRenderer(H,q){if(!H||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===S.ifc.ShadowDom&&(q={...q,encapsulation:S.ifc.Emulated});const _e=this.getOrCreateRenderer(H,q);return _e instanceof En?_e.applyToHost(H):_e instanceof ht&&_e.applyStyles(),_e}getOrCreateRenderer(H,q){const _e=this.rendererByCompId;let Ye=_e.get(q.id);if(!Ye){const gt=this.doc,an=this.ngZone,Xt=this.eventManager,Qn=this.sharedStylesHost,un=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(q.encapsulation){case S.ifc.Emulated:Ye=new En(Xt,Qn,q,this.appId,un,gt,an,Bn);break;case S.ifc.ShadowDom:return new ut(Xt,Qn,H,q,gt,an,this.nonce,Bn);default:Ye=new ht(Xt,Qn,q,un,gt,an,Bn)}_e.set(q.id,Ye)}return Ye}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(Me),S.LFG(Tt),S.LFG(S.AFp),S.LFG(nt),S.LFG(oe.K0),S.LFG(S.Lbi),S.LFG(S.R0b),S.LFG(S.Ojb))};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();class at{constructor(z,H,q,_e){this.eventManager=z,this.doc=H,this.ngZone=q,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,H){return H?this.doc.createElementNS(kt[H]||H,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,H){(Wn(z)?z.content:z).appendChild(H)}insertBefore(z,H,q){z&&(Wn(z)?z.content:z).insertBefore(H,q)}removeChild(z,H){z&&z.removeChild(H)}selectRootElement(z,H){let q="string"==typeof z?this.doc.querySelector(z):z;if(!q)throw new S.vHH(-5104,!1);return H||(q.textContent=""),q}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,H,q,_e){if(_e){H=_e+":"+H;const Ye=kt[_e];Ye?z.setAttributeNS(Ye,H,q):z.setAttribute(H,q)}else z.setAttribute(H,q)}removeAttribute(z,H,q){if(q){const _e=kt[q];_e?z.removeAttributeNS(_e,H):z.removeAttribute(`${q}:${H}`)}else z.removeAttribute(H)}addClass(z,H){z.classList.add(H)}removeClass(z,H){z.classList.remove(H)}setStyle(z,H,q,_e){_e&(S.JOm.DashCase|S.JOm.Important)?z.style.setProperty(H,q,_e&S.JOm.Important?"important":""):z.style[H]=q}removeStyle(z,H,q){q&S.JOm.DashCase?z.style.removeProperty(H):z.style[H]=""}setProperty(z,H,q){z[H]=q}setValue(z,H){z.nodeValue=H}listen(z,H,q){if("string"==typeof z&&!(z=(0,oe.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${H}`);return this.eventManager.addEventListener(z,H,this.decoratePreventDefault(q))}decoratePreventDefault(z){return H=>{if("__ngUnwrap__"===H)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(H)):z(H))&&H.preventDefault()}}}function Wn(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class ut extends at{constructor(z,H,q,_e,Ye,gt,an,Xt){super(z,Ye,gt,Xt),this.sharedStylesHost=H,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qn=Dt(_e.id,_e.styles);for(const un of Qn){const Bn=document.createElement("style");an&&Bn.setAttribute("nonce",an),Bn.textContent=un,this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,H){return super.appendChild(this.nodeOrShadowRoot(z),H)}insertBefore(z,H,q){return super.insertBefore(this.nodeOrShadowRoot(z),H,q)}removeChild(z,H){return super.removeChild(this.nodeOrShadowRoot(z),H)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ht extends at{constructor(z,H,q,_e,Ye,gt,an,Xt){super(z,Ye,gt,an),this.sharedStylesHost=H,this.removeStylesOnCompDestroy=_e,this.styles=Xt?Dt(Xt,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class En extends ht{constructor(z,H,q,_e,Ye,gt,an,Xt){const Qn=_e+"-"+q.id;super(z,H,q,Ye,gt,an,Xt,Qn),this.contentAttr=function We(j){return"_ngcontent-%COMP%".replace(xt,j)}(Qn),this.hostAttr=function At(j){return"_nghost-%COMP%".replace(xt,j)}(Qn)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,H){const q=super.createElement(z,H);return super.setAttribute(q,this.contentAttr,""),q}}let pt=(()=>{class j extends He{constructor(H){super(H)}supports(H){return!0}addEventListener(H,q,_e){return H.addEventListener(q,_e,!1),()=>this.removeEventListener(H,q,_e)}removeEventListener(H,q,_e){return H.removeEventListener(q,_e)}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(oe.K0))};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();const nn=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let Be=(()=>{class j extends He{constructor(H){super(H)}supports(H){return null!=j.parseEventName(H)}addEventListener(H,q,_e){const Ye=j.parseEventName(q),gt=j.eventCallback(Ye.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.q)().onAndCancel(H,Ye.domEventName,gt))}static parseEventName(H){const q=H.toLowerCase().split("."),_e=q.shift();if(0===q.length||"keydown"!==_e&&"keyup"!==_e)return null;const Ye=j._normalizeKey(q.pop());let gt="",an=q.indexOf("code");if(an>-1&&(q.splice(an,1),gt="code."),nn.forEach(Qn=>{const un=q.indexOf(Qn);un>-1&&(q.splice(un,1),gt+=Qn+".")}),gt+=Ye,0!=q.length||0===Ye.length)return null;const Xt={};return Xt.domEventName=_e,Xt.fullKey=gt,Xt}static matchEventFullKeyCode(H,q){let _e=Re[H.key]||H.key,Ye="";return q.indexOf("code.")>-1&&(_e=H.code,Ye="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),nn.forEach(gt=>{gt!==_e&&(0,ke[gt])(H)&&(Ye+=gt+".")}),Ye+=_e,Ye===q)}static eventCallback(H,q,_e){return Ye=>{j.matchEventFullKeyCode(Ye,H)&&_e.runGuarded(()=>q(Ye))}}static _normalizeKey(H){return"esc"===H?"escape":H}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(oe.K0))};static#t=this.\u0275prov=S.Yz7({token:j,factory:j.\u0275fac})}return j})();const qn=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:oe.bD},{provide:S.g9A,useValue:function vn(){Te.makeCurrent()},multi:!0},{provide:oe.K0,useFactory:function yt(){return(0,S.RDi)(document),document},deps:[]}]),Nn=new S.OlP(""),Mn=[{provide:S.rWj,useClass:class ze{addToWindow(z){S.dqk.getAngularTestability=(q,_e=!0)=>{const Ye=z.findTestabilityInTree(q,_e);if(null==Ye)throw new S.vHH(5103,!1);return Ye},S.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(q=>{const _e=S.dqk.getAllAngularTestabilities();let Ye=_e.length,gt=!1;const an=function(Xt){gt=gt||Xt,Ye--,0==Ye&&q(gt)};_e.forEach(Xt=>{Xt.whenStable(an)})})}findTestabilityInTree(z,H,q){return null==H?null:z.getTestability(H)??(q?(0,oe.q)().isShadowRoot(H)?this.findTestabilityInTree(z,H.host,!0):this.findTestabilityInTree(z,H.parentElement,!0):null)}},deps:[]},{provide:S.lri,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b,S.eoX,S.rWj]}],er=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function zt(){return new S.qLn},deps:[]},{provide:ue,useClass:pt,multi:!0,deps:[oe.K0,S.R0b,S.Lbi]},{provide:ue,useClass:Be,multi:!0,deps:[oe.K0]},tt,Tt,Me,{provide:S.FYo,useExisting:tt},{provide:oe.JF,useClass:ee,deps:[]},[]];let Kn=(()=>{class j{constructor(H){}static withServerTransition(H){return{ngModule:j,providers:[{provide:S.AFp,useValue:H.appId}]}}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(Nn,12))};static#t=this.\u0275mod=S.oAB({type:j});static#n=this.\u0275inj=S.cJS({providers:[...er,...Mn],imports:[oe.ez,S.hGG]})}return j})(),Qt=(()=>{class j{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}static#e=this.\u0275fac=function(q){return new(q||j)(S.LFG(oe.K0))};static#t=this.\u0275prov=S.Yz7({token:j,factory:function(q){let _e=null;return _e=q?new q:function oi(){return new Qt((0,S.LFG)(oe.K0))}(),_e},providedIn:"root"})}return j})();typeof window<"u"&&window},8589:(on,Xe,G)=>{G.d(Xe,{rH:()=>Ya,Bz:()=>_u,lC:()=>Oi});var S=G(4946),oe=G(5592),le=G(4674),me=G(2459),J=G(2096),Ce=G(5619),Ie=G(7453),ze=G(2737),ee=G(7400),ue=G(4564),Me=G(2714),He=G(8251),et=G(7103);function Tt(...y){const T=(0,ue.yG)(y),m=(0,ue.jO)(y),{args:b,keys:R}=(0,Ie.D)(y);if(0===b.length)return(0,me.D)([],T);const $=new oe.y(function kt(y,T,m=ze.y){return b=>{xt(T,()=>{const{length:R}=y,$=new Array(R);let X=R,Le=R;for(let xe=0;xe<R;xe++)xt(T,()=>{const Mt=(0,me.D)(y[xe],T);let Dn=!1;Mt.subscribe((0,He.x)(b,or=>{$[xe]=or,Dn||(Dn=!0,Le--),Le||b.next(m($.slice()))},()=>{--X||b.complete()}))},b)},b)}}(b,T,R?X=>(0,Me.n)(R,X):ze.y));return m?$.pipe((0,ee.Z)(m)):$}function xt(y,T,m){y?(0,et.f)(m,y,T):T()}const xn=(0,G(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Wt=G(7537);function nt(...y){return function Pe(){return(0,Wt.J)(1)}()((0,me.D)(y,(0,ue.yG)(y)))}var We=G(4829);function At(y){return new oe.y(T=>{(0,We.Xf)(y()).subscribe(T)})}var Dt=G(8407);function tt(y,T){const m=(0,le.m)(y)?y:()=>y,b=R=>R.error(m());return new oe.y(T?R=>T.schedule(b,0,R):b)}var at=G(6232),yn=G(7394),Rn=G(9360);function Wn(){return(0,Rn.e)((y,T)=>{let m=null;y._refCount++;const b=(0,He.x)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const R=y._connection,$=m;m=null,R&&(!$||R===$)&&R.unsubscribe(),T.unsubscribe()});y.subscribe(b),b.closed||(m=y.connect())})}class ut extends oe.y{constructor(T,m){super(),this.source=T,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Rn.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new yn.w0;const m=this.getSubject();T.add(this.source.subscribe((0,He.x)(m,void 0,()=>{this._teardown(),m.complete()},b=>{this._teardown(),m.error(b)},()=>this._teardown()))),T.closed&&(this._connection=null,T=yn.w0.EMPTY)}return T}refCount(){return Wn()(this)}}var ht=G(8645),En=G(6814),pt=G(7398),nn=G(4664);function Re(y){return y<=0?()=>at.E:(0,Rn.e)((T,m)=>{let b=0;T.subscribe((0,He.x)(m,R=>{++b<=y&&(m.next(R),y<=b&&m.complete())}))})}var Be=G(2181),Ae=G(1631);function Ke(y){return(0,Rn.e)((T,m)=>{let b=!1;T.subscribe((0,He.x)(m,R=>{b=!0,m.next(R)},()=>{b||m.next(y),m.complete()}))})}function lt(y=jt){return(0,Rn.e)((T,m)=>{let b=!1;T.subscribe((0,He.x)(m,R=>{b=!0,m.next(R)},()=>b?m.complete():m.error(y())))})}function jt(){return new xn}function vn(y,T){const m=arguments.length>=2;return b=>b.pipe(y?(0,Be.h)((R,$)=>y(R,$,b)):ze.y,Re(1),m?Ke(T):lt(()=>new xn))}var zt=G(6328),yt=G(9397);function dn(y){return(0,Rn.e)((T,m)=>{let $,b=null,R=!1;b=T.subscribe((0,He.x)(m,void 0,void 0,X=>{$=(0,We.Xf)(y(X,dn(y)(T))),b?(b.unsubscribe(),b=null,$.subscribe(m)):R=!0})),R&&(b.unsubscribe(),b=null,$.subscribe(m))})}function Mn(y){return y<=0?()=>at.E:(0,Rn.e)((T,m)=>{let b=[];T.subscribe((0,He.x)(m,R=>{b.push(R),y<b.length&&b.shift()},()=>{for(const R of b)m.next(R);m.complete()},void 0,()=>{b=null}))})}var gr=G(4716),Zn=G(2420),oi=G(6593);const Qt="primary",Zr=Symbol("RouteTitle");class Cn{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m[0]:m}return null}getAll(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function ur(y){return new Cn(y)}function fn(y,T,m){const b=m.path.split("/");if(b.length>y.length||"full"===m.pathMatch&&(T.hasChildren()||b.length<y.length))return null;const R={};for(let $=0;$<b.length;$++){const X=b[$],Le=y[$];if(X.startsWith(":"))R[X.substring(1)]=Le;else if(X!==Le.path)return null}return{consumed:y.slice(0,b.length),posParams:R}}function rr(y,T){const m=y?Object.keys(y):void 0,b=T?Object.keys(T):void 0;if(!m||!b||m.length!=b.length)return!1;let R;for(let $=0;$<m.length;$++)if(R=m[$],!kr(y[R],T[R]))return!1;return!0}function kr(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const m=[...y].sort(),b=[...T].sort();return m.every((R,$)=>b[$]===R)}return y===T}function Yr(y){return y.length>0?y[y.length-1]:null}function Sn(y){return function Te(y){return!!y&&(y instanceof oe.y||(0,le.m)(y.lift)&&(0,le.m)(y.subscribe))}(y)?y:(0,S.QGY)(y)?(0,me.D)(Promise.resolve(y)):(0,J.of)(y)}const tr={exact:function bt(y,T,m){if(!Cr(y.segments,T.segments)||!$n(y.segments,T.segments,m)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const b in T.children)if(!y.children[b]||!bt(y.children[b],T.children[b],m))return!1;return!0},subset:ti},Vr={exact:function Ci(y,T){return rr(y,T)},subset:function Qr(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(m=>kr(y[m],T[m]))},ignored:()=>!0};function Un(y,T,m){return tr[m.paths](y.root,T.root,m.matrixParams)&&Vr[m.queryParams](y.queryParams,T.queryParams)&&!("exact"===m.fragment&&y.fragment!==T.fragment)}function ti(y,T,m){return _r(y,T,T.segments,m)}function _r(y,T,m,b){if(y.segments.length>m.length){const R=y.segments.slice(0,m.length);return!(!Cr(R,m)||T.hasChildren()||!$n(R,m,b))}if(y.segments.length===m.length){if(!Cr(y.segments,m)||!$n(y.segments,m,b))return!1;for(const R in T.children)if(!y.children[R]||!ti(y.children[R],T.children[R],b))return!1;return!0}{const R=m.slice(0,y.segments.length),$=m.slice(y.segments.length);return!!(Cr(y.segments,R)&&$n(y.segments,R,b)&&y.children[Qt])&&_r(y.children[Qt],T,$,b)}}function $n(y,T,m){return T.every((b,R)=>Vr[m](y[R].parameters,b.parameters))}class pn{constructor(T=new It([],{}),m={},b=null){this.root=T,this.queryParams=m,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return ce.serialize(this)}}class It{constructor(T,m){this.segments=T,this.children=m,this.parent=null,Object.values(m).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return j(this)}}class cr{constructor(T,m){this.path=T,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}toString(){return Xt(this)}}function Cr(y,T){return y.length===T.length&&y.every((m,b)=>m.path===T[b].path)}let Pn=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return new Sr},providedIn:"root"})}return y})();class Sr{parse(T){const m=new dt(T);return new pn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(T){const m=`/${z(T.root,!0)}`,b=function un(y){const T=Object.keys(y).map(m=>{const b=y[m];return Array.isArray(b)?b.map(R=>`${q(m)}=${q(R)}`).join("&"):`${q(m)}=${q(b)}`}).filter(m=>!!m);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${m}${b}${"string"==typeof T.fragment?`#${function _e(y){return encodeURI(y)}(T.fragment)}`:""}`}}const ce=new Sr;function j(y){return y.segments.map(T=>Xt(T)).join("/")}function z(y,T){if(!y.hasChildren())return j(y);if(T){const m=y.children[Qt]?z(y.children[Qt],!1):"",b=[];return Object.entries(y.children).forEach(([R,$])=>{R!==Qt&&b.push(`${R}:${z($,!1)}`)}),b.length>0?`${m}(${b.join("//")})`:m}{const m=function Ni(y,T){let m=[];return Object.entries(y.children).forEach(([b,R])=>{b===Qt&&(m=m.concat(T(R,b)))}),Object.entries(y.children).forEach(([b,R])=>{b!==Qt&&(m=m.concat(T(R,b)))}),m}(y,(b,R)=>R===Qt?[z(y.children[Qt],!1)]:[`${R}:${z(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Qt]?`${j(y)}/${m[0]}`:`${j(y)}/(${m.join("//")})`}}function H(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q(y){return H(y).replace(/%3B/gi,";")}function Ye(y){return H(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gt(y){return decodeURIComponent(y)}function an(y){return gt(y.replace(/\+/g,"%20"))}function Xt(y){return`${Ye(y.path)}${function Qn(y){return Object.keys(y).map(T=>`;${Ye(T)}=${Ye(y[T])}`).join("")}(y.parameters)}`}const Bn=/^[^\/()?;#]+/;function Ee(y){const T=y.match(Bn);return T?T[0]:""}const se=/^[^\/()?;=#]+/,te=/^[^=?&#]+/,ve=/^[^&#]+/;class dt{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(T.length>0||Object.keys(m).length>0)&&(b[Qt]=new It(T,m)),b}parseSegment(){const T=Ee(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new S.vHH(4009,!1);return this.capture(T),new cr(gt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const m=function he(y){const T=y.match(se);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const R=Ee(this.remaining);R&&(b=R,this.capture(b))}T[gt(m)]=gt(b)}parseQueryParam(T){const m=function re(y){const T=y.match(te);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const X=function Ve(y){const T=y.match(ve);return T?T[0]:""}(this.remaining);X&&(b=X,this.capture(b))}const R=an(m),$=an(b);if(T.hasOwnProperty(R)){let X=T[R];Array.isArray(X)||(X=[X],T[R]=X),X.push($)}else T[R]=$}parseParens(T){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Ee(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new S.vHH(4010,!1);let $;b.indexOf(":")>-1?($=b.slice(0,b.indexOf(":")),this.capture($),this.capture(":")):T&&($=Qt);const X=this.parseChildren();m[$]=1===Object.keys(X).length?X[Qt]:new It([],X),this.consumeOptional("//")}return m}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new S.vHH(4011,!1)}}function _t(y){return y.segments.length>0?new It([],{[Qt]:y}):y}function Kt(y){const T={};for(const b of Object.keys(y.children)){const $=Kt(y.children[b]);if(b===Qt&&0===$.segments.length&&$.hasChildren())for(const[X,Le]of Object.entries($.children))T[X]=Le;else($.segments.length>0||$.hasChildren())&&(T[b]=$)}return function sr(y){if(1===y.numberOfChildren&&y.children[Qt]){const T=y.children[Qt];return new It(y.segments.concat(T.segments),T.children)}return y}(new It(y.segments,T))}function Tn(y){return y instanceof pn}function Si(y){let T;const R=_t(function m($){const X={};for(const xe of $.children){const Mt=m(xe);X[xe.outlet]=Mt}const Le=new It($.url,X);return $===y&&(T=Le),Le}(y.root));return T??R}function Mr(y,T,m,b){let R=y;for(;R.parent;)R=R.parent;if(0===T.length)return xr(R,R,R,m,b);const $=function Gi(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Jr(!0,0,y);let T=0,m=!1;const b=y.reduce((R,$,X)=>{if("object"==typeof $&&null!=$){if($.outlets){const Le={};return Object.entries($.outlets).forEach(([xe,Mt])=>{Le[xe]="string"==typeof Mt?Mt.split("/"):Mt}),[...R,{outlets:Le}]}if($.segmentPath)return[...R,$.segmentPath]}return"string"!=typeof $?[...R,$]:0===X?($.split("/").forEach((Le,xe)=>{0==xe&&"."===Le||(0==xe&&""===Le?m=!0:".."===Le?T++:""!=Le&&R.push(Le))}),R):[...R,$]},[]);return new Jr(m,T,b)}(T);if($.toRoot())return xr(R,R,new It([],{}),m,b);const X=function Bi(y,T,m){if(y.isAbsolute)return new Lr(T,!0,0);if(!m)return new Lr(T,!1,NaN);if(null===m.parent)return new Lr(m,!0,0);const b=gn(y.commands[0])?0:1;return function fi(y,T,m){let b=y,R=T,$=m;for(;$>R;){if($-=R,b=b.parent,!b)throw new S.vHH(4005,!1);R=b.segments.length}return new Lr(b,!1,R-$)}(m,m.segments.length-1+b,y.numberOfDoubleDots)}($,R,y),Le=X.processChildren?fe(X.segmentGroup,X.index,$.commands):ao(X.segmentGroup,X.index,$.commands);return xr(R,X.segmentGroup,Le,m,b)}function gn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function On(y){return"object"==typeof y&&null!=y&&y.outlets}function xr(y,T,m,b,R){let X,$={};b&&Object.entries(b).forEach(([xe,Mt])=>{$[xe]=Array.isArray(Mt)?Mt.map(Dn=>`${Dn}`):`${Mt}`}),X=y===T?m:wn(y,T,m);const Le=_t(Kt(X));return new pn(Le,$,R)}function wn(y,T,m){const b={};return Object.entries(y.children).forEach(([R,$])=>{b[R]=$===T?m:wn($,T,m)}),new It(y.segments,b)}class Jr{constructor(T,m,b){if(this.isAbsolute=T,this.numberOfDoubleDots=m,this.commands=b,T&&b.length>0&&gn(b[0]))throw new S.vHH(4003,!1);const R=b.find(On);if(R&&R!==Yr(b))throw new S.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lr{constructor(T,m,b){this.segmentGroup=T,this.processChildren=m,this.index=b}}function ao(y,T,m){if(y||(y=new It([],{})),0===y.segments.length&&y.hasChildren())return fe(y,T,m);const b=function pe(y,T,m){let b=0,R=T;const $={match:!1,pathIndex:0,commandIndex:0};for(;R<y.segments.length;){if(b>=m.length)return $;const X=y.segments[R],Le=m[b];if(On(Le))break;const xe=`${Le}`,Mt=b<m.length-1?m[b+1]:null;if(R>0&&void 0===xe)break;if(xe&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!sn(xe,Mt,X))return $;b+=2}else{if(!sn(xe,{},X))return $;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(y,T,m),R=m.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const $=new It(y.segments.slice(0,b.pathIndex),{});return $.children[Qt]=new It(y.segments.slice(b.pathIndex),y.children),fe($,0,R)}return b.match&&0===R.length?new It(y.segments,{}):b.match&&!y.hasChildren()?be(y,T,m):b.match?fe(y,0,R):be(y,T,m)}function fe(y,T,m){if(0===m.length)return new It(y.segments,{});{const b=function ns(y){return On(y[0])?y[0].outlets:{[Qt]:y}}(m),R={};if(Object.keys(b).some($=>$!==Qt)&&y.children[Qt]&&1===y.numberOfChildren&&0===y.children[Qt].segments.length){const $=fe(y.children[Qt],T,m);return new It(y.segments,$.children)}return Object.entries(b).forEach(([$,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(R[$]=ao(y.children[$],T,X))}),Object.entries(y.children).forEach(([$,X])=>{void 0===b[$]&&(R[$]=X)}),new It(y.segments,R)}}function be(y,T,m){const b=y.segments.slice(0,T);let R=0;for(;R<m.length;){const $=m[R];if(On($)){const xe=Qe($.outlets);return new It(b,xe)}if(0===R&&gn(m[0])){b.push(new cr(y.segments[T].path,ft(m[0]))),R++;continue}const X=On($)?$.outlets[Qt]:`${$}`,Le=R<m.length-1?m[R+1]:null;X&&Le&&gn(Le)?(b.push(new cr(X,ft(Le))),R+=2):(b.push(new cr(X,{})),R++)}return new It(b,{})}function Qe(y){const T={};return Object.entries(y).forEach(([m,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(T[m]=be(new It([],{}),0,b))}),T}function ft(y){const T={};return Object.entries(y).forEach(([m,b])=>T[m]=`${b}`),T}function sn(y,T,m){return y==m.path&&rr(T,m.parameters)}const Vn="imperative";class bn{constructor(T,m){this.id=T,this.url=m}}class jn extends bn{constructor(T,m,b="imperative",R=null){super(T,m),this.type=0,this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends bn{constructor(T,m,b){super(T,m),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ai extends bn{constructor(T,m,b,R){super(T,m),this.reason=b,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mr extends bn{constructor(T,m,b,R){super(T,m),this.reason=b,this.code=R,this.type=16}}class ni extends bn{constructor(T,m,b,R){super(T,m),this.error=b,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class To extends bn{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo extends bn{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ws extends bn{constructor(T,m,b,R,$){super(T,m),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ls extends bn{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends bn{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Na{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pa{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(T,m,b){this.routerEvent=T,this.position=m,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qs{}class co{constructor(T){this.url=T}}class jr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pi,this.attachRef=null}}let Pi=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,b){const R=this.getOrCreateContext(m);R.outlet=b,this.contexts.set(m,R)}onChildOutletDestroyed(m){const b=this.getContext(m);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let b=this.getContext(m);return b||(b=new jr,this.contexts.set(m,b)),b}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Ks{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const m=this.pathFromRoot(T);return m.length>1?m[m.length-2]:null}children(T){const m=An(T,this._root);return m?m.children.map(b=>b.value):[]}firstChild(T){const m=An(T,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(T){const m=ri(T,this._root);return m.length<2?[]:m[m.length-2].children.map(R=>R.value).filter(R=>R!==T)}pathFromRoot(T){return ri(T,this._root).map(m=>m.value)}}function An(y,T){if(y===T.value)return T;for(const m of T.children){const b=An(y,m);if(b)return b}return null}function ri(y,T){if(y===T.value)return[T];for(const m of T.children){const b=ri(y,m);if(b.length)return b.unshift(T),b}return[]}class dr{constructor(T,m){this.value=T,this.children=m}toString(){return`TreeNode(${this.value})`}}function Vi(y){const T={};return y&&y.children.forEach(m=>T[m.value.outlet]=m),T}class ji extends Ks{constructor(T,m){super(T),this.snapshot=m,mn(this,T)}toString(){return this.snapshot.toString()}}function jo(y,T){const m=function gu(y,T){const X=new Ir([],{},{},"",{},Qt,T,null,{});return new St("",new dr(X,[]))}(0,T),b=new Ce.X([new cr("",{})]),R=new Ce.X({}),$=new Ce.X({}),X=new Ce.X({}),Le=new Ce.X(""),xe=new Ki(b,R,X,Le,$,Qt,T,m.root);return xe.snapshot=m.root,new ji(new dr(xe,[]),m)}class Ki{constructor(T,m,b,R,$,X,Le,xe){this.urlSubject=T,this.paramsSubject=m,this.queryParamsSubject=b,this.fragmentSubject=R,this.dataSubject=$,this.outlet=X,this.component=Le,this._futureSnapshot=xe,this.title=this.dataSubject?.pipe((0,pt.U)(Mt=>Mt[Zr]))??(0,J.of)(void 0),this.url=T,this.params=m,this.queryParams=b,this.fragment=R,this.data=$}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(T=>ur(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(T=>ur(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vs(y,T="emptyOnly"){const m=y.pathFromRoot;let b=0;if("always"!==T)for(b=m.length-1;b>=1;){const R=m[b],$=m[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if($.component)break;b--}}return function ga(y){return y.reduce((T,m)=>({params:{...T.params,...m.params},data:{...T.data,...m.data},resolve:{...m.data,...T.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(b))}class Ir{get title(){return this.data?.[Zr]}constructor(T,m,b,R,$,X,Le,xe,Mt){this.url=T,this.params=m,this.queryParams=b,this.fragment=R,this.data=$,this.outlet=X,this.component=Le,this.routeConfig=xe,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class St extends Ks{constructor(T,m){super(m),this.url=T,mn(this,m)}toString(){return Gr(this._root)}}function mn(y,T){T.value._routerState=y,T.children.forEach(m=>mn(y,m))}function Gr(y){const T=y.children.length>0?` { ${y.children.map(Gr).join(", ")} } `:"";return`${y.value}${T}`}function Zi(y){if(y.snapshot){const T=y.snapshot,m=y._futureSnapshot;y.snapshot=m,rr(T.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),T.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),rr(T.params,m.params)||y.paramsSubject.next(m.params),function ln(y,T){if(y.length!==T.length)return!1;for(let m=0;m<y.length;++m)if(!rr(y[m],T[m]))return!1;return!0}(T.url,m.url)||y.urlSubject.next(m.url),rr(T.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function ms(y,T){const m=rr(y.params,T.params)&&function Xr(y,T){return Cr(y,T)&&y.every((m,b)=>rr(m.parameters,T[b].parameters))}(y.url,T.url);return m&&!(!y.parent!=!T.parent)&&(!y.parent||ms(y.parent,T.parent))}let Oi=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new S.vpe,this.deactivateEvents=new S.vpe,this.attachEvents=new S.vpe,this.detachEvents=new S.vpe,this.parentContexts=(0,S.f3M)(Pi),this.location=(0,S.f3M)(S.s_b),this.changeDetector=(0,S.f3M)(S.sBO),this.environmentInjector=(0,S.f3M)(S.lqb),this.inputBinder=(0,S.f3M)(Rr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:b,previousValue:R}=m.name;if(b)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,b){this.activated=m,this._activatedRoute=b,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,b){if(this.isActivated)throw new S.vHH(4013,!1);this._activatedRoute=m;const R=this.location,X=m.snapshot.component,Le=this.parentContexts.getOrCreateContext(this.name).children,xe=new So(m,Le,R.injector);this.activated=R.createComponent(X,{index:R.length,injector:xe,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275dir=S.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.TTD]})}return y})();class So{constructor(T,m,b){this.route=T,this.childContexts=m,this.parent=b}get(T,m){return T===Ki?this.route:T===Pi?this.childContexts:this.parent.get(T,m)}}const Rr=new S.OlP("");let ds=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:b}=m,R=Tt([b.queryParams,b.params,b.data]).pipe((0,nn.w)(([$,X,Le],xe)=>(Le={...$,...X,...Le},0===xe?(0,J.of)(Le):Promise.resolve(Le)))).subscribe($=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(m);const X=(0,S.qFp)(b.component);if(X)for(const{templateName:Le}of X.inputs)m.activatedComponentRef.setInput(Le,$[Le]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,R)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac})}return y})();function qt(y,T,m){if(m&&y.shouldReuseRoute(T.value,m.value.snapshot)){const b=m.value;b._futureSnapshot=T.value;const R=function $o(y,T,m){return T.children.map(b=>{for(const R of m.children)if(y.shouldReuseRoute(b.value,R.value.snapshot))return qt(y,b,R);return qt(y,b)})}(y,T,m);return new dr(b,R)}{if(y.shouldAttach(T.value)){const $=y.retrieve(T.value);if(null!==$){const X=$.route;return X.value._futureSnapshot=T.value,X.children=T.children.map(Le=>qt(y,Le)),X}}const b=function lo(y){return new Ki(new Ce.X(y.url),new Ce.X(y.params),new Ce.X(y.queryParams),new Ce.X(y.fragment),new Ce.X(y.data),y.outlet,y.component,y)}(T.value),R=T.children.map($=>qt(y,$));return new dr(b,R)}}const js="ngNavigationCancelingError";function ui(y,T){const{redirectTo:m,navigationBehaviorOptions:b}=Tn(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,R=Ho(!1,0,T);return R.url=m,R.navigationBehaviorOptions=b,R}function Ho(y,T,m){const b=new Error("NavigationCancelingError: "+(y||""));return b[js]=!0,b.cancellationCode=T,m&&(b.url=m),b}function Wr(y){return y&&y[js]}let Ss=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275cmp=S.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.jDz],decls:1,vars:0,template:function(b,R){1&b&&S._UZ(0,"router-outlet")},dependencies:[Oi],encapsulation:2})}return y})();function Qi(y){const T=y.children&&y.children.map(Qi),m=T?{...y,children:T}:{...y};return!m.component&&!m.loadComponent&&(T||m.loadChildren)&&m.outlet&&m.outlet!==Qt&&(m.component=Ss),m}function ki(y){return y.outlet||Qt}function _s(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let T=y.parent;T;T=T.parent){const m=T.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Nr{constructor(T,m,b,R,$){this.routeReuseStrategy=T,this.futureState=m,this.currState=b,this.forwardEvent=R,this.inputBindingEnabled=$}activate(T){const m=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,b,T),Zi(this.futureState.root),this.activateChildRoutes(m,b,T)}deactivateChildRoutes(T,m,b){const R=Vi(m);T.children.forEach($=>{const X=$.value.outlet;this.deactivateRoutes($,R[X],b),delete R[X]}),Object.values(R).forEach($=>{this.deactivateRouteAndItsChildren($,b)})}deactivateRoutes(T,m,b){const R=T.value,$=m?m.value:null;if(R===$)if(R.component){const X=b.getContext(R.outlet);X&&this.deactivateChildRoutes(T,m,X.children)}else this.deactivateChildRoutes(T,m,b);else $&&this.deactivateRouteAndItsChildren(m,b)}deactivateRouteAndItsChildren(T,m){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,m):this.deactivateRouteAndOutlet(T,m)}detachAndStoreRouteSubtree(T,m){const b=m.getContext(T.value.outlet),R=b&&T.value.component?b.children:m,$=Vi(T);for(const X of Object.keys($))this.deactivateRouteAndItsChildren($[X],R);if(b&&b.outlet){const X=b.outlet.detach(),Le=b.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:X,route:T,contexts:Le})}}deactivateRouteAndOutlet(T,m){const b=m.getContext(T.value.outlet),R=b&&T.value.component?b.children:m,$=Vi(T);for(const X of Object.keys($))this.deactivateRouteAndItsChildren($[X],R);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(T,m,b){const R=Vi(m);T.children.forEach($=>{this.activateRoutes($,R[$.value.outlet],b),this.forwardEvent(new Bs($.value.snapshot))}),T.children.length&&this.forwardEvent(new Co(T.value.snapshot))}activateRoutes(T,m,b){const R=T.value,$=m?m.value:null;if(Zi(R),R===$)if(R.component){const X=b.getOrCreateContext(R.outlet);this.activateChildRoutes(T,m,X.children)}else this.activateChildRoutes(T,m,b);else if(R.component){const X=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Le=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),X.children.onOutletReAttached(Le.contexts),X.attachRef=Le.componentRef,X.route=Le.route.value,X.outlet&&X.outlet.attach(Le.componentRef,Le.route.value),Zi(Le.route.value),this.activateChildRoutes(T,null,X.children)}else{const Le=_s(R.snapshot);X.attachRef=null,X.route=R,X.injector=Le,X.outlet&&X.outlet.activateWith(R,X.injector),this.activateChildRoutes(T,null,X.children)}}else this.activateChildRoutes(T,null,b)}}class Ei{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Ao{constructor(T,m){this.component=T,this.route=m}}function k(y,T,m){const b=y._root;return ae(b,T?T._root:null,m,[b.value])}function Y(y,T){const m=Symbol(),b=T.get(y,m);return b===m?"function"!=typeof y||(0,S.Z0I)(y)?T.get(y):y:b}function ae(y,T,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const $=Vi(T);return y.children.forEach(X=>{(function De(y,T,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const $=y.value,X=T?T.value:null,Le=m?m.getContext(y.value.outlet):null;if(X&&$.routeConfig===X.routeConfig){const xe=function Ge(y,T,m){if("function"==typeof m)return m(y,T);switch(m){case"pathParamsChange":return!Cr(y.url,T.url);case"pathParamsOrQueryParamsChange":return!Cr(y.url,T.url)||!rr(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(y,T)||!rr(y.queryParams,T.queryParams);default:return!ms(y,T)}}(X,$,$.routeConfig.runGuardsAndResolvers);xe?R.canActivateChecks.push(new Ei(b)):($.data=X.data,$._resolvedData=X._resolvedData),ae(y,T,$.component?Le?Le.children:null:m,b,R),xe&&Le&&Le.outlet&&Le.outlet.isActivated&&R.canDeactivateChecks.push(new Ao(Le.outlet.component,X))}else X&&vt(T,Le,R),R.canActivateChecks.push(new Ei(b)),ae(y,null,$.component?Le?Le.children:null:m,b,R)})(X,$[X.value.outlet],m,b.concat([X.value]),R),delete $[X.value.outlet]}),Object.entries($).forEach(([X,Le])=>vt(Le,m.getContext(X),R)),R}function vt(y,T,m){const b=Vi(y),R=y.value;Object.entries(b).forEach(([$,X])=>{vt(X,R.component?T?T.children.getContext($):null:T,m)}),m.canDeactivateChecks.push(new Ao(R.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,R))}function Vt(y){return"function"==typeof y}function wr(y){return y instanceof xn||"EmptyError"===y?.name}const rs=Symbol("INITIAL_VALUE");function Fr(){return(0,nn.w)(y=>Tt(y.map(T=>T.pipe(Re(1),function ke(...y){const T=(0,ue.yG)(y);return(0,Rn.e)((m,b)=>{(T?nt(y,m,T):nt(y,m)).subscribe(b)})}(rs)))).pipe((0,pt.U)(T=>{for(const m of T)if(!0!==m){if(m===rs)return rs;if(!1===m||m instanceof pn)return m}return!0}),(0,Be.h)(T=>T!==rs),Re(1)))}function Go(y){return(0,Dt.z)((0,yt.b)(T=>{if(Tn(T))throw ui(0,T)}),(0,pt.U)(T=>!0===T))}class Ur{constructor(T){this.segmentGroup=T||null}}class Qs{constructor(T){this.urlTree=T}}function kn(y){return tt(new Ur(y))}function qa(y){return tt(new Qs(y))}class ta{constructor(T,m){this.urlSerializer=T,this.urlTree=m}noMatchError(T){return new S.vHH(4002,!1)}lineralizeSegments(T,m){let b=[],R=m.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,J.of)(b);if(R.numberOfChildren>1||!R.children[Qt])return tt(new S.vHH(4e3,!1));R=R.children[Qt]}}applyRedirectCommands(T,m,b){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),T,b)}applyRedirectCreateUrlTree(T,m,b,R){const $=this.createSegmentGroup(T,m.root,b,R);return new pn($,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(T,m){const b={};return Object.entries(T).forEach(([R,$])=>{if("string"==typeof $&&$.startsWith(":")){const Le=$.substring(1);b[R]=m[Le]}else b[R]=$}),b}createSegmentGroup(T,m,b,R){const $=this.createSegments(T,m.segments,b,R);let X={};return Object.entries(m.children).forEach(([Le,xe])=>{X[Le]=this.createSegmentGroup(T,xe,b,R)}),new It($,X)}createSegments(T,m,b,R){return m.map($=>$.path.startsWith(":")?this.findPosParam(T,$,R):this.findOrReturn($,b))}findPosParam(T,m,b){const R=b[m.path.substring(1)];if(!R)throw new S.vHH(4001,!1);return R}findOrReturn(T,m){let b=0;for(const R of m){if(R.path===T.path)return m.splice(b),R;b++}return T}}const Mo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hs(y,T,m,b,R){const $=na(y,T,m);return $.matched?(b=function ho(y,T){return y.providers&&!y._injector&&(y._injector=(0,S.MMx)(y.providers,T,`Route: ${y.path}`)),y._injector??T}(T,b),function hs(y,T,m,b){const R=T.canMatch;if(!R||0===R.length)return(0,J.of)(!0);const $=R.map(X=>{const Le=Y(X,y);return Sn(function gi(y){return y&&Vt(y.canMatch)}(Le)?Le.canMatch(T,m):y.runInContext(()=>Le(T,m)))});return(0,J.of)($).pipe(Fr(),Go())}(b,T,m).pipe((0,pt.U)(X=>!0===X?$:{...Mo}))):(0,J.of)($)}function na(y,T,m){if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||m.length>0)?{...Mo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const R=(T.matcher||fn)(m,y,T);if(!R)return{...Mo};const $={};Object.entries(R.posParams??{}).forEach(([Le,xe])=>{$[Le]=xe.path});const X=R.consumed.length>0?{...$,...R.consumed[R.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:R.consumed,remainingSegments:m.slice(R.consumed.length),parameters:X,positionalParamSegments:R.posParams??{}}}function ra(y,T,m,b){return m.length>0&&function Li(y,T,m){return m.some(b=>go(y,T,b)&&ki(b)!==Qt)}(y,m,b)?{segmentGroup:new It(T,Ji(b,new It(m,y.children))),slicedSegments:[]}:0===m.length&&function Xs(y,T,m){return m.some(b=>go(y,T,b))}(y,m,b)?{segmentGroup:new It(y.segments,xo(y,0,m,b,y.children)),slicedSegments:m}:{segmentGroup:new It(y.segments,y.children),slicedSegments:m}}function xo(y,T,m,b,R){const $={};for(const X of b)if(go(y,m,X)&&!R[ki(X)]){const Le=new It([],{});$[ki(X)]=Le}return{...R,...$}}function Ji(y,T){const m={};m[Qt]=T;for(const b of y)if(""===b.path&&ki(b)!==Qt){const R=new It([],{});m[ki(b)]=R}return m}function go(y,T,m){return(!(y.hasChildren()||T.length>0)||"full"!==m.pathMatch)&&""===m.path}class mo{constructor(T,m,b,R,$,X,Le){this.injector=T,this.configLoader=m,this.rootComponentType=b,this.config=R,this.urlTree=$,this.paramsInheritanceStrategy=X,this.urlSerializer=Le,this.allowRedirects=!0,this.applyRedirects=new ta(this.urlSerializer,this.urlTree)}noMatchError(T){return new S.vHH(4002,!1)}recognize(){const T=ra(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,Qt).pipe(dn(m=>{if(m instanceof Qs)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Ur?this.noMatchError(m):m}),(0,pt.U)(m=>{const b=new Ir([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,{}),R=new dr(b,m),$=new St("",R),X=function Ar(y,T,m=null,b=null){return Mr(Si(y),T,m,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,$.url=this.urlSerializer.serialize(X),this.inheritParamsAndData($._root),{state:$,tree:X}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,Qt).pipe(dn(b=>{throw b instanceof Ur?this.noMatchError(b):b}))}inheritParamsAndData(T){const m=T.value,b=Vs(m,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),T.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(T,m,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(T,m,b):this.processSegment(T,m,b,b.segments,R,!0)}processChildren(T,m,b){const R=[];for(const $ of Object.keys(b.children))"primary"===$?R.unshift($):R.push($);return(0,me.D)(R).pipe((0,zt.b)($=>{const X=b.children[$],Le=function fo(y,T){const m=y.filter(b=>ki(b)===T);return m.push(...y.filter(b=>ki(b)!==T)),m}(m,$);return this.processSegmentGroup(T,Le,X,$)}),function Nn(y,T){return(0,Rn.e)(function qn(y,T,m,b,R){return($,X)=>{let Le=m,xe=T,Mt=0;$.subscribe((0,He.x)(X,Dn=>{const or=Mt++;xe=Le?y(xe,Dn,or):(Le=!0,Dn),b&&X.next(xe)},R&&(()=>{Le&&X.next(xe),X.complete()})))}}(y,T,arguments.length>=2,!0))}(($,X)=>($.push(...X),$)),Ke(null),function er(y,T){const m=arguments.length>=2;return b=>b.pipe(y?(0,Be.h)((R,$)=>y(R,$,b)):ze.y,Mn(1),m?Ke(T):lt(()=>new xn))}(),(0,Ae.z)($=>{if(null===$)return kn(b);const X=B($);return function Ka(y){y.sort((T,m)=>T.value.outlet===Qt?-1:m.value.outlet===Qt?1:T.value.outlet.localeCompare(m.value.outlet))}(X),(0,J.of)(X)}))}processSegment(T,m,b,R,$,X){return(0,me.D)(m).pipe((0,zt.b)(Le=>this.processSegmentAgainstRoute(Le._injector??T,m,Le,b,R,$,X).pipe(dn(xe=>{if(xe instanceof Ur)return(0,J.of)(null);throw xe}))),vn(Le=>!!Le),dn(Le=>{if(wr(Le))return function Oa(y,T,m){return 0===T.length&&!y.children[m]}(b,R,$)?(0,J.of)([]):kn(b);throw Le}))}processSegmentAgainstRoute(T,m,b,R,$,X,Le){return function ws(y,T,m,b){return!!(ki(y)===b||b!==Qt&&go(T,m,y))&&("**"===y.path||na(T,y,m).matched)}(b,R,$,X)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(T,R,b,$,X,Le):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,R,m,b,$,X):kn(R):kn(R)}expandSegmentAgainstRouteUsingRedirect(T,m,b,R,$,X){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,b,R,X):this.expandRegularSegmentAgainstRouteUsingRedirect(T,m,b,R,$,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,m,b,R){const $=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?qa($):this.applyRedirects.lineralizeSegments(b,$).pipe((0,Ae.z)(X=>{const Le=new It(X,{});return this.processSegment(T,m,Le,X,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,m,b,R,$,X){const{matched:Le,consumedSegments:xe,remainingSegments:Mt,positionalParamSegments:Dn}=na(m,R,$);if(!Le)return kn(m);const or=this.applyRedirects.applyRedirectCommands(xe,R.redirectTo,Dn);return R.redirectTo.startsWith("/")?qa(or):this.applyRedirects.lineralizeSegments(R,or).pipe((0,Ae.z)(ar=>this.processSegment(T,b,m,ar.concat(Mt),X,!1)))}matchSegmentAgainstRoute(T,m,b,R,$,X){let Le;if("**"===b.path){const xe=R.length>0?Yr(R).parameters:{},Mt=new Ir(R,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L(b),ki(b),b.component??b._loadedComponent??null,b,ne(b));Le=(0,J.of)({snapshot:Mt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Le=Hs(m,b,R,T).pipe((0,pt.U)(({matched:xe,consumedSegments:Mt,remainingSegments:Dn,parameters:or})=>xe?{snapshot:new Ir(Mt,or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L(b),ki(b),b.component??b._loadedComponent??null,b,ne(b)),consumedSegments:Mt,remainingSegments:Dn}:null));return Le.pipe((0,nn.w)(xe=>null===xe?kn(m):this.getChildConfig(T=b._injector??T,b,R).pipe((0,nn.w)(({routes:Mt})=>{const Dn=b._loadedInjector??T,{snapshot:or,consumedSegments:ar,remainingSegments:No}=xe,{segmentGroup:fs,slicedSegments:oa}=ra(m,ar,No,Mt);if(0===oa.length&&fs.hasChildren())return this.processChildren(Dn,Mt,fs).pipe((0,pt.U)(zr=>null===zr?null:[new dr(or,zr)]));if(0===Mt.length&&0===oa.length)return(0,J.of)([new dr(or,[])]);const Iu=ki(b)===$;return this.processSegment(Dn,Mt,fs,oa,Iu?Qt:$,!0).pipe((0,pt.U)(zr=>[new dr(or,zr)]))}))))}getChildConfig(T,m,b){return m.children?(0,J.of)({routes:m.children,injector:T}):m.loadChildren?void 0!==m._loadedRoutes?(0,J.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function po(y,T,m,b){const R=T.canLoad;if(void 0===R||0===R.length)return(0,J.of)(!0);const $=R.map(X=>{const Le=Y(X,y);return Sn(function Hn(y){return y&&Vt(y.canLoad)}(Le)?Le.canLoad(T,m):y.runInContext(()=>Le(T,m)))});return(0,J.of)($).pipe(Fr(),Go())}(T,m,b).pipe((0,Ae.z)(R=>R?this.configLoader.loadChildren(T,m).pipe((0,yt.b)($=>{m._loadedRoutes=$.routes,m._loadedInjector=$.injector})):function Es(y){return tt(Ho(!1,3))}())):(0,J.of)({routes:[],injector:T})}}function E(y){const T=y.value.routeConfig;return T&&""===T.path}function B(y){const T=[],m=new Set;for(const b of y){if(!E(b)){T.push(b);continue}const R=T.find($=>b.value.routeConfig===$.value.routeConfig);void 0!==R?(R.children.push(...b.children),m.add(R)):T.push(b)}for(const b of m){const R=B(b.children);T.push(new dr(b.value,R))}return T.filter(b=>!m.has(b))}function L(y){return y.data||{}}function ne(y){return y.resolve||{}}function en(y){return"string"==typeof y.title||null===y.title}function Hr(y){return(0,nn.w)(T=>{const m=y(T);return m?(0,me.D)(m).pipe((0,pt.U)(()=>T)):(0,J.of)(T)})}const Yn=new S.OlP("ROUTES");let vi=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.f3M)(S.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,J.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const b=Sn(m.loadComponent()).pipe((0,pt.U)(yr),(0,yt.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=$}),(0,gr.x)(()=>{this.componentLoaders.delete(m)})),R=new ut(b,()=>new ht.x).pipe(Wn());return this.componentLoaders.set(m,R),R}loadChildren(m,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,J.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const $=function Ro(y,T,m,b){return Sn(y.loadChildren()).pipe((0,pt.U)(yr),(0,Ae.z)(R=>R instanceof S.YKP||Array.isArray(R)?(0,J.of)(R):(0,me.D)(T.compileModuleAsync(R))),(0,pt.U)(R=>{b&&b(y);let $,X,Le=!1;return Array.isArray(R)?(X=R,!0):($=R.create(m).injector,X=$.get(Yn,[],{optional:!0,self:!0}).flat()),{routes:X.map(Qi),injector:$}}))}(b,this.compiler,m,this.onLoadEndListener).pipe((0,gr.x)(()=>{this.childrenLoaders.delete(b)})),X=new ut($,()=>new ht.x).pipe(Wn());return this.childrenLoaders.set(b,X),X}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function yr(y){return function st(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Dr=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht.x,this.transitionAbortSubject=new ht.x,this.configLoader=(0,S.f3M)(vi),this.environmentInjector=(0,S.f3M)(S.lqb),this.urlSerializer=(0,S.f3M)(Pn),this.rootContexts=(0,S.f3M)(Pi),this.inputBindingEnabled=null!==(0,S.f3M)(Rr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new Na(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new uo(R))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:b})}setupNavigations(m,b,R){return this.transitions=new Ce.X({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:m.urlHandlingStrategy.extract(b),urlAfterRedirects:m.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vn,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Be.h)($=>0!==$.id),(0,pt.U)($=>({...$,extractedUrl:m.urlHandlingStrategy.extract($.rawUrl)})),(0,nn.w)($=>{this.currentTransition=$;let X=!1,Le=!1;return(0,J.of)($).pipe((0,yt.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,nn.w)(xe=>{const Mt=xe.currentBrowserUrl.toString(),Dn=!m.navigated||xe.extractedUrl.toString()!==Mt||Mt!==xe.currentUrlTree.toString();if(!Dn&&"reload"!==(xe.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const ar="";return this.events.next(new mr(xe.id,this.urlSerializer.serialize(xe.rawUrl),ar,0)),xe.resolve(null),at.E}if(m.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return(0,J.of)(xe).pipe((0,nn.w)(ar=>{const No=this.transitions?.getValue();return this.events.next(new jn(ar.id,this.urlSerializer.serialize(ar.extractedUrl),ar.source,ar.restoredState)),No!==this.transitions?.getValue()?at.E:Promise.resolve(ar)}),function Fe(y,T,m,b,R,$){return(0,Ae.z)(X=>function Uu(y,T,m,b,R,$,X="emptyOnly"){return new mo(y,T,m,b,R,X,$).recognize()}(y,T,m,b,X.extractedUrl,R,$).pipe((0,pt.U)(({state:Le,tree:xe})=>({...X,targetSnapshot:Le,urlAfterRedirects:xe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,yt.b)(ar=>{$.targetSnapshot=ar.targetSnapshot,$.urlAfterRedirects=ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ar.urlAfterRedirects};const No=new To(ar.id,this.urlSerializer.serialize(ar.extractedUrl),this.urlSerializer.serialize(ar.urlAfterRedirects),ar.targetSnapshot);this.events.next(No)}));if(Dn&&m.urlHandlingStrategy.shouldProcessUrl(xe.currentRawUrl)){const{id:ar,extractedUrl:No,source:fs,restoredState:oa,extras:Iu}=xe,zr=new jn(ar,this.urlSerializer.serialize(No),fs,oa);this.events.next(zr);const Po=jo(0,this.rootComponentType).snapshot;return this.currentTransition=$={...xe,targetSnapshot:Po,urlAfterRedirects:No,extras:{...Iu,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)($)}{const ar="";return this.events.next(new mr(xe.id,this.urlSerializer.serialize(xe.extractedUrl),ar,1)),xe.resolve(null),at.E}}),(0,yt.b)(xe=>{const Mt=new Xo(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(Mt)}),(0,pt.U)(xe=>(this.currentTransition=$={...xe,guards:k(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)},$)),function li(y,T){return(0,Ae.z)(m=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:$,canDeactivateChecks:X}}=m;return 0===X.length&&0===$.length?(0,J.of)({...m,guardsResult:!0}):function mi(y,T,m,b){return(0,me.D)(y).pipe((0,Ae.z)(R=>function Is(y,T,m,b,R){const $=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,J.of)(!0);const X=$.map(Le=>{const xe=_s(T)??R,Mt=Y(Le,xe);return Sn(function ci(y){return y&&Vt(y.canDeactivate)}(Mt)?Mt.canDeactivate(y,T,m,b):xe.runInContext(()=>Mt(y,T,m,b))).pipe(vn())});return(0,J.of)(X).pipe(Fr())}(R.component,R.route,m,T,b)),vn(R=>!0!==R,!0))}(X,b,R,y).pipe((0,Ae.z)(Le=>Le&&function Ut(y){return"boolean"==typeof y}(Le)?function $s(y,T,m,b){return(0,me.D)(T).pipe((0,zt.b)(R=>nt(function Jo(y,T){return null!==y&&T&&T(new Pa(y)),(0,J.of)(!0)}(R.route.parent,b),function is(y,T){return null!==y&&T&&T(new Vo(y)),(0,J.of)(!0)}(R.route,b),function ss(y,T,m){const b=T[T.length-1],$=T.slice(0,T.length-1).reverse().map(X=>function F(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(X)).filter(X=>null!==X).map(X=>At(()=>{const Le=X.guards.map(xe=>{const Mt=_s(X.node)??m,Dn=Y(xe,Mt);return Sn(function wi(y){return y&&Vt(y.canActivateChild)}(Dn)?Dn.canActivateChild(b,y):Mt.runInContext(()=>Dn(b,y))).pipe(vn())});return(0,J.of)(Le).pipe(Fr())}));return(0,J.of)($).pipe(Fr())}(y,R.path,m),function As(y,T,m){const b=T.routeConfig?T.routeConfig.canActivate:null;if(!b||0===b.length)return(0,J.of)(!0);const R=b.map($=>At(()=>{const X=_s(T)??m,Le=Y($,X);return Sn(function zn(y){return y&&Vt(y.canActivate)}(Le)?Le.canActivate(T,y):X.runInContext(()=>Le(T,y))).pipe(vn())}));return(0,J.of)(R).pipe(Fr())}(y,R.route,m))),vn(R=>!0!==R,!0))}(b,$,y,T):(0,J.of)(Le)),(0,pt.U)(Le=>({...m,guardsResult:Le})))})}(this.environmentInjector,xe=>this.events.next(xe)),(0,yt.b)(xe=>{if($.guardsResult=xe.guardsResult,Tn(xe.guardsResult))throw ui(0,xe.guardsResult);const Mt=new Ws(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.events.next(Mt)}),(0,Be.h)(xe=>!!xe.guardsResult||(this.cancelNavigationTransition(xe,"",3),!1)),Hr(xe=>{if(xe.guards.canActivateChecks.length)return(0,J.of)(xe).pipe((0,yt.b)(Mt=>{const Dn=new ls(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Dn)}),(0,nn.w)(Mt=>{let Dn=!1;return(0,J.of)(Mt).pipe(function Ze(y,T){return(0,Ae.z)(m=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=m;if(!R.length)return(0,J.of)(m);let $=0;return(0,me.D)(R).pipe((0,zt.b)(X=>function Jt(y,T,m,b){const R=y.routeConfig,$=y._resolve;return void 0!==R?.title&&!en(R)&&($[Zr]=R.title),function $r(y,T,m,b){const R=function Er(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===R.length)return(0,J.of)({});const $={};return(0,me.D)(R).pipe((0,Ae.z)(X=>function hr(y,T,m,b){const R=_s(T)??b,$=Y(y,R);return Sn($.resolve?$.resolve(T,m):R.runInContext(()=>$(T,m)))}(y[X],T,m,b).pipe(vn(),(0,yt.b)(Le=>{$[X]=Le}))),Mn(1),function Kn(y){return(0,pt.U)(()=>y)}($),dn(X=>wr(X)?at.E:tt(X)))}($,y,T,b).pipe((0,pt.U)(X=>(y._resolvedData=X,y.data=Vs(y,m).resolve,R&&en(R)&&(y.data[Zr]=R.title),null)))}(X.route,b,y,T)),(0,yt.b)(()=>$++),Mn(1),(0,Ae.z)(X=>$===R.length?(0,J.of)(m):at.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,yt.b)({next:()=>Dn=!0,complete:()=>{Dn||this.cancelNavigationTransition(Mt,"",2)}}))}),(0,yt.b)(Mt=>{const Dn=new bo(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Dn)}))}),Hr(xe=>{const Mt=Dn=>{const or=[];Dn.routeConfig?.loadComponent&&!Dn.routeConfig._loadedComponent&&or.push(this.configLoader.loadComponent(Dn.routeConfig).pipe((0,yt.b)(ar=>{Dn.component=ar}),(0,pt.U)(()=>{})));for(const ar of Dn.children)or.push(...Mt(ar));return or};return Tt(Mt(xe.targetSnapshot.root)).pipe(Ke(),Re(1))}),Hr(()=>this.afterPreactivation()),(0,pt.U)(xe=>{const Mt=function ys(y,T,m){const b=qt(y,T._root,m?m._root:void 0);return new ji(b,T)}(m.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return this.currentTransition=$={...xe,targetRouterState:Mt},$}),(0,yt.b)(()=>{this.events.next(new qs)}),((y,T,m,b)=>(0,pt.U)(R=>(new Nr(T,R.targetRouterState,R.currentRouterState,m,b).activate(y),R)))(this.rootContexts,m.routeReuseStrategy,xe=>this.events.next(xe),this.inputBindingEnabled),Re(1),(0,yt.b)({next:xe=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wi(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects))),m.titleStrategy?.updateTitle(xe.targetRouterState.snapshot),xe.resolve(!0)},complete:()=>{X=!0}}),function rn(y){return(0,Rn.e)((T,m)=>{(0,We.Xf)(y).subscribe((0,He.x)(m,()=>m.complete(),Zn.Z)),!m.closed&&T.subscribe(m)})}(this.transitionAbortSubject.pipe((0,yt.b)(xe=>{throw xe}))),(0,gr.x)(()=>{X||Le||this.cancelNavigationTransition($,"",1),this.currentNavigation?.id===$.id&&(this.currentNavigation=null)}),dn(xe=>{if(Le=!0,Wr(xe))this.events.next(new ai($.id,this.urlSerializer.serialize($.extractedUrl),xe.message,xe.cancellationCode)),function Cs(y){return Wr(y)&&Tn(y.url)}(xe)?this.events.next(new co(xe.url)):$.resolve(!1);else{this.events.next(new ni($.id,this.urlSerializer.serialize($.extractedUrl),xe,$.targetSnapshot??void 0));try{$.resolve(m.errorHandler(xe))}catch(Mt){$.reject(Mt)}}return at.E}))}))}cancelNavigationTransition(m,b,R){const $=new ai(m.id,this.urlSerializer.serialize(m.extractedUrl),b,R);this.events.next($),m.resolve(!1)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Ds(y){return y!==Vn}let Lt=(()=>{class y{buildTitle(m){let b,R=m.root;for(;void 0!==R;)b=this.getResolvedTitleForRoute(R)??b,R=R.children.find($=>$.outlet===Qt);return b}getResolvedTitleForRoute(m){return m.data[Zr]}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(Ht)},providedIn:"root"})}return y})(),Ht=(()=>{class y extends Lt{constructor(m){super(),this.title=m}updateTitle(m){const b=this.buildTitle(m);void 0!==b&&this.title.setTitle(b)}static#e=this.\u0275fac=function(b){return new(b||y)(S.LFG(oi.Dx))};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Bu=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(Ue)},providedIn:"root"})}return y})();class Pt{shouldDetach(T){return!1}store(T,m){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,m){return T.routeConfig===m.routeConfig}}let Ue=(()=>{class y extends Pt{static#e=this.\u0275fac=function(){let m;return function(R){return(m||(m=S.n5z(y)))(R||y)}}();static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const ot=new S.OlP("",{providedIn:"root",factory:()=>({})});let Di=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:function(){return(0,S.f3M)(mu)},providedIn:"root"})}return y})(),mu=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var ya=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(ya||{});function va(y,T){y.events.pipe((0,Be.h)(m=>m instanceof Wi||m instanceof ai||m instanceof ni||m instanceof mr),(0,pt.U)(m=>m instanceof Wi||m instanceof mr?ya.COMPLETE:m instanceof ai&&(0===m.code||1===m.code)?ya.REDIRECTING:ya.FAILED),(0,Be.h)(m=>m!==ya.REDIRECTING),Re(1)).subscribe(()=>{T()})}function yo(y){throw y}function yu(y,T,m){return T.parse("/")}const Tc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ii={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Js=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.f3M)(S.c2e),this.isNgZoneEnabled=!1,this._events=new ht.x,this.options=(0,S.f3M)(ot,{optional:!0})||{},this.pendingTasks=(0,S.f3M)(S.HDt),this.errorHandler=this.options.errorHandler||yo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.f3M)(Di),this.routeReuseStrategy=(0,S.f3M)(Bu),this.titleStrategy=(0,S.f3M)(Lt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.f3M)(Yn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.f3M)(Dr),this.urlSerializer=(0,S.f3M)(Pn),this.location=(0,S.f3M)(En.Ye),this.componentInputBindingEnabled=!!(0,S.f3M)(Rr,{optional:!0}),this.eventsSubscription=new yn.w0,this.isNgZoneEnabled=(0,S.f3M)(S.R0b)instanceof S.R0b&&S.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jo(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(zs(b)&&this._events.next(b));if(b instanceof jn)Ds(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(b instanceof mr)this.rawUrlTree=R.rawUrl;else if(b instanceof To){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl($,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(b instanceof qs)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(b instanceof ai)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(R);else if(b instanceof co){const $=this.urlHandlingStrategy.merge(b.url,R.currentRawUrl),X={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ds(R.source)};this.scheduleNavigation($,Vn,null,X,{resolve:R.resolve,reject:R.reject,promise:R.promise})}b instanceof ni&&this.restoreHistory(R,!0),b instanceof Wi&&(this.navigated=!0),zs(b)&&this._events.next(b)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const b="popstate"===m.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,b,m.state)},0)}))}navigateToSyncWithBrowser(m,b,R){const $={replaceUrl:!0},X=R?.navigationId?R:null;if(R){const xe={...R};delete xe.navigationId,delete xe.\u0275routerPageId,0!==Object.keys(xe).length&&($.state=xe)}const Le=this.parseUrl(m);this.scheduleNavigation(Le,b,X,$)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,b={}){const{relativeTo:R,queryParams:$,fragment:X,queryParamsHandling:Le,preserveFragment:xe}=b,Mt=xe?this.currentUrlTree.fragment:X;let or,Dn=null;switch(Le){case"merge":Dn={...this.currentUrlTree.queryParams,...$};break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=$||null}null!==Dn&&(Dn=this.removeEmptyProps(Dn));try{or=Si(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),or=this.currentUrlTree.root}return Mr(or,m,Dn,Mt??null)}navigateByUrl(m,b={skipLocationChange:!1}){const R=Tn(m)?m:this.parseUrl(m),$=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation($,Vn,null,b)}navigate(m,b={skipLocationChange:!1}){return function Za(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new S.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,b),b)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let b;try{b=this.urlSerializer.parse(m)}catch(R){b=this.malformedUriErrorHandler(R,this.urlSerializer,m)}return b}isActive(m,b){let R;if(R=!0===b?{...Tc}:!1===b?{...ii}:b,Tn(m))return Un(this.currentUrlTree,m,R);const $=this.parseUrl(m);return Un(this.currentUrlTree,$,R)}removeEmptyProps(m){return Object.keys(m).reduce((b,R)=>{const $=m[R];return null!=$&&(b[R]=$),b},{})}scheduleNavigation(m,b,R,$,X){if(this.disposed)return Promise.resolve(!1);let Le,xe,Mt;X?(Le=X.resolve,xe=X.reject,Mt=X.promise):Mt=new Promise((or,ar)=>{Le=or,xe=ar});const Dn=this.pendingTasks.add();return va(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dn))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:$,resolve:Le,reject:xe,promise:Mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mt.catch(or=>Promise.reject(or))}setBrowserUrl(m,b){const R=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(R)||b.extras.replaceUrl){const X={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(R,"",X)}else{const $={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(R,"",$)}}restoreHistory(m,b=!1){if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-this.browserPageId;0!==$?this.location.historyGo($):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===$&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,b){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:b}:{navigationId:m}}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function zs(y){return!(y instanceof qs||y instanceof co)}let Ya=(()=>{class y{constructor(m,b,R,$,X,Le){this.router=m,this.route=b,this.tabIndexAttribute=R,this.renderer=$,this.el=X,this.locationStrategy=Le,this.href=null,this.commands=null,this.onChanges=new ht.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xe=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xe||"area"===xe,this.isAnchorElement?this.subscription=m.events.subscribe(Mt=>{Mt instanceof Wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,b,R,$,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||b||R||$||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,S.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,b){const R=this.renderer,$=this.el.nativeElement;null!==b?R.setAttribute($,m,b):R.removeAttribute($,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(b){return new(b||y)(S.Y36(Js),S.Y36(Ki),S.$8M("tabindex"),S.Y36(S.Qsj),S.Y36(S.SBq),S.Y36(En.S$))};static#t=this.\u0275dir=S.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,R){1&b&&S.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&b&&S.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",S.VuI],replaceUrl:["replaceUrl","replaceUrl",S.VuI],routerLink:"routerLink"},standalone:!0,features:[S.Xq5,S.TTD]})}return y})();class os{}let _a=(()=>{class y{constructor(m,b,R,$,X){this.router=m,this.injector=R,this.preloadingStrategy=$,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(m=>m instanceof Wi),(0,zt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,b){const R=[];for(const $ of b){$.providers&&!$._injector&&($._injector=(0,S.MMx)($.providers,m,`Route: ${$.path}`));const X=$._injector??m,Le=$._loadedInjector??X;($.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent)&&R.push(this.preloadConfig(X,$)),($.children||$._loadedRoutes)&&R.push(this.processRoutes(Le,$.children??$._loadedRoutes))}return(0,me.D)(R).pipe((0,Wt.J)())}preloadConfig(m,b){return this.preloadingStrategy.preload(b,()=>{let R;R=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(m,b):(0,J.of)(null);const $=R.pipe((0,Ae.z)(X=>null===X?(0,J.of)(void 0):(b._loadedRoutes=X.routes,b._loadedInjector=X.injector,this.processRoutes(X.injector??m,X.routes))));if(b.loadComponent&&!b._loadedComponent){const X=this.loader.loadComponent(b);return(0,me.D)([$,X]).pipe((0,Wt.J)())}return $})}static#e=this.\u0275fac=function(b){return new(b||y)(S.LFG(Js),S.LFG(S.Sil),S.LFG(S.lqb),S.LFG(os),S.LFG(vi))};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Yt=new S.OlP("");let Vu=(()=>{class y{constructor(m,b,R,$,X={}){this.urlSerializer=m,this.transitions=b,this.viewportScroller=R,this.zone=$,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Wi?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof mr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof qi&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qi(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(b){S.$Z()};static#t=this.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac})}return y})();function Ms(y,T){return{\u0275kind:y,\u0275providers:T}}function Ia(){const y=(0,S.f3M)(S.zs3);return T=>{const m=y.get(S.z2F);if(T!==m.components[0])return;const b=y.get(Js),R=y.get(Wo);1===y.get(La)&&b.initialNavigation(),y.get(ju,null,S.XFs.Optional)?.setUpPreloading(),y.get(Yt,null,S.XFs.Optional)?.init(),b.resetRootComponentType(m.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Wo=new S.OlP("",{factory:()=>new ht.x}),La=new S.OlP("",{providedIn:"root",factory:()=>1}),ju=new S.OlP("");function $u(y){return Ms(0,[{provide:ju,useExisting:_a},{provide:os,useExisting:y}])}const zu=new S.OlP("ROUTER_FORROOT_GUARD"),sa=[En.Ye,{provide:Pn,useClass:Sr},Js,Pi,{provide:Ki,useFactory:function Nt(y){return y.routerState.root},deps:[Js]},vi,[]];function di(){return new S.PXZ("Router",Js)}let _u=(()=>{class y{constructor(m){}static forRoot(m,b){return{ngModule:y,providers:[sa,[],{provide:Yn,multi:!0,useValue:m},{provide:zu,useFactory:eu,deps:[[Js,new S.FiY,new S.tp0]]},{provide:ot,useValue:b||{}},b?.useHash?{provide:En.S$,useClass:En.Do}:{provide:En.S$,useClass:En.b0},{provide:Yt,useFactory:()=>{const y=(0,S.f3M)(En.EM),T=(0,S.f3M)(S.R0b),m=(0,S.f3M)(ot),b=(0,S.f3M)(Dr),R=(0,S.f3M)(Pn);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Vu(R,b,y,T,m)}},b?.preloadingStrategy?$u(b.preloadingStrategy).\u0275providers:[],{provide:S.PXZ,multi:!0,useFactory:di},b?.initialNavigation?Zc(b):[],b?.bindToComponentInputs?Ms(8,[ds,{provide:Rr,useExisting:ds}]).\u0275providers:[],[{provide:as,useFactory:Ia},{provide:S.tb,multi:!0,useExisting:as}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Yn,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(b){return new(b||y)(S.LFG(zu,8))};static#t=this.\u0275mod=S.oAB({type:y});static#n=this.\u0275inj=S.cJS({})}return y})();function eu(y){return"guarded"}function Zc(y){return["disabled"===y.initialNavigation?Ms(3,[{provide:S.ip1,multi:!0,useFactory:()=>{const T=(0,S.f3M)(Js);return()=>{T.setUpLocationChangeListener()}}},{provide:La,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ms(2,[{provide:La,useValue:0},{provide:S.ip1,multi:!0,deps:[S.zs3],useFactory:T=>{const m=T.get(En.V_,Promise.resolve());return()=>m.then(()=>new Promise(b=>{const R=T.get(Js),$=T.get(Wo);va(R,()=>{b(!0)}),T.get(Dr).afterPreactivation=()=>(b(!0),$.closed?(0,J.of)(void 0):$),R.initialNavigation()}))}}]).\u0275providers:[]]}const as=new S.OlP("")},534:(on,Xe,G)=>{G.d(Xe,{Jn:()=>ti,qX:()=>tr,Xd:()=>Sn,Mq:()=>$n,C6:()=>pn,ZF:()=>_r,KN:()=>Xr});var S=G(5861),oe=G(4537),le=G(7879),Te=G(9058);const me=(te,re)=>re.some(ve=>te instanceof ve);let J,Ce;const ee=new WeakMap,ue=new WeakMap,Me=new WeakMap,He=new WeakMap,et=new WeakMap;let xt={get(te,re,ve){if(te instanceof IDBTransaction){if("done"===re)return ue.get(te);if("objectStoreNames"===re)return te.objectStoreNames||Me.get(te);if("store"===re)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return Pe(te[re])},set:(te,re,ve)=>(te[re]=ve,!0),has:(te,re)=>te instanceof IDBTransaction&&("done"===re||"store"===re)||re in te};function Wt(te){return"function"==typeof te?function xn(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...re){return te.apply(nt(this),re),Pe(ee.get(this))}:function(...re){return Pe(te.apply(nt(this),re))}:function(re,...ve){const Ve=te.call(nt(this),re,...ve);return Me.set(Ve,re.sort?re.sort():[re]),Pe(Ve)}}(te):(te instanceof IDBTransaction&&function kt(te){if(ue.has(te))return;const re=new Promise((ve,Ve)=>{const dt=()=>{te.removeEventListener("complete",_t),te.removeEventListener("error",Kt),te.removeEventListener("abort",Kt)},_t=()=>{ve(),dt()},Kt=()=>{Ve(te.error||new DOMException("AbortError","AbortError")),dt()};te.addEventListener("complete",_t),te.addEventListener("error",Kt),te.addEventListener("abort",Kt)});ue.set(te,re)}(te),me(te,function Ie(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,xt):te)}function Pe(te){if(te instanceof IDBRequest)return function Tt(te){const re=new Promise((ve,Ve)=>{const dt=()=>{te.removeEventListener("success",_t),te.removeEventListener("error",Kt)},_t=()=>{ve(Pe(te.result)),dt()},Kt=()=>{Ve(te.error),dt()};te.addEventListener("success",_t),te.addEventListener("error",Kt)});return re.then(ve=>{ve instanceof IDBCursor&&ee.set(ve,te)}).catch(()=>{}),et.set(re,te),re}(te);if(He.has(te))return He.get(te);const re=Wt(te);return re!==te&&(He.set(te,re),et.set(re,te)),re}const nt=te=>et.get(te),Dt=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],at=new Map;function yn(te,re){if(!(te instanceof IDBDatabase)||re in te||"string"!=typeof re)return;if(at.get(re))return at.get(re);const ve=re.replace(/FromIndex$/,""),Ve=re!==ve,dt=tt.includes(ve);if(!(ve in(Ve?IDBIndex:IDBObjectStore).prototype)||!dt&&!Dt.includes(ve))return;const _t=function(){var Kt=(0,S.Z)(function*(sr,...Tn){const Ar=this.transaction(sr,dt?"readwrite":"readonly");let Si=Ar.store;return Ve&&(Si=Si.index(Tn.shift())),(yield Promise.all([Si[ve](...Tn),dt&&Ar.done]))[0]});return function(Tn){return Kt.apply(this,arguments)}}();return at.set(re,_t),_t}!function it(te){xt=te(xt)}(te=>({...te,get:(re,ve,Ve)=>yn(re,ve)||te.get(re,ve,Ve),has:(re,ve)=>!!yn(re,ve)||te.has(re,ve)}));class Rn{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function Wn(te){const re=te.getComponent();return"VERSION"===re?.type}(ve)){const Ve=ve.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(ve=>ve).join(" ")}}const ut="@firebase/app",En=new le.Yd("@firebase/app"),ur="[DEFAULT]",fn={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,rr=new Map;function kr(te,re){try{te.container.addComponent(re)}catch(ve){En.debug(`Component ${re.name} failed to register with FirebaseApp ${te.name}`,ve)}}function Sn(te){const re=te.name;if(rr.has(re))return En.debug(`There were multiple attempts to register component ${re}.`),!1;rr.set(re,te);for(const ve of ln.values())kr(ve,te);return!0}function tr(te,re){const ve=te.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),te.container.getProvider(re)}const bt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qr{constructor(re,ve,Ve){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const ti="9.23.0";function _r(te,re={}){let ve=te;"object"!=typeof re&&(re={name:re});const Ve=Object.assign({name:ur,automaticDataCollectionEnabled:!1},re),dt=Ve.name;if("string"!=typeof dt||!dt)throw bt.create("bad-app-name",{appName:String(dt)});if(ve||(ve=(0,Te.aH)()),!ve)throw bt.create("no-options");const _t=ln.get(dt);if(_t){if((0,Te.vZ)(ve,_t.options)&&(0,Te.vZ)(Ve,_t.config))return _t;throw bt.create("duplicate-app",{appName:dt})}const Kt=new oe.H0(dt);for(const Tn of rr.values())Kt.addComponent(Tn);const sr=new Qr(ve,Ve,Kt);return ln.set(dt,sr),sr}function $n(te=ur){const re=ln.get(te);if(!re&&te===ur&&(0,Te.aH)())return _r();if(!re)throw bt.create("no-app",{appName:te});return re}function pn(){return Array.from(ln.values())}function Xr(te,re,ve){var Ve;let dt=null!==(Ve=fn[te])&&void 0!==Ve?Ve:te;ve&&(dt+=`-${ve}`);const _t=dt.match(/\s|\//),Kt=re.match(/\s|\//);if(_t||Kt){const sr=[`Unable to register library "${dt}" with version "${re}":`];return _t&&sr.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),_t&&Kt&&sr.push("and"),Kt&&sr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void En.warn(sr.join(" "))}Sn(new oe.wA(`${dt}-version`,()=>({library:dt,version:re}),"VERSION"))}const Pn="firebase-heartbeat-database",Sr=1,ce="firebase-heartbeat-store";let j=null;function z(){return j||(j=function We(te,re,{blocked:ve,upgrade:Ve,blocking:dt,terminated:_t}={}){const Kt=indexedDB.open(te,re),sr=Pe(Kt);return Ve&&Kt.addEventListener("upgradeneeded",Tn=>{Ve(Pe(Kt.result),Tn.oldVersion,Tn.newVersion,Pe(Kt.transaction),Tn)}),ve&&Kt.addEventListener("blocked",Tn=>ve(Tn.oldVersion,Tn.newVersion,Tn)),sr.then(Tn=>{_t&&Tn.addEventListener("close",()=>_t()),dt&&Tn.addEventListener("versionchange",Ar=>dt(Ar.oldVersion,Ar.newVersion,Ar))}).catch(()=>{}),sr}(Pn,Sr,{upgrade:(te,re)=>{0===re&&te.createObjectStore(ce)}}).catch(te=>{throw bt.create("idb-open",{originalErrorMessage:te.message})})),j}function q(){return(q=(0,S.Z)(function*(te){try{return yield(yield z()).transaction(ce).objectStore(ce).get(gt(te))}catch(re){if(re instanceof Te.ZR)En.warn(re.message);else{const ve=bt.create("idb-get",{originalErrorMessage:re?.message});En.warn(ve.message)}}})).apply(this,arguments)}function _e(te,re){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,S.Z)(function*(te,re){try{const Ve=(yield z()).transaction(ce,"readwrite");yield Ve.objectStore(ce).put(re,gt(te)),yield Ve.done}catch(ve){if(ve instanceof Te.ZR)En.warn(ve.message);else{const Ve=bt.create("idb-set",{originalErrorMessage:ve?.message});En.warn(Ve.message)}}})).apply(this,arguments)}function gt(te){return`${te.name}!${te.options.appId}`}class Qn{constructor(re){this.container=re,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new Ee(ve),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var re=this;return(0,S.Z)(function*(){const Ve=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=un();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==dt&&!re._heartbeatsCache.heartbeats.some(_t=>_t.date===dt))return re._heartbeatsCache.heartbeats.push({date:dt,agent:Ve}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(_t=>{const Kt=new Date(_t.date).valueOf();return Date.now()-Kt<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,S.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const ve=un(),{heartbeatsToSend:Ve,unsentEntries:dt}=function Bn(te,re=1024){const ve=[];let Ve=te.slice();for(const dt of te){const _t=ve.find(Kt=>Kt.agent===dt.agent);if(_t){if(_t.dates.push(dt.date),se(ve)>re){_t.dates.pop();break}}else if(ve.push({agent:dt.agent,dates:[dt.date]}),se(ve)>re){ve.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:ve,unsentEntries:Ve}}(re._heartbeatsCache.heartbeats),_t=(0,Te.L)(JSON.stringify({version:2,heartbeats:Ve}));return re._heartbeatsCache.lastSentHeartbeatDate=ve,dt.length>0?(re._heartbeatsCache.heartbeats=dt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),_t})()}}function un(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,S.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function H(te){return q.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var ve=this;return(0,S.Z)(function*(){var Ve;if(yield ve._canUseIndexedDBPromise){const _t=yield ve.read();return _e(ve.app,{lastSentHeartbeatDate:null!==(Ve=re.lastSentHeartbeatDate)&&void 0!==Ve?Ve:_t.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var ve=this;return(0,S.Z)(function*(){var Ve;if(yield ve._canUseIndexedDBPromise){const _t=yield ve.read();return _e(ve.app,{lastSentHeartbeatDate:null!==(Ve=re.lastSentHeartbeatDate)&&void 0!==Ve?Ve:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...re.heartbeats]})}})()}}function se(te){return(0,Te.L)(JSON.stringify({version:2,heartbeats:te})).length}!function he(te){Sn(new oe.wA("platform-logger",re=>new Rn(re),"PRIVATE")),Sn(new oe.wA("heartbeat",re=>new Qn(re),"PRIVATE")),Xr(ut,"0.9.13",te),Xr(ut,"0.9.13","esm2017"),Xr("fire-js","")}("")},4537:(on,Xe,G)=>{G.d(Xe,{H0:()=>Ie,wA:()=>le});var S=G(5861),oe=G(9058);class le{constructor(ee,ue,Me){this.name=ee,this.instanceFactory=ue,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Te="[DEFAULT]";class me{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const Me=new oe.BH;if(this.instancesDeferred.set(ue,Me),this.isInitialized(ue)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:ue});He&&Me.resolve(He)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const Me=this.normalizeInstanceIdentifier(ee?.identifier),He=null!==(ue=ee?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(et){if(He)return null;throw et}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ce(ze){return"EAGER"===ze.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ue,Me]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(ue);try{const et=this.getOrInitializeService({instanceIdentifier:He});Me.resolve(et)}catch{}}}}clearInstance(ee=Te){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,S.Z)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ue.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Te){return this.instances.has(ee)}getOptions(ee=Te){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,Me=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Me,options:ue});for(const[et,Tt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(et)&&Tt.resolve(He);return He}onInit(ee,ue){var Me;const He=this.normalizeInstanceIdentifier(ue),et=null!==(Me=this.onInitCallbacks.get(He))&&void 0!==Me?Me:new Set;et.add(ee),this.onInitCallbacks.set(He,et);const Tt=this.instances.get(He);return Tt&&ee(Tt,He),()=>{et.delete(ee)}}invokeOnInitCallbacks(ee,ue){const Me=this.onInitCallbacks.get(ue);if(Me)for(const He of Me)try{He(ee,ue)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let Me=this.instances.get(ee);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=ee,ze===Te?void 0:ze),options:ue}),this.instances.set(ee,Me),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(Me,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Me)}catch{}var ze;return Me||null}normalizeInstanceIdentifier(ee=Te){return this.component?this.component.multipleInstances?ee:Te:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new me(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(on,Xe,G)=>{G.d(Xe,{Yd:()=>Ce,in:()=>oe});const S=[];var oe=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(oe||{});const le={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Te=oe.INFO,me={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},J=(ee,ue,...Me)=>{if(ue<ee.logLevel)return;const He=(new Date).toISOString(),et=me[ue];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[et](`[${He}]  ${ee.name}:`,...Me)};class Ce{constructor(ue){this.name=ue,this._logLevel=Te,this._logHandler=J,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in oe))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?le[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...ue),this._logHandler(this,oe.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...ue),this._logHandler(this,oe.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...ue),this._logHandler(this,oe.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...ue),this._logHandler(this,oe.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...ue),this._logHandler(this,oe.ERROR,...ue)}}},3182:(on,Xe,G)=>{G.d(Xe,{C6:()=>S.C6,KN:()=>S.KN,Mq:()=>S.Mq,ZF:()=>S.ZF});var S=G(534);(0,S.KN)("firebase","9.23.0","app")},15:(on,Xe,G)=>{G.d(Xe,{ET:()=>u_,hJ:()=>II,JU:()=>xg,PL:()=>vh,ad:()=>my,pl:()=>_h});var Ie,S=G(5861),oe=G(534),le=G(4537),Te=G(7879),me=G(9058),J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={},ze=ze||{},ee=J||self;function ue(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Me(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var et="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function kt(i,e,n){return i.call.apply(i.bind,arguments)}function xt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function it(i,e,n){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:xt).apply(null,arguments)}function xn(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Wt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[u].apply(o,f)}}function Pe(){this.s=this.s,this.o=this.o}Pe.prototype.s=!1,Pe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function He(i){Object.prototype.hasOwnProperty.call(i,et)&&i[et]||(i[et]=++Tt)}(this)},Pe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const We=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function At(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Dt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(ue(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return i}();function yn(i){return/^[\s\xa0]*$/.test(i)}function Rn(){var i=ee.navigator;return i&&(i=i.userAgent)?i:""}function Wn(i){return-1!=Rn().indexOf(i)}function ut(i){return ut[" "](i),i}ut[" "]=function(){};var Ke,i,En=Wn("Opera"),pt=Wn("Trident")||Wn("MSIE"),nn=Wn("Edge"),Re=nn||pt,ke=Wn("Gecko")&&!(-1!=Rn().toLowerCase().indexOf("webkit")&&!Wn("Edge"))&&!(Wn("Trident")||Wn("MSIE"))&&!Wn("Edge"),Be=-1!=Rn().toLowerCase().indexOf("webkit")&&!Wn("Edge");function Ae(){var i=ee.document;return i?i.documentMode:void 0}e:{var lt="",jt=(i=Rn(),ke?/rv:([^\);]+)(\)|;)/.exec(i):nn?/Edge\/([\d\.]+)/.exec(i):pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Be?/WebKit\/(\S+)/.exec(i):En?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(jt&&(lt=jt?jt[1]:""),pt){var vn=Ae();if(null!=vn&&vn>parseFloat(lt)){Ke=String(vn);break e}}Ke=lt}var dn=ee.document&&pt&&(Ae()||parseInt(Ke,10))||void 0;function qn(i,e){if(tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ke){e:{try{ut(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Nn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qn.$.h.call(this)}}Wt(qn,tt);var Nn={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Mn="closure_listenable_"+(1e6*Math.random()|0),er=0;function Kn(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++er,this.fa=this.ia=!1}function gr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Zn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function oi(i){const e={};for(const n in i)e[n]=i[n];return e}const Qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Qt.length;l++)n=Qt[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Cn(i){this.src=i,this.g={},this.h=0}function ur(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=We(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(gr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function fn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Cn.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=fn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Kn(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var ln="closure_lm_"+(1e6*Math.random()|0),rr={};function kr(i,e,n,o,u){if(o&&o.once)return tr(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)kr(i,e[l],n,o,u);return null}return n=_r(n),i&&i[Mn]?i.O(e,n,Me(o)?!!o.capture:!!o,u):Yr(i,e,n,!1,o,u)}function Yr(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Me(u)?!!u.capture:!!u,w=Qr(i);if(w||(i[ln]=w=new Cn(i)),(n=w.add(e,n,o,f,l)).proxy)return n;if(o=function Sn(){const e=bt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)at||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ci(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function tr(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)tr(i,e[l],n,o,u);return null}return n=_r(n),i&&i[Mn]?i.P(e,n,Me(o)?!!o.capture:!!o,u):Yr(i,e,n,!0,o,u)}function Vr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Vr(i,e[l],n,o,u);else o=Me(o)?!!o.capture:!!o,n=_r(n),i&&i[Mn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=fn(l=i.g[e],n,o,u))&&(gr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Qr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fn(e,n,o,u)),(n=-1<i?e[i]:null)&&Un(n))}function Un(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Mn])ur(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ci(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Qr(e))?(ur(n,i),0==n.h&&(n.src=null,e[ln]=null)):gr(i)}}}function Ci(i){return i in rr?rr[i]:rr[i]="on"+i}function bt(i,e){if(i.fa)i=!0;else{e=new qn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Un(i),i=n.call(o,e)}return i}function Qr(i){return(i=i[ln])instanceof Cn?i:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function _r(i){return"function"==typeof i?i:(i[ti]||(i[ti]=function(e){return i.handleEvent(e)}),i[ti])}function $n(){Pe.call(this),this.i=new Cn(this),this.S=this,this.J=null}function pn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new tt(e,i);else if(e instanceof tt)e.target=e.target||i;else{var u=e;Zr(e=new tt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=It(f,o,!0,e)&&u}if(u=It(f=e.g=i,o,!0,e)&&u,u=It(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=It(f=e.g=n[l],o,!1,e)&&u}function It(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var w=f.listener,x=f.la||f.src;f.ia&&ur(i.i,f),u=!1!==w.call(x,o)&&u}}return u&&!o.defaultPrevented}Wt($n,Pe),$n.prototype[Mn]=!0,$n.prototype.removeEventListener=function(i,e,n,o){Vr(this,i,e,n,o)},$n.prototype.N=function(){if($n.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)gr(n[o]);delete i.g[e],i.h--}}this.J=null},$n.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},$n.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var cr=ee.JSON.stringify;function Cr(){var i=q;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Pn=new class Xr{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sr,i=>i.reset());class Sr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ce(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function j(i){ee.setTimeout(()=>{throw i},0)}let z,H=!1,q=new class Ni{constructor(){this.h=this.g=null}add(e,n){const o=Pn.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},_e=()=>{const i=ee.Promise.resolve(void 0);z=()=>{i.then(Ye)}};var Ye=()=>{for(var i;i=Cr();){try{i.h.call(i.g)}catch(n){j(n)}var e=Pn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}H=!1};function gt(i,e){$n.call(this),this.h=i||1,this.g=e||ee,this.j=it(this.qb,this),this.l=Date.now()}function an(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Xt(i,e,n){if("function"==typeof i)n&&(i=it(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=it(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function Qn(i){i.g=Xt(()=>{i.g=null,i.i&&(i.i=!1,Qn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Wt(gt,$n),(Ie=gt.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(an(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){gt.$.N.call(this),an(this),delete this.g};class un extends Pe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(i){Pe.call(this),this.h=i,this.g={}}Wt(Bn,Pe);var Ee=[];function se(i,e,n,o){Array.isArray(n)||(n&&(Ee[0]=n.toString()),n=Ee);for(var u=0;u<n.length;u++){var l=kr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function he(i){Zn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Un(e)},i),i.g={}}function te(){this.g=!0}function Ve(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _t(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return cr(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Bn.prototype.N=function(){Bn.$.N.call(this),he(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Ea=function(){this.g=!1},te.prototype.info=function(){};var Kt={},sr=null;function Tn(){return sr=sr||new $n}function Ar(i){tt.call(this,Kt.Ta,i)}function Si(i){const e=Tn();pn(e,new Ar(e))}function Mr(i,e){tt.call(this,Kt.STAT_EVENT,i),this.stat=e}function gn(i){const e=Tn();pn(e,new Mr(e,i))}function On(i,e){tt.call(this,Kt.Ua,i),this.size=e}function xr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}Kt.Ta="serverreachability",Wt(Ar,tt),Kt.STAT_EVENT="statevent",Wt(Mr,tt),Kt.Ua="timingevent",Wt(On,tt);var wn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gi(){}function Bi(){}Gi.prototype.h=null;var fe,fi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ns(){tt.call(this,"d")}function ao(){tt.call(this,"c")}function pe(){}function be(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Bn(this),this.P=ft,this.V=new gt(i=Re?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}Wt(ns,tt),Wt(ao,tt),Wt(pe,Gi),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},fe=new pe;var ft=45e3,sn={},Vn={};function bn(i,e,n){i.L=1,i.v=Pi(qi(e)),i.s=n,i.S=!0,jn(i,null)}function jn(i,e){i.G=Date.now(),ni(i),i.A=qi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),St(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Qe,i.g=is(i.l,n?e:null,!i.s),0<i.O&&(i.M=new un(it(i.Pa,i,i.g),i.O)),se(i.U,i.g,"readystatechange",i.nb),e=i.I?oi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Si(),function re(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",w=l.split("&"),x=0;x<w.length;x++){var O=w[x].split("=");if(1<O.length){var W=O[0];O=O[1];var ie=W.split("_");f=2<=ie.length&&"type"==ie[1]?f+(W+"=")+O+"&":f+(W+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Wi(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ai(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=mr(i,n),u==Vn){4==e&&(i.o=4,gn(14),o=!1),Ve(i.j,i.m,null,"[Incomplete Response]");break}if(u==sn){i.o=4,gn(15),Ve(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Ve(i.j,i.m,u,null),bo(i,u)}Wi(i)&&u!=Vn&&u!=sn&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,gn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ei(e),e.M=!0,gn(11))):(Ve(i.j,i.m,n,"[Invalid Chunked Response]"),ls(i),Ws(i))}function mr(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Vn:(n=Number(e.substring(n,o)),isNaN(n)?sn:(o+=1)+n>e.length?Vn:(e=e.slice(o,o+n),i.C=o+n,e))}function ni(i){i.Y=Date.now()+i.P,To(i,i.P)}function To(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=xr(it(i.lb,i),e)}function Xo(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Ws(i){0==i.l.H||i.J||rs(i.l,i)}function ls(i){Xo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,an(i.V),he(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function bo(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||ds(n.i,i)))if(!i.K&&ds(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;wr(n),Ge(n)}gi(n),gn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=xr(it(n.ib,n),6e3));if(1>=Rr(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else li(n,11)}else if((i.K||n.g==i)&&wr(n),!yn(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let O=u[e];if(n.V=O[0],O=O[1],2==n.H)if("c"==O[0]){n.K=O[1],n.pa=O[2];const W=O[3];null!=W&&(n.ra=W,n.l.info("VER="+n.ra));const ie=O[4];null!=ie&&(n.Ga=ie,n.l.info("SVER="+n.Ga));const Ne=O[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=o=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const qe=i.g;if(qe){const wt=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var l=o.i;l.g||-1==wt.indexOf("spdy")&&-1==wt.indexOf("quic")&&-1==wt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ys(l,l.h),l.h=null))}if(o.F){const $t=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;$t&&(o.Da=$t,jr(o.I,o.F,$t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=$s(o,o.J?o.pa:null,o.Y),f.K){qt(o.i,f);var w=f,x=o.L;x&&w.setTimeout(x),w.B&&(Xo(w),ni(w)),o.g=f}else ci(o);0<n.j.length&&Vt(n)}else"stop"!=O[0]&&"close"!=O[0]||li(n,7);else 3==n.H&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?li(n,7):De(n):"noop"!=O[0]&&n.h&&n.h.Aa(O),n.A=0)}Si()}catch{}}function Pa(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ue(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Na(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ue(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function uo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ue(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ie=be.prototype).setTimeout=function(i){this.P=i},Ie.nb=function(i){i=i.target;const e=this.M;e&&3==Nr(i)?e.l():this.Pa(i)},Ie.Pa=function(i){try{if(i==this.g)e:{const W=Nr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>W)&&(3!=W||Re||this.g&&(this.h.h||this.g.ja()||Ei(this.g)))){this.J||4!=W||7==e||Si(),Xo(this);var n=this.g.da();this.ca=n;t:if(Wi(this)){var o=Ei(this.g);i="";var u=o.length,l=4==Nr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Ws(this);var f="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function ve(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,W,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,x=this.g;if((w=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yn(w)){var O=w;break t}}O=null}if(!(n=O)){this.i=!1,this.o=3,gn(12),ls(this),Ws(this);break e}Ve(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bo(this,n)}this.S?(ai(this,W,f),Re&&this.i&&3==W&&(se(this.U,this.V,"tick",this.mb),this.V.start())):(Ve(this.j,this.m,f,null),bo(this,f)),4==W&&ls(this),this.i&&!this.J&&(4==W?rs(this.l,this):(this.i=!1,ni(this)))}else(function Ao(i){const e={};i=(i.g&&2<=Nr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(yn(i[o]))continue;var n=ce(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function rn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),ls(this),Ws(this)}}}catch{}},Ie.mb=function(){if(this.g){var i=Nr(this.g),e=this.g.ja();this.C<e.length&&(Xo(this),ai(this,i,e),this.i&&4!=i&&ni(this))}},Ie.cancel=function(){this.J=!0,ls(this)},Ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function dt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Si(),gn(17)),ls(this),this.o=2,Ws(this)):To(this,this.Y-i)};var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Bs){this.h=i.h,qs(this,i.j),this.s=i.s,this.g=i.g,co(this,i.m),this.l=i.l;var e=i.i,n=new Ki;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pa(this,n),this.o=i.o}else i&&(e=String(i).match(Co))?(this.h=!1,qs(this,e[1]||"",!0),this.s=Ks(e[2]||""),this.g=Ks(e[3]||"",!0),co(this,e[4]),this.l=Ks(e[5]||"",!0),pa(this,e[6]||"",!0),this.o=Ks(e[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}function qi(i){return new Bs(i)}function qs(i,e,n){i.j=n?Ks(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function co(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function pa(i,e,n){e instanceof Ki?(i.i=e,function Gr(i,e){e&&!i.j&&(Vs(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ga(this,o),St(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=An(e,jo)),i.i=new Ki(e,i.h))}function jr(i,e,n){i.i.set(e,n)}function Pi(i){return jr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ks(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function An(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ri),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ri(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Bs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(An(e,dr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(An(e,dr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(An(n,"/"==n.charAt(0)?ji:Vi,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",An(n,gu)),i.join("")};var dr=/[#\/\?@]/g,Vi=/[#\?:]/g,ji=/[#\?]/g,jo=/[#\?@]/g,gu=/#/g;function Ki(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vs(i){i.g||(i.g=new Map,i.h=0,i.i&&function Vo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ga(i,e){Vs(i),e=mn(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ir(i,e){return Vs(i),e=mn(i,e),i.g.has(e)}function St(i,e,n){ga(i,e),0<n.length&&(i.i=null,i.g.set(mn(i,e),At(n)),i.h+=n.length)}function mn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ms(i){this.l=i||Oi,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=Ki.prototype).add=function(i,e){Vs(this),this.i=null,i=mn(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ie.forEach=function(i,e){Vs(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ie.ta=function(){Vs(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ie.Z=function(i){Vs(this);let e=[];if("string"==typeof i)Ir(this,i)&&(e=e.concat(this.g.get(mn(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ie.set=function(i,e){return Vs(this),this.i=null,Ir(this,i=mn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Oi=10;function So(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Rr(i){return i.h?1:i.g?i.g.size:0}function ds(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ys(i,e){i.g?i.g.add(e):i.h=e}function qt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function $o(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return At(i.i)}ms.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var lo=class{stringify(i){return ee.JSON.stringify(i,void 0)}parse(i){return ee.JSON.parse(i,void 0)}};function js(){this.g=new lo}function ui(i,e,n){const o=n||"";try{Pa(i,function(u,l){let f=u;Me(u)&&(f=cr(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Cs(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Wr(i){this.l=i.fc||null,this.j=i.ob||!1}function Ss(i,e){$n.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(Wr,Gi),Wr.prototype.g=function(){return new Ss(this.l,this.j)},Wr.prototype.i=function(i){return function(){return i}}({}),Wt(Ss,$n);var ho=0;function Zs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Yi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ys(i)}function Ys(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=Ss.prototype).open=function(i,e){if(this.readyState!=ho)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ys(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yi(this)),this.readyState=ho},Ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Yi(this):Ys(this),3==this.readyState&&Zs(this)}},Ie.Za=function(i){this.g&&(this.response=this.responseText=i,Yi(this))},Ie.Ya=function(i){this.g&&(this.response=i,Yi(this))},Ie.ka=function(){this.g&&Yi(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $i=ee.JSON.parse;function Zt(i){$n.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dc,this.L=this.M=!1}Wt(Zt,$n);var Dc="",zo=/^https?$/i,vs=["POST","PUT"];function ki(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,fo(i),pi(i)}function fo(i){i.F||(i.F=!0,pn(i,"complete"),pn(i,"error"))}function _s(i){if(i.h&&typeof ze<"u"&&(!i.C[1]||4!=Nr(i)||2!=i.da()))if(i.v&&4==Nr(i))Xt(i.La,0,i);else if(pn(i,"readystatechange"),4==Nr(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Co)[1]||null;!u&&ee.self&&ee.self.location&&(u=ee.self.location.protocol.slice(0,-1)),o=!zo.test(u?u.toLowerCase():"")}n=o}if(n)pn(i,"complete"),pn(i,"success");else{i.m=6;try{var l=2<Nr(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",fo(i)}}finally{pi(i)}}}function pi(i,e){if(i.g){ma(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||pn(i,"ready");try{n.onreadystatechange=o}catch{}}}function ma(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function Nr(i){return i.g?i.g.readyState:0}function Ei(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Dc:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function k(i){let e="";return Zn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function F(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=k(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):jr(i,e,n))}function Y(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ae(i){this.Ga=0,this.j=[],this.l=new te,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Y("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Y("baseRetryDelayMs",5e3,i),this.hb=Y("retryDelaySeedMs",1e4,i),this.eb=Y("forwardChannelMaxRetries",2,i),this.xa=Y("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ms(i&&i.concurrentRequestLimit),this.Ja=new js,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function De(i){if(vt(i),3==i.H){var e=i.W++,n=qi(i.I);if(jr(n,"SID",i.K),jr(n,"RID",e),jr(n,"TYPE","terminate"),zn(i,n),(e=new be(i,i.l,e)).L=2,e.v=Pi(qi(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=is(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ni(e)}mi(i)}function Ge(i){i.g&&(ei(i),i.g.cancel(),i.g=null)}function vt(i){Ge(i),i.u&&(ee.clearTimeout(i.u),i.u=null),wr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function Vt(i){if(!So(i.i)&&!i.m){i.m=!0;var e=i.Na;z||_e(),H||(z(),H=!0),q.add(e,i),i.C=0}}function Hn(i,e){var n;n=e?e.m:i.W++;const o=qi(i.I);jr(o,"SID",i.K),jr(o,"RID",n),jr(o,"AID",i.V),zn(i,o),i.o&&i.s&&F(o,i.o,i.s),n=new be(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=wi(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ys(i.i,n),bn(n,o,e)}function zn(i,e){i.na&&Zn(i.na,function(n,o){jr(e,o,n)}),i.h&&Pa({},function(n,o){jr(e,o,n)})}function wi(i,e,n){n=Math.min(i.j.length,n);var o=i.h?it(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let x=0;x<n;x++){let O=u[x].g;const W=u[x].map;if(O-=l,0>O)l=Math.max(0,u[x].g-100),w=!1;else try{ui(W,f,"req"+O+"_")}catch{o&&o(W)}}if(w){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ci(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;z||_e(),H||(z(),H=!0),q.add(e,i),i.A=0}}function gi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=xr(it(i.Ma,i),Fr(i,i.A)),i.A++,0))}function ei(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function Xi(i){i.g=new be(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=qi(i.wa);jr(e,"RID","rpc"),jr(e,"SID",i.K),jr(e,"AID",i.V),jr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&jr(e,"TO",i.qa),jr(e,"TYPE","xmlhttp"),zn(i,e),i.o&&i.s&&F(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Pi(qi(e)),n.s=null,n.S=!0,jn(n,i)}function wr(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function rs(i,e){var n=null;if(i.g==e){wr(i),ei(i),i.g=null;var o=2}else{if(!ds(i.i,e))return;n=e.F,qt(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;pn(o=Tn(),new On(o,n)),Vt(i)}else ci(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Ut(i,e){return!(Rr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=xr(it(i.Na,i,e),Fr(i,i.C)),i.C++,0)))}(i,e)||2==o&&gi(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:li(i,5);break;case 4:li(i,10);break;case 3:li(i,6);break;default:li(i,2)}}function Fr(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function li(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=it(i.pb,i);n||(n=new Bs("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||qs(n,"https"),Pi(n)),function Ho(i,e){const n=new te;if(ee.Image){const o=new Image;o.onload=xn(Cs,n,o,"TestLoadImage: loaded",!0,e),o.onerror=xn(Cs,n,o,"TestLoadImage: error",!1,e),o.onabort=xn(Cs,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=xn(Cs,n,o,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else gn(2);i.H=0,i.h&&i.h.za(e),mi(i),vt(i)}function mi(i){if(i.H=0,i.ma=[],i.h){const e=$o(i.i);(0!=e.length||0!=i.j.length)&&(Dt(i.ma,e),Dt(i.ma,i.j),i.i.i.length=0,At(i.j),i.j.length=0),i.h.ya()}}function $s(i,e,n){var o=n instanceof Bs?qi(n):new Bs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),co(o,o.m);else{var u=ee.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Bs(null);o&&qs(l,o),e&&(l.g=e),u&&co(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&jr(o,n,e),jr(o,"VER",i.ra),zn(i,o),o}function is(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zt(n&&i.Ha&&!i.va?new Wr({ob:!0}):i.va)).Oa(i.J),e}function Jo(){}function As(){if(pt&&!(10<=Number(dn)))throw Error("Environmental error: no available transport.")}function ss(i,e){$n.call(this),this.g=new ae(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!yn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Go(this)}function Is(i){ns.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function po(){ao.call(this),this.status=1}function Go(i){this.g=i}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qs(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function kn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ie=Zt.prototype).Oa=function(i){this.M=i},Ie.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fe.g(),this.C=function Lr(i){return i.h||(i.h=i.i())}(this.u?this.u:fe),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void ki(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=ee.FormData&&i instanceof ee.FormData,!(0<=We(vs,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ma(this),0<this.B&&((this.L=function Qi(i){return pt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=Xt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){ki(this,l)}},Ie.ua=function(){typeof ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,pn(this,"complete"),pn(this,"abort"),pi(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pi(this,!0)),Zt.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?_s(this):this.kb())},Ie.kb=function(){_s(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$i(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=ae.prototype).ra=8,Ie.H=1,Ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new be(this,this.l,i);let l=this.s;if(this.U&&(l?(l=oi(l),Zr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wi(this,u,e),jr(n=qi(this.I),"RID",i),jr(n,"CVER",22),this.F&&jr(n,"X-HTTP-Session-Id",this.F),zn(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(k(l)))+"&"+e:this.o&&F(n,this.o,l)),ys(this.i,u),this.bb&&jr(n,"TYPE","init"),this.P?(jr(n,"$req",e),jr(n,"SID","null"),u.aa=!0,bn(u,n,null)):bn(u,n,e),this.H=2}}else 3==this.H&&(i?Hn(this,i):0==this.j.length||So(this.i)||Hn(this))},Ie.Ma=function(){if(this.u=null,Xi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=xr(it(this.jb,this),i)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),Ge(this),Xi(this))},Ie.ib=function(){null!=this.v&&(this.v=null,Ge(this),gi(this),gn(19))},Ie.pb=function(i){i?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=Jo.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},As.prototype.g=function(i,e){return new ss(i,e)},Wt(ss,$n),ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;gn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=$s(i,null,i.Y),Vt(i)},ss.prototype.close=function(){De(this.g)},ss.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=cr(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Vt(e)},ss.prototype.N=function(){this.g.h=null,delete this.j,De(this.g),delete this.g,ss.$.N.call(this)},Wt(Is,ns),Wt(po,ao),Wt(Go,Jo),Go.prototype.Ba=function(){pn(this.g,"a")},Go.prototype.Aa=function(i){pn(this.g,new Is(i))},Go.prototype.za=function(i){pn(this.g,new po)},Go.prototype.ya=function(){pn(this.g,"b")},Wt(Ur,function hs(){this.blockSize=-1}),Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ur.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Qs(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Qs(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Qs(this,o),u=0;break}}this.h=u,this.i+=e},Ur.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var qa={};function ea(i){return-128<=i&&128>i?function ht(i,e){var n=qa;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new kn([0|e],0>e?-1:0)}):new kn([0|i],0>i?-1:0)}function Es(i){if(isNaN(i)||!isFinite(i))return Hs;if(0>i)return Li(Es(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Mo;return new kn(e,0)}var Mo=4294967296,Hs=ea(0),na=ea(1),ra=ea(16777216);function xo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Ji(i){return-1==i.h}function Li(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new kn(n,~i.h).add(na)}function Xs(i,e){return i.add(Li(e))}function go(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ws(i,e){this.g=i,this.h=e}function Oa(i,e){if(xo(e))throw Error("division by zero");if(xo(i))return new ws(Hs,Hs);if(Ji(i))return e=Oa(Li(i),e),new ws(Li(e.g),Li(e.h));if(Ji(e))return e=Oa(i,Li(e)),new ws(Li(e.g),e.h);if(30<i.g.length){if(Ji(i)||Ji(e))throw Error("slowDivide_ only works with positive integers.");for(var n=na,o=e;0>=o.X(i);)n=Uu(n),o=Uu(o);var u=mo(n,1),l=mo(o,1);for(o=mo(o,2),n=mo(n,2);!xo(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=mo(o,1),n=mo(n,1)}return e=Xs(i,u.R(e)),new ws(u,e)}for(u=Hs;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Es(n)).R(e);Ji(f)||0<f.X(i);)f=(l=Es(n-=o)).R(e);xo(l)&&(l=na),u=u.add(l),i=Xs(i,f)}return new ws(u,i)}function Uu(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new kn(n,i.h)}function mo(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new kn(u,i.h)}(Ie=kn.prototype).ea=function(){if(Ji(this))return-Li(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Mo+o)*e,e*=Mo}return i},Ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(xo(this))return"0";if(Ji(this))return"-"+Li(this).toString(i);for(var e=Es(Math.pow(i,6)),n=this,o="";;){var u=Oa(n,e).g,l=((0<(n=Xs(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(xo(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ie.X=function(i){return Ji(i=Xs(this,i))?-1:xo(i)?0:1},Ie.abs=function(){return Ji(this)?Li(this):this},Ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new kn(n,-2147483648&n[n.length-1]?-1:0)},Ie.R=function(i){if(xo(this)||xo(i))return Hs;if(Ji(this))return Ji(i)?Li(this).R(Li(i)):Li(Li(this).R(i));if(Ji(i))return Li(this.R(Li(i)));if(0>this.X(ra)&&0>i.X(ra))return Es(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),w=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,go(n,2*o+2*u),n[2*o+2*u+1]+=l*x,go(n,2*o+2*u+1),n[2*o+2*u+1]+=f*w,go(n,2*o+2*u+1),n[2*o+2*u+2]+=l*w,go(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new kn(n,0)},Ie.gb=function(i){return Oa(this,i).h},Ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new kn(n,this.h&i.h)},Ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new kn(n,this.h|i.h)},Ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new kn(n,this.h^i.h)},As.prototype.createWebChannel=As.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,Jr.COMPLETE="complete",Bi.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",$n.prototype.listen=$n.prototype.O,Zt.prototype.listenOnce=Zt.prototype.P,Zt.prototype.getLastError=Zt.prototype.Sa,Zt.prototype.getLastErrorCode=Zt.prototype.Ia,Zt.prototype.getStatus=Zt.prototype.da,Zt.prototype.getResponseJson=Zt.prototype.Wa,Zt.prototype.getResponseText=Zt.prototype.ja,Zt.prototype.send=Zt.prototype.ha,Zt.prototype.setWithCredentials=Zt.prototype.Oa,Ur.prototype.digest=Ur.prototype.l,Ur.prototype.reset=Ur.prototype.reset,Ur.prototype.update=Ur.prototype.j,kn.prototype.add=kn.prototype.add,kn.prototype.multiply=kn.prototype.R,kn.prototype.modulo=kn.prototype.gb,kn.prototype.compare=kn.prototype.X,kn.prototype.toNumber=kn.prototype.ea,kn.prototype.toString=kn.prototype.toString,kn.prototype.getBits=kn.prototype.D,kn.fromNumber=Es,kn.fromString=function ta(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Li(ta(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Es(Math.pow(e,8)),o=Hs,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Es(Math.pow(e,l)),o=o.R(l).add(Es(f))):o=(o=o.R(n)).add(Es(f))}return o};var Ka=Ce.createWebChannelTransport=function(){return new As},E=Ce.getStatEventTarget=function(){return Tn()},B=Ce.ErrorCode=wn,M=Ce.EventType=Jr,L=Ce.Event=Kt,ne=Ce.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fe=Ce.FetchXmlHttpFactory=Wr,Ze=Ce.WebChannel=Bi,Jt=Ce.XhrIo=Zt,$r=Ce.Md5=Ur,Er=Ce.Integer=kn;const hr="@firebase/firestore";class en{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Hr="9.23.0";const Yn=new Te.Yd("@firebase/firestore");function vi(){return Yn.logLevel}function st(i,...e){if(Yn.logLevel<=Te.in.DEBUG){const n=e.map(Ds);Yn.debug(`Firestore (${Hr}): ${i}`,...n)}}function yr(i,...e){if(Yn.logLevel<=Te.in.ERROR){const n=e.map(Ds);Yn.error(`Firestore (${Hr}): ${i}`,...n)}}function Dr(i,...e){if(Yn.logLevel<=Te.in.WARN){const n=e.map(Ds);Yn.warn(`Firestore (${Hr}): ${i}`,...n)}}function Ds(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Lt(i="Unexpected state"){const e=`FIRESTORE (${Hr}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function Ht(i,e){i||Lt()}function Pt(i,e){return i}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends me.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mu{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ya{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yo{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=O=>this.i!==u?(u=this.i,n(O)):Promise.resolve();let f=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Di,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const O=f;e.enqueueRetryable((0,S.Z)(function*(){yield O.promise,yield l(o.currentUser)}))},x=O=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(O=>x(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?x(O):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Di)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ht("string"==typeof o.accessToken),new mu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new en(e)}}class yu{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=en.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Tc{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new yu(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ii{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Js{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ht("string"==typeof n.token),this.T=n.token,new ii(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zs(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ya{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=zs(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function _n(i,e){return i<e?-1:i>e?1:0}function vo(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Ti{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Ti(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Ti(0,0))}static max(){return new Ot(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _a{constructor(e,n,o){void 0===n?n=0:n>e.length&&Lt(),void 0===o?o=e.length-n:o>e.length-n&&Lt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===_a.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _a?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Yt extends _a{construct(e,n,o){return new Yt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new ot(Ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Yt(n)}static emptyPath(){return new Yt([])}}const Vu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends _a{construct(e,n,o){return new lr(e,n,o)}static isValidIdentifier(e){return Vu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new ot(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new ot(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new ot(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===w?(f=!f,u++):"."!==w||f?(o+=w,u++):(l(),u++)}if(l(),f)throw new ot(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(n)}static emptyPath(){return new lr([])}}class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(Yt.fromString(e))}static fromName(e){return new Nt(Yt.fromString(e).popFirst(5))}static empty(){return new Nt(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new Yt(e.slice()))}}function vu(i){return new Ts(i.readTime,i.key,-1)}class Ts{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ts(Ot.min(),Nt.empty(),-1)}static max(){return new Ts(Ot.max(),Nt.empty(),-1)}}function qo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Nt.comparator(i.documentKey,e.documentKey),0!==n?n:_n(i.largestBatchId,e.largestBatchId))}const ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $u{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ia(i){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,S.Z)(function*(i){if(i.code!==Ue.FAILED_PRECONDITION||i.message!==ju)throw i;st("LocalStore","Unexpectedly lost primary lease")}),Hu.apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,o)=>{n(e)})}static reject(e){return new Oe((n,o)=>{o(e)})}static waitFor(e){return new Oe((n,o)=>{let u=0,l=0,f=!1;e.forEach(w=>{++u,w.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=Oe.resolve(!1);for(const o of e)n=n.next(u=>u?Oe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Oe((o,u)=>{const l=e.length,f=new Array(l);let w=0;for(let x=0;x<l;x++){const O=x;n(e[O]).next(W=>{f[O]=W,++w,w===l&&o(f)},W=>u(W))}})}static doWhile(e,n){return new Oe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function di(i){return"IndexedDbTransactionError"===i.name}let as=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Fa(i){return null==i}function Fi(i){return 0===i&&1/i==-1/0}function nu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ea(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function aa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class qr{constructor(e,n){this.comparator=e,this.root=n||Ai.EMPTY}insert(e,n){return new qr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ai.RED,this.left=u??Ai.EMPTY,this.right=l??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ai(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ai.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ai(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yc(this.data.getIterator())}getIteratorFrom(e){return new Yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hi(this.comparator);return n.data=e,n}}class Yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rs{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new Rs([])}unionWith(e){let n=new hi(lr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Wu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wu("Invalid base64 string: "+u):u}}(e);return new Mi(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Mi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Al=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(i){if(Ht(!!i),"string"==typeof i){let e=0;const n=Al.exec(i);if(Ht(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:yi(i.seconds),nanos:yi(i.nanos)}}function yi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ba(i){return"string"==typeof i?Mi.fromBase64String(i):Mi.fromUint8Array(i)}function ru(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qc(i){const e=i.mapValue.fields.__previous_value__;return ru(e)?Qc(e):e}function Ku(i){const e=Ua(i.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}class wu{constructor(e,n,o,u,l,f,w,x,O){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=O}}class Da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}const Oo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ru(i)?4:Ml(i)?9007199254740991:10:Lt()}function to(i,e){if(i===e)return!0;const n=ua(i);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ku(i).isEqual(Ku(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Ua(o.timestampValue),f=Ua(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ba(i.bytesValue).isEqual(Ba(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return yi(o.geoPointValue.latitude)===yi(u.geoPointValue.latitude)&&yi(o.geoPointValue.longitude)===yi(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yi(o.integerValue)===yi(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=yi(o.doubleValue),f=yi(u.doubleValue);return l===f?Fi(l)===Fi(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],to);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(nu(l)!==nu(f))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(void 0===f[w]||!to(l[w],f[w])))return!1;return!0}(i,e);default:return Lt()}var u}function Va(i,e){return void 0!==(i.values||[]).find(n=>to(n,e))}function ca(i,e){if(i===e)return 0;const n=ua(i),o=ua(e);if(n!==o)return _n(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return _n(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=yi(u.integerValue||u.doubleValue),w=yi(l.integerValue||l.doubleValue);return f<w?-1:f>w?1:f===w?0:isNaN(f)?isNaN(w)?0:-1:1}(i,e);case 3:return bc(i.timestampValue,e.timestampValue);case 4:return bc(Ku(i),Ku(e));case 5:return _n(i.stringValue,e.stringValue);case 6:return function(u,l){const f=Ba(u),w=Ba(l);return f.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),w=l.split("/");for(let x=0;x<f.length&&x<w.length;x++){const O=_n(f[x],w[x]);if(0!==O)return O}return _n(f.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=_n(yi(u.latitude),yi(l.latitude));return 0!==f?f:_n(yi(u.longitude),yi(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],w=l.values||[];for(let x=0;x<f.length&&x<w.length;++x){const O=ca(f[x],w[x]);if(O)return O}return _n(f.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Oo.mapValue&&l===Oo.mapValue)return 0;if(u===Oo.mapValue)return 1;if(l===Oo.mapValue)return-1;const f=u.fields||{},w=Object.keys(f),x=l.fields||{},O=Object.keys(x);w.sort(),O.sort();for(let W=0;W<w.length&&W<O.length;++W){const ie=_n(w[W],O[W]);if(0!==ie)return ie;const Ne=ca(f[w[W]],x[O[W]]);if(0!==Ne)return Ne}return _n(w.length,O.length)}(i.mapValue,e.mapValue);default:throw Lt()}}function bc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _n(i,e);const n=Ua(i),o=Ua(e),u=_n(n.seconds,o.seconds);return 0!==u?u:_n(n.nanos,o.nanos)}function la(i){return Cc(i)}function Cc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ua(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ba(i.bytesValue).toBase64():"referenceValue"in i?Nt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Cc(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const w of u)f?f=!1:l+=",",l+=`${w}:${Cc(o.fields[w])}`;return l+"}"}(i.mapValue):Lt();var e}function Ta(i){return!!i&&"integerValue"in i}function ba(i){return!!i&&"arrayValue"in i}function Zu(i){return!!i&&"nullValue"in i}function Ca(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ja(i){return!!i&&"mapValue"in i}function iu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ea(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=iu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ml(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=lr.emptyPath(),o={},u=[];e.forEach((f,w)=>{if(!n.isImmediateParentOf(w)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=w.popLast()}f?o[w.lastSegment()]=iu(f):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];ja(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ea(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new _i(iu(this.value))}}function ko(i){const e=[];return Ea(i.fields,(n,o)=>{const u=new lr([n]);if(ja(o)){const l=ko(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Rs(e)}class Ii{constructor(e,n,o,u,l,f,w){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new Ii(e,0,Ot.min(),Ot.min(),Ot.min(),_i.empty(),0)}static newFoundDocument(e,n,o,u){return new Ii(e,1,n,Ot.min(),o,u,0)}static newNoDocument(e,n){return new Ii(e,2,n,Ot.min(),Ot.min(),_i.empty(),0)}static newUnknownDocument(e,n){return new Ii(e,3,n,Ot.min(),Ot.min(),_i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sa{constructor(e,n){this.position=e,this.inclusive=n}}function Aa(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Nt.comparator(Nt.fromName(f.referenceValue),n.key):ca(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Tu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!to(i.position[n],e.position[n]))return!1;return!0}class Lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function no(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class _d{}class fr extends _d{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new $e(e,n,o):"array-contains"===n?new Fn(e,o):"in"===n?new Gn(e,o):"not-in"===n?new Eo(e,o):"array-contains-any"===n?new Ns(e,o):new fr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Ft(e,o):new Rt(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ca(n,this.value)):null!==n&&ua(this.value)===ua(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pr extends _d{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Pr(e,n)}matches(e){return bu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bu(i){return"and"===i.op}function I(i){return function A(i){for(const e of i.filters)if(e instanceof Pr)return!1;return!0}(i)&&bu(i)}function P(i){if(i instanceof fr)return i.field.canonicalString()+i.op.toString()+la(i.value);if(I(i))return i.filters.map(e=>P(e)).join(",");{const e=i.filters.map(n=>P(n)).join(",");return`${i.op}(${e})`}}function Z(i,e){return i instanceof fr?(n=i,(o=e)instanceof fr&&n.op===o.op&&n.field.isEqual(o.field)&&to(n.value,o.value)):i instanceof Pr?function(n,o){return o instanceof Pr&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&Z(l,o.filters[f]),!0)}(i,e):void Lt();var n,o}function we(i){return i instanceof fr?`${(e=i).field.canonicalString()} ${e.op} ${la(e.value)}`:i instanceof Pr?function(e){return e.op.toString()+" {"+e.getFilters().map(we).join(" ,")+"}"}(i):"Filter";var e}class $e extends fr{constructor(e,n,o){super(e,n,o),this.key=Nt.fromName(o.referenceValue)}matches(e){const n=Nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ft extends fr{constructor(e,n){super(e,"in",n),this.keys=tn(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rt extends fr{constructor(e,n){super(e,"not-in",n),this.keys=tn(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tn(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Nt.fromName(o.referenceValue))}class Fn extends fr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ba(n)&&Va(n.arrayValue,this.value)}}class Gn extends fr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Va(this.value.arrayValue,n)}}class Eo extends fr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Va(this.value.arrayValue,n)}}class Ns extends fr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ba(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Va(this.value.arrayValue,o))}}class tl{constructor(e,n=null,o=[],u=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=w,this.dt=null}}function Ma(i,e=null,n=[],o=[],u=null,l=null,f=null){return new tl(i,e,n,o,u,l,f)}function Fo(i){const e=Pt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>P(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Fa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>la(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>la(o)).join(",")),e.dt=n}return e.dt}function ro(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!no(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Z(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tu(i.startAt,e.startAt)&&Tu(i.endAt,e.endAt)}function si(i){return Nt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class us{constructor(e,n=null,o=[],u=[],l=null,f="F",w=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=x,this.wt=null,this._t=null}}function Qu(i){return new us(i)}function rl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Su(i){const e=Pt(i);if(null===e.wt){e.wt=[];const n=function xl(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),o=function Xu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Lo(n)),e.wt.push(new Lo(lr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Lo(lr.keyField(),l))}}}return e.wt}function Uo(i){const e=Pt(i);if(!e._t)if("F"===e.limitType)e._t=Ma(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Su(e))n.push(new Lo(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Sa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Sa(e.startAt.position,e.startAt.inclusive):null;e._t=Ma(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Ju(i,e,n){return new us(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ha(i,e){return ro(Uo(i),Uo(e))&&i.limitType===e.limitType}function bh(i){return`${Fo(Uo(i))}|lt:${i.limitType}`}function Id(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>we(o)).join(", ")}]`),Fa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>la(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>la(o)).join(",")),`Target(${n})`}(Uo(i))}; limitType=${i.limitType})`}function ec(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Nt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Su(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const w=Aa(u,l,f);return u.inclusive?w<=0:w<0}(n.startAt,Su(n),o)||n.endAt&&!function(u,l,f){const w=Aa(u,l,f);return u.inclusive?w>=0:w>0}(n.endAt,Su(n),o)));var n,o}function Sh(i){return(e,n)=>{let o=!1;for(const u of Su(i)){const l=Wf(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Wf(i,e,n){const o=i.field.isKeyField()?Nt.comparator(e.key,n.key):function(u,l,f){const w=l.data.field(u),x=f.data.field(u);return null!==w&&null!==x?ca(w,x):Lt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Lt()}}class ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return aa(this.inner)}size(){return this.innerSize}}const qf=new qr(Nt.comparator);function io(){return qf}const Rl=new qr(Nt.comparator);function Nl(...i){let e=Rl;for(const n of i)e=e.insert(n.key,n);return e}function Pl(i){let e=Rl;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function au(){return kl()}function Ol(){return kl()}function kl(){return new ou(i=>i.toString(),(i,e)=>i.isEqual(e))}const Kf=new qr(Nt.comparator),Ah=new hi(Nt.comparator);function Xn(...i){let e=Ah;for(const n of i)e=e.add(n);return e}const Zf=new hi(_n);function Yf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(e)?"-0":e}}function tc(i){return{integerValue:""+i}}function il(i,e){return function Ko(i){return"number"==typeof i&&Number.isInteger(i)&&!Fi(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?tc(e):Yf(i,e)}class Ed{constructor(){this._=void 0}}function Zy(i,e,n){return i instanceof Ll?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ru(u)&&(u=Qc(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof Ac?Jf(i,e):i instanceof Mc?Fl(i,e):function(o,u){const l=Xf(o,u),f=ep(l)+ep(o.gt);return Ta(l)&&Ta(o.gt)?tc(f):Yf(o.serializer,f)}(i,e)}function Qf(i,e,n){return i instanceof Ac?Jf(i,e):i instanceof Mc?Fl(i,e):n}function Xf(i,e){return i instanceof xc?Ta(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Ll extends Ed{}class Ac extends Ed{constructor(e){super(),this.elements=e}}function Jf(i,e){const n=xh(e);for(const o of i.elements)n.some(u=>to(u,o))||n.push(o);return{arrayValue:{values:n}}}class Mc extends Ed{constructor(e){super(),this.elements=e}}function Fl(i,e){let n=xh(e);for(const o of i.elements)n=n.filter(u=>!to(u,o));return{arrayValue:{values:n}}}class xc extends Ed{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ep(i){return yi(i.integerValue||i.doubleValue)}function xh(i){return ba(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Yy{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class sl{}function om(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Au(i.key,Hi.none()):new Ul(i.key,i.data,Hi.none());{const n=i.data,o=_i.empty();let u=new hi(lr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new nc(i.key,o,new Rs(u.toArray()),Hi.none())}}function Qy(i,e,n){i instanceof Ul?function(o,u,l){const f=o.value.clone(),w=np(o.fieldTransforms,u,l.transformResults);f.setAll(w),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof nc?function(o,u,l){if(!Dd(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=np(o.fieldTransforms,u,l.transformResults),w=u.data;w.setAll(um(o)),w.setAll(f),u.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Rc(i,e,n,o){return i instanceof Ul?function(u,l,f,w){if(!Dd(u.precondition,l))return f;const x=u.value.clone(),O=Bl(u.fieldTransforms,w,l);return x.setAll(O),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof nc?function(u,l,f,w){if(!Dd(u.precondition,l))return f;const x=Bl(u.fieldTransforms,w,l),O=l.data;return O.setAll(um(u)),O.setAll(x),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(W=>W.field))}(i,e,n,o):(f=n,Dd(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Xy(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Xf(o.transform,u||null);null!=l&&(null===n&&(n=_i.empty()),n.set(o.field,l))}return n||null}function am(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&vo(n,o,(u,l)=>function tp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Ac&&o instanceof Ac||n instanceof Mc&&o instanceof Mc?vo(n.elements,o.elements,to):n instanceof xc&&o instanceof xc?to(n.gt,o.gt):n instanceof Ll&&o instanceof Ll);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Ul extends sl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class nc extends sl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function um(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function np(i,e,n){const o=new Map;Ht(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,w=e.data.field(l.field);o.set(l.field,Qf(f,w,n[u]))}return o}function Bl(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Zy(l,f,e))}return o}class Au extends sl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Td extends sl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bd{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Qy(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Rc(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Rc(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Ol();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=n.has(u.key)?null:w;const x=om(f,w);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Ot.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xn())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,o)=>am(n,o))&&vo(this.baseMutations,e.baseMutations,(n,o)=>am(n,o))}}class Cd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ht(e.mutations.length===o.length);let u=Kf;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Cd(e,n,o,u)}}class rc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ip{constructor(e,n){this.count=e,this.unchangedNames=n}}var ts,Tr;function sp(i){if(void 0===i)return yr("GRPC error has no .code"),Ue.UNKNOWN;switch(i){case ts.OK:return Ue.OK;case ts.CANCELLED:return Ue.CANCELLED;case ts.UNKNOWN:return Ue.UNKNOWN;case ts.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case ts.INTERNAL:return Ue.INTERNAL;case ts.UNAVAILABLE:return Ue.UNAVAILABLE;case ts.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case ts.NOT_FOUND:return Ue.NOT_FOUND;case ts.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case ts.ABORTED:return Ue.ABORTED;case ts.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case ts.DATA_LOSS:return Ue.DATA_LOSS;default:return Lt()}}(Tr=ts||(ts={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";class Rh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _}static getOrCreateInstance(){return null===_&&(_=new Rh),_}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let _=null;const p=new Er([4294967295,4294967295],0);function D(i){const e=function h(){return new TextEncoder}().encode(i),n=new $r;return n.update(e),new Uint8Array(n.digest())}function U(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Er([n,o],0),new Er([u,l],0)]}class K{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new ye(`Invalid padding: ${n}`);if(o<0)throw new ye(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ye(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new ye(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Er.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Er.fromNumber(o)));return 1===u.compare(p)&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=D(e),[o,u]=U(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new K(l,u,n);return o.forEach(w=>f.insert(w)),f}insert(e){if(0===this.It)return;const n=D(e),[o,u]=U(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ye extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class je{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Et.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new je(Ot.min(),u,new qr(_n),io(),Xn())}}class Et{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Et(o,n,Xn(),Xn(),Xn())}}class Ct{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class cn{constructor(e,n){this.targetId=e,this.Vt=n}}class pr{constructor(e,n,o=Mi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Gs{constructor(){this.St=0,this.Dt=jl(),this.Ct=Mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xn(),n=Xn(),o=Xn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Lt()}}),new Et(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=jl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zi{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=io(),this.zt=uu(),this.Wt=new qr(_n)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(si(f))if(0===u){const w=new Nt(f.path);this.Yt(o,w,Ii.newNoDocument(w,Ot.min()))}else Ht(1===u);else{const w=this.ie(o);if(w!==u){const x=this.re(e,w);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Rh.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(O,W,ie){var Ne,qe,wt,$t,Gt,ir;const Br={localCacheCount:W,existenceFilterCount:ie.count},vr=ie.unchangedNames;return vr&&(Br.bloomFilter={applied:0===O,hashCount:null!==(Ne=vr?.hashCount)&&void 0!==Ne?Ne:0,bitmapLength:null!==($t=null===(wt=null===(qe=vr?.bits)||void 0===qe?void 0:qe.bitmap)||void 0===wt?void 0:wt.length)&&void 0!==$t?$t:0,padding:null!==(ir=null===(Gt=vr?.bits)||void 0===Gt?void 0:Gt.padding)&&void 0!==ir?ir:0}),Br}(x,w,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:w=0}=o;let x,O;try{x=Ba(l).toUint8Array()}catch(W){if(W instanceof Wu)return Dr("Decoding the base64 bloom filter in existence filter failed ("+W.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw W}try{O=new K(x,f,w)}catch(W){return Dr(W instanceof ye?"BloomFilter error: ":"Applying bloom filter failed: ",W),1}return 0===O.It?1:u!==n-this.oe(e.targetId,O)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),w=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(w)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const w=this.se(f);if(w){if(l.current&&si(w.target)){const x=new Nt(w.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,Ii.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Xn();this.zt.forEach((l,f)=>{let w=!0;f.forEachWhile(x=>{const O=this.se(x);return!O||"TargetPurposeLimboResolution"===O.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new je(e,n,this.Wt,this.jt,o);return this.jt=io(),this.zt=uu(),this.Wt=new qr(_n),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Gs,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new hi(_n),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||st("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gs),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function uu(){return new qr(Nt.comparator)}function jl(){return new qr(Nt.comparator)}const $l={asc:"ASCENDING",desc:"DESCENDING"},Nh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sd={and:"AND",or:"OR"};class Ad{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ol(i,e){return i.useProto3Json||Fa(e)?e:{value:e}}function ic(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function al(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ph(i,e){return ic(i,e.toTimestamp())}function cs(i){return Ht(!!i),Ot.fromTimestamp(function(e){const n=Ua(e);return new Ti(n.seconds,n.nanos)}(i))}function sc(i,e){return(n=i,new Yt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Hl(i){const e=Yt.fromString(i);return Ht(hp(e)),e}function Md(i,e){return sc(i.databaseId,e.path)}function fa(i,e){const n=Hl(e);if(n.get(1)!==i.databaseId.projectId)throw new ot(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ot(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Nt(ap(n))}function op(i,e){return sc(i.databaseId,e)}function zl(i){return new Yt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ap(i){return Ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function up(i,e,n){return{name:Md(i,e),fields:n.value.mapValue.fields}}function dm(i,e){return{documents:[op(i,e.path)]}}function cp(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=op(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=op(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return gm(Pr.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(O=>{return{field:Mu((W=O).field),direction:pm(W.dir)};var W})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=ol(i,e.limit);var w,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function hm(i){let e=function cm(i){const e=Hl(i);return 4===e.length?Yt.emptyPath():ap(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ht(1===o);const W=n.from[0];W.allDescendants?u=W.collectionId:e=e.child(W.collectionId)}let l=[];n.where&&(l=function(W){const ie=fm(W);return ie instanceof Pr&&I(ie)?ie.getFilters():[ie]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(W=>{return new Lo(Wl((ie=W).field),function(Ne){switch(Ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ie.direction));var ie}));let w=null;n.limit&&(w=function(W){let ie;return ie="object"==typeof W?W.value:W,Fa(ie)?null:ie}(n.limit));let x=null;var W;n.startAt&&(x=new Sa((W=n.startAt).values||[],!!W.before));let O=null;return n.endAt&&(O=function(W){return new Sa(W.values||[],!W.before)}(n.endAt)),function Cu(i,e,n,o,u,l,f,w){return new us(i,e,n,o,u,l,f,w)}(e,u,f,l,w,"F",x,O)}function fm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wl(e.unaryFilter.field);return fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Wl(e.unaryFilter.field);return fr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wl(e.unaryFilter.field);return fr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wl(e.unaryFilter.field);return fr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(i):void 0!==i.fieldFilter?fr.create(Wl((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Pr.create(e.compositeFilter.filters.map(n=>fm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Lt()}}(e.compositeFilter.op))}(i):Lt();var e}function pm(i){return $l[i]}function kh(i){return Nh[i]}function lp(i){return Sd[i]}function Mu(i){return{fieldPath:i.canonicalString()}}function Wl(i){return lr.fromServerFormat(i.fieldPath)}function gm(i){return i instanceof fr?function(e){if("=="===e.op){if(Ca(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NAN"}};if(Zu(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ca(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NAN"}};if(Zu(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(e.field),op:kh(e.op),value:e.value}}}(i):i instanceof Pr?function(e){const n=e.getFilters().map(o=>gm(o));return 1===n.length?n[0]:{compositeFilter:{op:lp(e.op),filters:n}}}(i):Lt()}function dp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Yo{constructor(e,n,o,u,l=Ot.min(),f=Ot.min(),w=Mi.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fp{constructor(e){this.fe=e}}function xd(i){const e=hm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ju(e,e.limit,"L"):e}class cu{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(yi(e.integerValue));else if("doubleValue"in e){const o=yi(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),Fi(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ba(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?Ml(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Lt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Nt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}cu.Ve=new cu;class Em{constructor(){this.rn=new Vh}addToCollectionParentIndex(e,n){return this.rn.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Ts.min())}updateCollectionGroup(e,n,o){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class Vh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new hi(Yt.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new hi(Yt.comparator)).toArray()}}new Uint8Array(0);class Ps{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class fl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fl(0)}static Mn(){return new fl(-1)}}class lI{constructor(){this.changes=new ou(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Oe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Cp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Rc(o.mutation,u,Rs.empty(),Ti.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Xn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Xn()){const u=au();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Nl();return l.forEach((w,x)=>{f=f.insert(w,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=au();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Xn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,w)=>{n.set(f,w)})})}computeViews(e,n,o,u){let l=io();const f=kl(),w=kl();return n.forEach((x,O)=>{const W=o.get(O.key);u.has(O.key)&&(void 0===W||W.mutation instanceof nc)?l=l.insert(O.key,O):void 0!==W?(f.set(O.key,W.mutation.getFieldMask()),Rc(W.mutation,O,W.mutation.getFieldMask(),Ti.now())):f.set(O.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((O,W)=>f.set(O,W)),n.forEach((O,W)=>{var ie;return w.set(O,new cv(W,null!==(ie=f.get(O))&&void 0!==ie?ie:null))}),w))}recalculateAndSaveOverlays(e,n){const o=kl();let u=new qr((f,w)=>f-w),l=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const w of f)w.keys().forEach(x=>{const O=n.get(x);if(null===O)return;let W=o.get(x)||Rs.empty();W=w.applyToLocalView(O,W),o.set(x,W);const ie=(u.get(w.batchId)||Xn()).add(x);u=u.insert(w.batchId,ie)})}).next(()=>{const f=[],w=u.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),O=x.key,W=x.value,ie=Ol();W.forEach(Ne=>{if(!l.has(Ne)){const qe=om(n.get(Ne),o.get(Ne));null!==qe&&ie.set(Ne,qe),l=l.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,O,ie))}return Oe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Nt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Th(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Oe.resolve(au());let w=-1,x=l;return f.next(O=>Oe.forEach(O,(W,ie)=>(w<ie.largestBatchId&&(w=ie.largestBatchId),l.get(W)?Oe.resolve():this.remoteDocumentCache.getEntry(e,W).next(Ne=>{x=x.insert(W,Ne)}))).next(()=>this.populateOverlays(e,O,l)).next(()=>this.computeViews(e,x,O,Xn())).next(W=>({batchId:w,changes:Pl(W)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Nt(n)).next(o=>{let u=Nl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Nl();return this.indexManager.getCollectionParents(e,u).next(f=>Oe.forEach(f,w=>{const x=(O=n,W=w.child(u),new us(W,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,W;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(O=>{O.forEach((W,ie)=>{l=l.insert(W,ie)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((w,x)=>{const O=x.getKey();null===l.get(O)&&(l=l.insert(O,Ii.newInvalidDocument(O)))});let f=Nl();return l.forEach((w,x)=>{const O=u.get(w);void 0!==O&&Rc(O.mutation,x,Rs.empty(),Ti.now()),ec(n,x)&&(f=f.insert(w,x))}),f})}}class Hh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Oe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:cs(o.createTime)}),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:xd(o.bundledQuery),readTime:cs(o.readTime)}),Oe.resolve();var o}}class lv{constructor(){this.overlays=new qr(Nt.comparator),this.ls=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=au();return Oe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Oe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Oe.resolve()}getOverlaysForCollection(e,n,o){const u=au(),l=n.length+1,f=new Nt(n.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const x=w.getNext().value,O=x.getKey();if(!n.isPrefixOf(O.path))break;O.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return Oe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new qr((O,W)=>O-W);const f=this.overlays.getIterator();for(;f.hasNext();){const O=f.getNext().value;if(O.getKey().getCollectionGroup()===n&&O.largestBatchId>o){let W=l.get(O.largestBatchId);null===W&&(W=au(),l=l.insert(O.largestBatchId,W)),W.set(O.getKey(),O)}}const w=au(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((O,W)=>w.set(O,W)),!(w.size()>=u)););return Oe.resolve(w)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new rc(n,o));let l=this.ls.get(n);void 0===l&&(l=Xn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class jd{constructor(){this.fs=new hi(so.ds),this.ws=new hi(so._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new so(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new so(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Nt(new Yt([])),o=new so(n,e),u=new so(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Nt(new Yt([])),o=new so(n,e),u=new so(n,e+1);let l=Xn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new so(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Nt.comparator(e.key,n.key)||_n(e.As,n.As)}static _s(e,n){return _n(e.As,n.As)||Nt.comparator(e.key,n.key)}}class Jl{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new hi(so.ds)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new bd(l,n,o,u);this.mutationQueue.push(f);for(const w of u)this.Rs=this.Rs.add(new so(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return Oe.resolve(f)}lookupMutationBatch(e,n){return Oe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new so(n,0),u=new so(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const w=this.Ps(f.As);l.push(w)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new hi(_n);return n.forEach(u=>{const l=new so(u,0),f=new so(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],w=>{o=o.add(w.As)})}),Oe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Nt.isDocumentKey(l)||(l=l.child(""));const f=new so(new Nt(l),0);let w=new hi(_n);return this.Rs.forEachWhile(x=>{const O=x.key.path;return!!o.isPrefixOf(O)&&(O.length===u&&(w=w.add(x.As)),!0)},f),Oe.resolve(this.Vs(w))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ht(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Oe.forEach(n.mutations,u=>{const l=new so(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new so(n,0),u=this.Rs.firstAfterOrEqual(o);return Oe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Oe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dv{constructor(e){this.Ds=e,this.docs=new qr(Nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Oe.resolve(o?o.document.mutableCopy():Ii.newInvalidDocument(n))}getEntries(e,n){let o=io();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Ii.newInvalidDocument(u))}),Oe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=io();const f=n.path,w=new Nt(f.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:O,value:{document:W}}=x.getNext();if(!f.isPrefixOf(O.path))break;O.path.length>f.length+1||qo(vu(W),o)<=0||(u.has(W.key)||ec(n,W))&&(l=l.insert(W.key,W.mutableCopy()))}return Oe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Lt()}Cs(e,n){return Oe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new hv(this)}getSize(e){return Oe.resolve(this.size)}}class hv extends lI{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Oe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Sp{constructor(e){this.persistence=e,this.xs=new ou(n=>Fo(n),ro),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jd,this.targetCount=0,this.Ms=fl.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Oe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Fn(n),Oe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),Oe.waitFor(l).next(()=>u)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Oe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Oe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Oe.resolve(o)}containsKey(e,n){return Oe.resolve(this.ks.containsKey(n))}}class zh{constructor(e,n){this.$s={},this.overlays={},this.Os=new as(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sp(this),this.indexManager=new Em,this.remoteDocumentCache=new dv(o=>this.referenceDelegate.Ls(o)),this.serializer=new fp(n),this.qs=new Hh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Jl(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){st("MemoryPersistence","Starting transaction:",e);const u=new fv(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Oe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class fv extends $u{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Qs=new jd,this.js=null}static zs(e){return new Gh(e)}get Ws(){if(this.js)return this.js;throw Lt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Oe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Ws,o=>{const u=Nt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Ot.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Oe.or([()=>Oe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class qh{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Xn(),u=Xn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new qh(e,n.fromCache,o,u)}}class Mp{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(rl(n))return Oe.resolve(null);let o=Uo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ju(n,null,"F"),o=Uo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Xn(...l);return this.Ui.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,o).next(x=>{const O=this.ji(n,w);return this.zi(n,O,f,x.readTime)?this.Ki(e,Ju(n,null,"F")):this.Wi(e,O,n,x)}))})))}Gi(e,n,o,u){return rl(n)||u.isEqual(Ot.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(vi()<=Te.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Id(n)),this.Wi(e,f,n,function La(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ot.fromTimestamp(1e9===o?new Ti(n+1,0):new Ti(n,o));return new Ts(u,Nt.empty(),e)}(u,-1)))})}ji(e,n){let o=new hi(Sh(e));return n.forEach((u,l)=>{ec(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return vi()<=Te.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Id(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ts.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class xp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new qr(_n),this.Yi=new ou(l=>Fo(l),ro),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Nm(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,S.Z)(function*(i,e){const n=Pt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],w=[];let x=Xn();for(const O of u){f.push(O.batchId);for(const W of O.mutations)x=x.add(W.key)}for(const O of l){w.push(O.batchId);for(const W of O.mutations)x=x.add(W.key)}return n.localDocuments.getDocuments(o,x).next(O=>({er:O,removedBatchIds:f,addedBatchIds:w}))})})}),Zh.apply(this,arguments)}function $d(i){const e=Pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gv(i,e){const n=Pt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function gl(i,e,n){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,S.Z)(function*(i,e,n){const o=Pt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!di(f))throw f;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Qh.apply(this,arguments)}function Pu(i,e,n){const o=Pt(i);let u=Ot.min(),l=Xn();return o.persistence.runTransaction("Execute query","readonly",f=>function(w,x,O){const W=Pt(w),ie=W.Yi.get(O);return void 0!==ie?Oe.resolve(W.Ji.get(ie)):W.Bs.getTargetData(x,O)}(o,f,Uo(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,w.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Ot.min(),n?l:Xn())).next(w=>(function Hd(i,e,n){let o=i.Xi.get(e)||Ot.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Ch(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,ir:l})))}class Pp{constructor(){this.activeTargetIds=function Mh(){return Zf}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nf{constructor(){this.Hr=new Pp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class km{Yr(e){}shutdown(){}}class Lm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wd=null;function qd(){return null===Wd?Wd=268435456+Math.round(2147483648*Math.random()):Wd++,"0x"+Wd.toString(16)}const fI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Bo="WebChannelConnection";class yv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=qd(),w=this.To(e,n);st("RestConnection",`Sending RPC '${e}' ${f}:`,w,o);const x={};return this.Eo(x,u,l),this.Ao(e,w,x,o).then(O=>(st("RestConnection",`Received RPC '${e}' ${f}: `,O),O),O=>{throw Dr("RestConnection",`RPC '${e}' ${f} failed with error: `,O,"url: ",w,"request:",o),O})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${fI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=qd();return new Promise((f,w)=>{const x=new Jt;x.setWithCredentials(!0),x.listenOnce(M.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case B.NO_ERROR:const W=x.getResponseJson();st(Bo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(W)),f(W);break;case B.TIMEOUT:st(Bo,`RPC '${e}' ${l} timed out`),w(new ot(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case B.HTTP_ERROR:const ie=x.getStatus();if(st(Bo,`RPC '${e}' ${l} failed with status:`,ie,"response text:",x.getResponseText()),ie>0){let Ne=x.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const qe=Ne?.error;if(qe&&qe.status&&qe.message){const wt=function($t){const Gt=$t.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Gt)>=0?Gt:Ue.UNKNOWN}(qe.status);w(new ot(wt,qe.message))}else w(new ot(Ue.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new ot(Ue.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{st(Bo,`RPC '${e}' ${l} completed.`)}});const O=JSON.stringify(u);st(Bo,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",O,o,15)})}Ro(e,n,o){const u=qd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ka(),w=E(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},O=this.longPollingOptions.timeoutSeconds;void 0!==O&&(x.longPollingTimeout=Math.round(1e3*O)),this.useFetchStreams&&(x.xmlHttpFactory=new Fe({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const W=l.join("");st(Bo,`Creating RPC '${e}' stream ${u}: ${W}`,x);const ie=f.createWebChannel(W,x);let Ne=!1,qe=!1;const wt=new pI({ro:Gt=>{qe?st(Bo,`Not sending because RPC '${e}' stream ${u} is closed:`,Gt):(Ne||(st(Bo,`Opening RPC '${e}' stream ${u} transport.`),ie.open(),Ne=!0),st(Bo,`RPC '${e}' stream ${u} sending:`,Gt),ie.send(Gt))},oo:()=>ie.close()}),$t=(Gt,ir,Br)=>{Gt.listen(ir,vr=>{try{Br(vr)}catch(Us){setTimeout(()=>{throw Us},0)}})};return $t(ie,Ze.EventType.OPEN,()=>{qe||st(Bo,`RPC '${e}' stream ${u} transport opened.`)}),$t(ie,Ze.EventType.CLOSE,()=>{qe||(qe=!0,st(Bo,`RPC '${e}' stream ${u} transport closed`),wt.wo())}),$t(ie,Ze.EventType.ERROR,Gt=>{qe||(qe=!0,Dr(Bo,`RPC '${e}' stream ${u} transport errored:`,Gt),wt.wo(new ot(Ue.UNAVAILABLE,"The operation could not be completed")))}),$t(ie,Ze.EventType.MESSAGE,Gt=>{var ir;if(!qe){const Br=Gt.data[0];Ht(!!Br);const Us=Br.error||(null===(ir=Br[0])||void 0===ir?void 0:ir.error);if(Us){st(Bo,`RPC '${e}' stream ${u} received error:`,Us);const bs=Us.status;let Ui=function(Wc){const Kg=ts[Wc];if(void 0!==Kg)return sp(Kg)}(bs),Qo=Us.message;void 0===Ui&&(Ui=Ue.INTERNAL,Qo="Unknown error status: "+bs+" with message "+Us.message),qe=!0,wt.wo(new ot(Ui,Qo)),ie.close()}else st(Bo,`RPC '${e}' stream ${u} received:`,Br),wt._o(Br)}}),$t(w,L.STAT_EVENT,Gt=>{Gt.stat===ne.PROXY?st(Bo,`RPC '${e}' stream ${u} detected buffering proxy`):Gt.stat===ne.NOPROXY&&st(Bo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wt.fo()},0),wt}}function kp(){return typeof document<"u"?document:null}function Fc(i){return new Ad(i,!0)}class Lp{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rf{constructor(e,n,o,u,l,f,w,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lp(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,S.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,S.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,S.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new ot(Ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,S.Z)(function*(){e.state=0,e.start()}))}tu(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fp extends rf{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function lm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:Lt(),u=e.targetChange.targetIds||[],l=function(x,O){return x.useProto3Json?(Ht(void 0===O||"string"==typeof O),Mi.fromBase64String(O||"")):(Ht(void 0===O||O instanceof Uint8Array),Mi.fromUint8Array(O||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(x){const O=void 0===x.code?Ue.UNKNOWN:sp(x.code);return new ot(O,x.message||"")}(f);n=new pr(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=fa(i,o.document.name),l=cs(o.document.updateTime),f=o.document.createTime?cs(o.document.createTime):Ot.min(),w=new _i({mapValue:{fields:o.document.fields}}),x=Ii.newFoundDocument(u,l,f,w);n=new Ct(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=fa(i,o.document),l=o.readTime?cs(o.readTime):Ot.min(),f=Ii.newNoDocument(u,l);n=new Ct([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=fa(i,o.document);n=new Ct([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Lt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new ip(u,l);n=new cn(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Ot.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Ot.min():l.readTime?cs(l.readTime):Ot.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=zl(this.serializer),n.addTarget=function(u,l){let f;const w=l.target;if(f=si(w)?{documents:dm(u,w)}:{query:cp(u,w)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=al(u,l.resumeToken);const x=ol(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Ot.min())>0){f.readTime=ic(u,l.snapshotVersion.toTimestamp());const x=ol(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function ev(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=zl(this.serializer),n.removeTarget=e,this.Wo(n)}}class td extends rf{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Jy(i,e){return i&&i.length>0?(Ht(void 0!==e),i.map(n=>function(o,u){let l=cs(o.updateTime?o.updateTime:u);return l.isEqual(Ot.min())&&(l=cs(u)),new Yy(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=cs(e.commitTime);return this.listener.cu(o,n)}return Ht(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function cl(i,e){let n;if(e instanceof Ul)n={update:up(i,e.key,e.value)};else if(e instanceof Au)n={delete:Md(i,e.key)};else if(e instanceof nc)n={update:up(i,e.key,e.data),updateMask:dp(e.fieldMask)};else{if(!(e instanceof Td))return Lt();n={verify:Md(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Ll)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Mc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xc)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Lt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ph(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Lt()),n;var u}(this.serializer,o))};this.Wo(n)}}class Up extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new ot(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(Ue.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(Ue.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class sf{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yr(n),this.mu=!1):st("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nd{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(w=>{o.enqueueAndForget((0,S.Z)(function*(){var x;Ou(f)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,S.Z)(function*(O){const W=Pt(O);W.vu.add(4),yield cc(W),W.bu.set("Unknown"),W.vu.delete(4),yield yl(W)}),function(O){return x.apply(this,arguments)})(f))}))}),this.bu=new sf(o,u)}}function yl(i){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,S.Z)(function*(i){if(Ou(i))for(const e of i.Ru)yield e(!0)}),Kd.apply(this,arguments)}function cc(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,S.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Fm.apply(this,arguments)}function rd(i,e){const n=Pt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Hp(n)?$p(n):Bc(n).Ko()&&Vp(n,e))}function lc(i,e){const n=Pt(i),o=Bc(n);n.Au.delete(e),o.Ko()&&jp(n,e),0===n.Au.size&&(o.Ko()?o.jo():Ou(n)&&n.bu.set("Unknown"))}function Vp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bc(i).su(e)}function jp(i,e){i.Vu.qt(e),Bc(i).iu(e)}function $p(i){i.Vu=new zi({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Bc(i).start(),i.bu.gu()}function Hp(i){return Ou(i)&&!Bc(i).Uo()&&i.Au.size>0}function Ou(i){return 0===Pt(i).vu.size}function zp(i){i.Vu=void 0}function _v(i){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,S.Z)(function*(i){i.Au.forEach((e,n)=>{Vp(i,e)})}),Gp.apply(this,arguments)}function gI(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,S.Z)(function*(i,e){zp(i),Hp(i)?(i.bu.Iu(e),$p(i)):i.bu.set("Unknown")}),Wp.apply(this,arguments)}function af(i,e,n){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,S.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof pr&&2===e.state&&e.cause)try{yield(o=(0,S.Z)(function*(u,l){const f=l.cause;for(const w of l.targetIds)u.Au.has(w)&&(yield u.remoteSyncer.rejectListen(w,f),u.Au.delete(w),u.Vu.removeTarget(w))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield uf(i,o)}else if(e instanceof Ct?i.Vu.Ht(e):e instanceof cn?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Ot.min()))try{const o=yield $d(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((w,x)=>{if(w.resumeToken.approximateByteSize()>0){const O=u.Au.get(x);O&&u.Au.set(x,O.withResumeToken(w.resumeToken,l))}}),f.targetMismatches.forEach((w,x)=>{const O=u.Au.get(w);if(!O)return;u.Au.set(w,O.withResumeToken(Mi.EMPTY_BYTE_STRING,O.snapshotVersion)),jp(u,w);const W=new Yo(O.target,w,x,O.sequenceNumber);Vp(u,W)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){st("RemoteStore","Failed to raise snapshot:",o),yield uf(i,o)}var o}),Zd.apply(this,arguments)}function uf(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,S.Z)(function*(i,e,n){if(!di(e))throw e;i.vu.add(1),yield cc(i),i.bu.set("Offline"),n||(n=()=>$d(i.localStore)),i.asyncQueue.enqueueRetryable((0,S.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield yl(i)}))}),cf.apply(this,arguments)}function lf(i,e){return e().catch(n=>uf(i,n,e))}function dc(i){return qp.apply(this,arguments)}function qp(){return qp=(0,S.Z)(function*(i){const e=Pt(i),n=vl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Um(e);)try{const u=yield gv(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,Iv(e,u)}catch(u){yield uf(e,u)}Kp(e)&&Ev(e)}),qp.apply(this,arguments)}function Um(i){return Ou(i)&&i.Eu.length<10}function Iv(i,e){i.Eu.push(e);const n=vl(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function Kp(i){return Ou(i)&&!vl(i).Uo()&&i.Eu.length>0}function Ev(i){vl(i).start()}function wv(i){return id.apply(this,arguments)}function id(){return id=(0,S.Z)(function*(i){vl(i).hu()}),id.apply(this,arguments)}function Dv(i){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,S.Z)(function*(i){const e=vl(i);for(const n of i.Eu)e.uu(n.mutations)}),Uc.apply(this,arguments)}function Yd(i,e,n){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,S.Z)(function*(i,e,n){const o=i.Eu.shift(),u=Cd.from(o,e,n);yield lf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield dc(i)}),Zp.apply(this,arguments)}function Bm(i,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,S.Z)(function*(i,e){var n;e&&vl(i).ou&&(yield(n=(0,S.Z)(function*(o,u){if(function Vl(i){switch(i){default:return Lt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}(l=u.code)&&l!==Ue.ABORTED){const f=o.Eu.shift();vl(o).Qo(),yield lf(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield dc(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),Kp(i)&&Ev(i)}),Yp.apply(this,arguments)}function Vm(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,S.Z)(function*(i,e){const n=Pt(i);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const o=Ou(n);n.vu.add(3),yield cc(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield yl(n)}),Qp.apply(this,arguments)}function hf(){return hf=(0,S.Z)(function*(i,e){const n=Pt(i);e?(n.vu.delete(2),yield yl(n)):e||(n.vu.add(2),yield cc(n),n.bu.set("Unknown"))}),hf.apply(this,arguments)}function Bc(i){return i.Su||(i.Su=function(e,n,o){const u=Pt(e);return u.fu(),new Fp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:_v.bind(null,i),ao:gI.bind(null,i),nu:af.bind(null,i)}),i.Ru.push(function(){var e=(0,S.Z)(function*(n){n?(i.Su.Qo(),Hp(i)?$p(i):i.bu.set("Unknown")):(yield i.Su.stop(),zp(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function vl(i){return i.Du||(i.Du=function(e,n,o){const u=Pt(e);return u.fu(),new td(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:wv.bind(null,i),ao:Bm.bind(null,i),au:Dv.bind(null,i),cu:Yd.bind(null,i)}),i.Ru.push(function(){var e=(0,S.Z)(function*(n){n?(i.Du.Qo(),yield dc(i)):(yield i.Du.stop(),i.Eu.length>0&&(st("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Qd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,w=new Qd(e,n,f,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _l(i,e){if(yr("AsyncQueue",`${e}: ${i}`),di(i))return new ot(Ue.UNAVAILABLE,`${e}: ${i}`);throw i}class sd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Nt.comparator(n.key,o.key):(n,o)=>Nt.comparator(n.key,o.key),this.keyedMap=Nl(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new sd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new sd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class jm{constructor(){this.Cu=new qr(Nt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Lt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Il{constructor(e,n,o,u,l,f,w,x,O){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=O}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(w=>{f.push({type:0,doc:w})}),new Il(e,n,sd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ha(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Tv{constructor(){this.Nu=void 0,this.listeners=[]}}class $m{constructor(){this.queries=new ou(e=>bh(e),ha),this.onlineState="Unknown",this.ku=new Set}}function Jp(){return Jp=(0,S.Z)(function*(i,e){const n=Pt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Tv),u)try{l.Nu=yield n.onListen(o)}catch(f){const w=_l(f,`Initialization of query '${Id(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&pf(n)}),Jp.apply(this,arguments)}function ff(){return ff=(0,S.Z)(function*(i,e){const n=Pt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ff.apply(this,arguments)}function zm(i,e){const n=Pt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const w of f.listeners)w.$u(u)&&(o=!0);f.Nu=u}}o&&pf(n)}function du(i,e,n){const o=Pt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function pf(i){i.ku.forEach(e=>{e.next()})}class Gm{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Il(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bv{constructor(e){this.key=e}}class qm{constructor(e){this.key=e}}class gf{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xn(),this.mutatedKeys=Xn(),this.tc=Sh(e),this.ec=new sd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new jm,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,w=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,O="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((W,ie)=>{const Ne=u.get(W),qe=ec(this.query,ie)?ie:null,wt=!!Ne&&this.mutatedKeys.has(Ne.key),$t=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Gt=!1;Ne&&qe?Ne.data.isEqual(qe.data)?wt!==$t&&(o.track({type:3,doc:qe}),Gt=!0):this.rc(Ne,qe)||(o.track({type:2,doc:qe}),Gt=!0,(x&&this.tc(qe,x)>0||O&&this.tc(qe,O)<0)&&(w=!0)):!Ne&&qe?(o.track({type:0,doc:qe}),Gt=!0):Ne&&!qe&&(o.track({type:1,doc:Ne}),Gt=!0,(x||O)&&(w=!0)),Gt&&(qe?(f=f.add(qe),l=$t?l.add(W):l.delete(W)):(f=f.delete(W),l=l.delete(W)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const W="F"===this.query.limitType?f.last():f.first();f=f.delete(W.key),l=l.delete(W.key),o.track({type:1,doc:W})}return{ec:f,ic:o,zi:w,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((O,W)=>function(ie,Ne){const qe=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return qe(ie)-qe(Ne)}(O.type,W.type)||this.tc(O.doc,W.doc)),this.oc(o);const f=n?this.uc():[],w=0===this.Zu.size&&this.current?1:0,x=w!==this.Xu;return this.Xu=w,0!==l.length||x?{snapshot:new Il(this.query,e.ec,u,l,e.mutatedKeys,0===w,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new qm(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new bv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Xn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Il.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ku{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Km{constructor(e){this.key=e,this.fc=!1}}class Cv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ou(w=>bh(w),ha),this._c=new Map,this.mc=new Set,this.gc=new qr(Nt.comparator),this.yc=new Map,this.Ic=new jd,this.Tc={},this.Ec=new Map,this.Ac=fl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mI(i,e){return Os.apply(this,arguments)}function Os(){return Os=(0,S.Z)(function*(i,e){const n=function Jn(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zm.bind(null,e),e.dc.nu=zm.bind(null,e.eventManager),e.dc.Pc=du.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Lc(i,e){const n=Pt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Oe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Yo(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Uo(e)),w=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function ng(i,e,n,o,u){return Xd.apply(this,arguments)}(n,e,o,"current"===w,f.resumeToken),n.isPrimaryClient&&rd(n.remoteStore,f)}return u}),Os.apply(this,arguments)}function Xd(){return Xd=(0,S.Z)(function*(i,e,n,o,u){i.Rc=(ie,Ne,qe)=>{return(wt=(0,S.Z)(function*($t,Gt,ir,Br){let vr=Gt.view.sc(ir);vr.zi&&(vr=yield Pu($t.localStore,Gt.query,!1).then(({documents:Ui})=>Gt.view.sc(Ui,vr)));const Us=Br&&Br.targetChanges.get(Gt.targetId),bs=Gt.view.applyChanges(vr,$t.isPrimaryClient,Us);return Jd($t,Gt.targetId,bs.cc),bs.snapshot}),function($t,Gt,ir,Br){return wt.apply(this,arguments)})(i,ie,Ne,qe);var wt};const l=yield Pu(i.localStore,e,!0),f=new gf(e,l.ir),w=f.sc(l.documents),x=Et.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),O=f.applyChanges(w,i.isPrimaryClient,x);Jd(i,n,O.cc);const W=new ku(e,n,f);return i.wc.set(e,W),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),O.snapshot}),Xd.apply(this,arguments)}function Sv(i,e){return rg.apply(this,arguments)}function rg(){return rg=(0,S.Z)(function*(i,e){const n=Pt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!ha(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),lc(n.remoteStore,o.targetId),El(n,o.targetId)}).catch(ia))):(El(n,o.targetId),yield gl(n.localStore,o.targetId,!0))}),rg.apply(this,arguments)}function mf(){return mf=(0,S.Z)(function*(i,e,n){const o=function Ef(i){const e=Pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Av.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,e),e}(i);try{const u=yield function(l,f){const w=Pt(l),x=Ti.now(),O=f.reduce((Ne,qe)=>Ne.add(qe.key),Xn());let W,ie;return w.persistence.runTransaction("Locally write mutations","readwrite",Ne=>{let qe=io(),wt=Xn();return w.Zi.getEntries(Ne,O).next($t=>{qe=$t,qe.forEach((Gt,ir)=>{ir.isValidDocument()||(wt=wt.add(Gt))})}).next(()=>w.localDocuments.getOverlayedDocuments(Ne,qe)).next($t=>{W=$t;const Gt=[];for(const ir of f){const Br=Xy(ir,W.get(ir.key).overlayedDocument);null!=Br&&Gt.push(new nc(ir.key,Br,ko(Br.value.mapValue),Hi.exists(!0)))}return w.mutationQueue.addMutationBatch(Ne,x,Gt,f)}).next($t=>{ie=$t;const Gt=$t.applyToLocalDocumentSet(W,wt);return w.documentOverlayCache.saveOverlays(Ne,$t.batchId,Gt)})}).then(()=>({batchId:ie.batchId,changes:Pl(W)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,w){let x=l.Tc[l.currentUser.toKey()];x||(x=new qr(_n)),x=x.insert(f,w),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield Lu(o,u.changes),yield dc(o.remoteStore)}catch(u){const l=_l(u,"Failed to persist write");n.reject(l)}}),mf.apply(this,arguments)}function sg(i,e){return og.apply(this,arguments)}function og(){return og=(0,S.Z)(function*(i,e){const n=Pt(i);try{const o=yield function hI(i,e){const n=Pt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const w=[];e.targetChanges.forEach((W,ie)=>{const Ne=u.get(ie);if(!Ne)return;w.push(n.Bs.removeMatchingKeys(l,W.removedDocuments,ie).next(()=>n.Bs.addMatchingKeys(l,W.addedDocuments,ie)));let qe=Ne.withSequenceNumber(l.currentSequenceNumber);var wt,$t,Gt;null!==e.targetMismatches.get(ie)?qe=qe.withResumeToken(Mi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):W.resumeToken.approximateByteSize()>0&&(qe=qe.withResumeToken(W.resumeToken,o)),u=u.insert(ie,qe),$t=qe,Gt=W,(0===(wt=Ne).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||Gt.addedDocuments.size+Gt.modifiedDocuments.size+Gt.removedDocuments.size>0)&&w.push(n.Bs.updateTargetData(l,qe))});let x=io(),O=Xn();if(e.documentUpdates.forEach(W=>{e.resolvedLimboDocuments.has(W)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,W))}),w.push(function Yh(i,e,n){let o=Xn(),u=Xn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=io();return n.forEach((w,x)=>{const O=l.get(w);x.isFoundDocument()!==O.isFoundDocument()&&(u=u.add(w)),x.isNoDocument()&&x.version.isEqual(Ot.min())?(e.removeEntry(w,x.readTime),f=f.insert(w,x)):!O.isValidDocument()||x.version.compareTo(O.version)>0||0===x.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(x),f=f.insert(w,x)):st("LocalStore","Ignoring outdated watch update for ",w,". Current version:",O.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(W=>{x=W.nr,O=W.sr})),!o.isEqual(Ot.min())){const W=n.Bs.getLastRemoteSnapshotVersion(l).next(ie=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(W)}return Oe.waitFor(w).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,O)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Ht(f.fc):u.removedDocuments.size>0&&(Ht(f.fc),f.fc=!1))}),yield Lu(n,o,e)}catch(o){yield ia(o)}}),og.apply(this,arguments)}function ag(i,e,n){const o=Pt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const w=f.view.Mu(e);w.snapshot&&u.push(w.snapshot)}),function(l,f){const w=Pt(l);w.onlineState=f;let x=!1;w.queries.forEach((O,W)=>{for(const ie of W.listeners)ie.Mu(f)&&(x=!0)}),x&&pf(w)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Zm(i,e,n){return ug.apply(this,arguments)}function ug(){return ug=(0,S.Z)(function*(i,e,n){const o=Pt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new qr(Nt.comparator);f=f.insert(l,Ii.newNoDocument(l,Ot.min()));const w=Xn().add(l),x=new je(Ot.min(),new Map,new qr(_n),f,w);yield sg(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),od(o)}else yield gl(o.localStore,e,!1).then(()=>El(o,e,n)).catch(ia)}),ug.apply(this,arguments)}function Av(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,S.Z)(function*(i,e){const n=Pt(i),o=e.batch.batchId;try{const u=yield function Pm(i,e){const n=Pt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,w,x,O){const W=x.batch,ie=W.keys();let Ne=Oe.resolve();return ie.forEach(qe=>{Ne=Ne.next(()=>O.getEntry(w,qe)).next(wt=>{const $t=x.docVersions.get(qe);Ht(null!==$t),wt.version.compareTo($t)<0&&(W.applyToRemoteDocument(wt,x),wt.isValidDocument()&&(wt.setReadTime(x.commitVersion),O.addEntry(wt)))})}),Ne.next(()=>f.mutationQueue.removeMutationBatch(w,W))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let w=Xn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(w=w.add(f.batch.mutations[x].key));return w}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);dg(n,o,null),lg(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Lu(n,u)}catch(u){yield ia(u)}}),cg.apply(this,arguments)}function Ym(i,e,n){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,S.Z)(function*(i,e,n){const o=Pt(i);try{const u=yield function(l,f){const w=Pt(l);return w.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let O;return w.mutationQueue.lookupMutationBatch(x,f).next(W=>(Ht(null!==W),O=W.keys(),w.mutationQueue.removeMutationBatch(x,W))).next(()=>w.mutationQueue.performConsistencyCheck(x)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(x,O,f)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,O)).next(()=>w.localDocuments.getDocuments(x,O))})}(o.localStore,e);dg(o,e,n),lg(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Lu(o,u)}catch(u){yield ia(u)}}),Vc.apply(this,arguments)}function lg(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function dg(i,e,n){const o=Pt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function El(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||hg(i,o)})}function hg(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(lc(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),od(i))}function Jd(i,e,n){for(const o of n)o instanceof bv?(i.Ic.addReference(o.key,e),eh(i,o)):o instanceof qm?(st("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||hg(i,o.key)):Lt()}function eh(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(st("SyncEngine","New document in limbo: "+n),i.mc.add(o),od(i))}function od(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Nt(Yt.fromString(e)),o=i.Ac.next();i.yc.set(o,new Km(n)),i.gc=i.gc.insert(n,o),rd(i.remoteStore,new Yo(Uo(Qu(n.path)),o,"TargetPurposeLimboResolution",as.ct))}}function Lu(i,e,n){return yf.apply(this,arguments)}function yf(){return yf=(0,S.Z)(function*(i,e,n){const o=Pt(i),u=[],l=[],f=[];var w;o.wc.isEmpty()||(o.wc.forEach((w,x)=>{f.push(o.Rc(x,e,n).then(O=>{if((O||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,O?.fromCache?"not-current":"current"),O){u.push(O);const W=qh.Li(x.targetId,O);l.push(W)}}))}),yield Promise.all(f),o.dc.nu(u),yield(w=(0,S.Z)(function*(x,O){const W=Pt(x);try{yield W.persistence.runTransaction("notifyLocalViewChanges","readwrite",ie=>Oe.forEach(O,Ne=>Oe.forEach(Ne.Fi,qe=>W.persistence.referenceDelegate.addReference(ie,Ne.targetId,qe)).next(()=>Oe.forEach(Ne.Bi,qe=>W.persistence.referenceDelegate.removeReference(ie,Ne.targetId,qe)))))}catch(ie){if(!di(ie))throw ie;st("LocalStore","Failed to update sequence numbers: "+ie)}for(const ie of O){const Ne=ie.targetId;if(!ie.fromCache){const qe=W.Ji.get(Ne),$t=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);W.Ji=W.Ji.insert(Ne,$t)}}}),function(x,O){return w.apply(this,arguments)})(o.localStore,l))}),yf.apply(this,arguments)}function Mv(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,S.Z)(function*(i,e){const n=Pt(i);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const o=yield Nm(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(w=>{w.reject(new ot(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Lu(n,o.er)}var u}),fg.apply(this,arguments)}function xv(i,e){const n=Pt(i),o=n.yc.get(e);if(o&&o.fc)return Xn().add(o.key);{let u=Xn();const l=n._c.get(e);if(!l)return u;for(const f of l){const w=n.wc.get(f);u=u.unionWith(w.view.nc)}return u}}class pc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,S.Z)(function*(){n.serializer=Fc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Kh(i,e,n,o){return new xp(i,e,n,o)}(this.persistence,new Mp,e.initialUser,this.serializer)}createPersistence(e){return new zh(Gh.zs,this.serializer)}createSharedClientState(e){return new nf}terminate(){var e=this;return(0,S.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hu{initialize(e,n){var o=this;return(0,S.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>ag(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Mv.bind(null,o.syncEngine),yield function df(i,e){return hf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $m}createDatastore(e){const n=Fc(e.databaseInfo.databaseId),o=new yv(e.databaseInfo);return new Up(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=w=>ag(this.syncEngine,w,0),f=Lm.D()?new Lm:new km,new nd(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,w,x,O){const W=new Cv(o,u,l,f,w,x);return O&&(W.vc=!0),W}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,S.Z)(function*(n){const o=Pt(n);st("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield cc(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class $c{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class vg{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=en.UNAUTHENTICATED,this.clientId=Ya.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,S.Z)(function*(w){st("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(st("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,S.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,S.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=_l(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function nh(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,S.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,S.Z)(function*(l){o.isEqual(l)||(yield Nm(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),rh.apply(this,arguments)}function _g(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,S.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Df(i){return Eg.apply(this,arguments)}(i);st("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Vm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Vm(e.remoteStore,l)),i._onlineComponents=e}),Ig.apply(this,arguments)}function Eg(){return Eg=(0,S.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function oy(i){return"FirebaseError"===i.name?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),yield nh(i,new pc)}}else st("FirestoreClient","Using default OfflineComponentProvider"),yield nh(i,new pc);return i._offlineComponents}),Eg.apply(this,arguments)}function Tf(i){return wg.apply(this,arguments)}function wg(){return wg=(0,S.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),yield _g(i,i._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),yield _g(i,new hu))),i._onlineComponents}),wg.apply(this,arguments)}function bg(){return bg=(0,S.Z)(function*(i){const e=yield Tf(i),n=e.eventManager;return n.onListen=mI.bind(null,e.syncEngine),n.onUnlisten=Sv.bind(null,e.syncEngine),n}),bg.apply(this,arguments)}function cy(i,e,n={}){const o=new Di;return i.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function(u,l,f,w,x){const O=new $c({next:ie=>{l.enqueueAndForget(()=>function Hm(i,e){return ff.apply(this,arguments)}(u,W)),ie.fromCache&&"server"===w.source?x.reject(new ot(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(ie)},error:ie=>x.reject(ie)}),W=new Gm(f,O,{includeMetadataChanges:!0,Ku:!0});return function Xp(i,e){return Jp.apply(this,arguments)}(u,W)}(yield function oo(i){return bg.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function bf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const dy=new Map;function Ag(i,e,n){if(!n)throw new ot(Ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hy(i){if(!Nt.isDocumentKey(i))throw new ot(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fy(i){if(Nt.isDocumentKey(i))throw new ot(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xa(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Lt()}function Or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ot(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xa(i);throw new ot(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Mg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Bv(i,e,n,o){if(!0===e&&!0===o)throw new ot(Ue.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ya;switch(n.type){case"firstParty":return new Tc(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=dy.get(e);n&&(st("ComponentProvider","Removing Datastore"),dy.delete(e),n.terminate())}(this),Promise.resolve()}}class gs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class ks{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Ha extends ks{constructor(e,n,o){super(e,n,Qu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new Nt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function II(i,e,...n){if(i=(0,me.m9)(i),Ag("collection","path",e),i instanceof sh){const o=Yt.fromString(e,...n);return fy(o),new Ha(i,null,o)}{if(!(i instanceof gs||i instanceof Ha))throw new ot(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Yt.fromString(e,...n));return fy(o),new Ha(i.firestore,null,o)}}function xg(i,e,...n){if(i=(0,me.m9)(i),1===arguments.length&&(e=Ya.A()),Ag("doc","path",e),i instanceof sh){const o=Yt.fromString(e,...n);return hy(o),new gs(i,null,new Nt(o))}{if(!(i instanceof gs||i instanceof Ha))throw new ot(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Yt.fromString(e,...n));return hy(o),new gs(i.firestore,i instanceof Ha?i.converter:null,new Nt(o))}}class Ng{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lp(this,"async_queue_retry"),this.Xc=()=>{const n=kp();n&&st("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=kp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=kp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Di;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,S.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!di(n))throw n;st("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Qd.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Lt()}verifyOperationInProgress(){}sa(){var e=this;return(0,S.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class xi extends sh{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Ng,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oh(this),this._firestoreClient.terminate()}}function my(i,e){const n="object"==typeof i?i:(0,oe.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,oe.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,me.P0)("firestore");l&&function gy(i,e,n,o={}){var u;const l=(i=Or(i,sh))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let w,x;if("string"==typeof o.mockUserToken)w=o.mockUserToken,x=en.MOCK_USER;else{w=(0,me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const O=o.mockUserToken.sub||o.mockUserToken.user_id;if(!O)throw new ot(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new en(O)}i._authCredentials=new va(new mu(w,x))}}(u,...l)}return u}function Ls(i){return i._firestoreClient||oh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function oh(i){var e,n,o;const u=i._freezeSettings(),l=(w=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new wu(i._databaseId,w,i._persistenceKey,(O=u).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,bf(O.experimentalLongPollingOptions),O.useFetchStreams));var w,O;i._firestoreClient=new vg(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(Mi.fromBase64String(e))}catch(n){throw new ot(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ot(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yy{constructor(e){this._methodName=e}}class Dl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const Kv=/^__.*__$/;class Zv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new nc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}function _y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class Sf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_y(this.ca)&&Kv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Fc(e)}ya(e,n,o,u=!1){return new Sf({ca:e,methodName:n,ga:o,path:lr.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ud(i){const e=i._freezeSettings(),n=Fc(i._databaseId);return new Yv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Og(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);xf("Data must be an object, but it was:",f,o);const w=Dy(o,f);let x,O;if(l.merge)x=new Rs(f.fieldMask),O=f.fieldTransforms;else if(l.mergeFields){const W=[];for(const ie of l.mergeFields){const Ne=uh(e,ie,n);if(!f.contains(Ne))throw new ot(Ue.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);Jv(W,Ne)||W.push(Ne)}x=new Rs(W),O=f.fieldTransforms.filter(ie=>x.covers(ie.field))}else x=null,O=f.fieldTransforms;return new Zv(new _i(w),x,O)}function Tl(i,e){if(Lg(i=(0,me.m9)(i)))return xf("Unsupported field value:",e,i),Dy(i,e);if(i instanceof yy)return function(n,o){if(!_y(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let w=Tl(f,o.wa(l));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,me.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return il(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Ti.fromDate(n);return{timestampValue:ic(o.serializer,u)}}if(n instanceof Ti){const u=new Ti(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ic(o.serializer,u)}}if(n instanceof Dl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hc)return{bytesValue:al(o.serializer,n._byteString)};if(n instanceof gs){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sc(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${xa(n)}`)}(i,e)}function Dy(i,e){const n={};return aa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(i,(o,u)=>{const l=Tl(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Lg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ti||i instanceof Dl||i instanceof Hc||i instanceof gs||i instanceof yy)}function xf(i,e,n){if(!Lg(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=xa(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function uh(i,e,n){if((e=(0,me.m9)(e))instanceof wl)return e._internalPath;if("string"==typeof e)return ch(i,e);throw lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const SI=new RegExp("[~\\*/\\[\\]]");function ch(i,e,n){if(e.search(SI)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wl(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function lh(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new ot(Ue.INVALID_ARGUMENT,w+i+x)}function Jv(i,e){return i.some(n=>n.isEqual(e))}class ld{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class e_ extends ld{data(){return super.data()}}function Rf(i,e){return"string"==typeof e?ch(i,e):e instanceof wl?e._internalPath:e._delegate._internalPath}class by{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ea(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Dl(yi(e.latitude),yi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Qc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=Ua(e);return new Ti(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Yt.fromString(e);Ht(hp(o));const u=new Da(o.get(1),o.get(3)),l=new Nt(o.popFirst(5));return u.isEqual(n)||yr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function mh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yh extends ld{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Of extends yh{data(e={}){return super.data(e)}}class hd{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new bl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Of(this._firestore,this._userDataWriter,o.key,o,new bl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Of(o._firestore,o._userDataWriter,f.doc.key,f.doc,new bl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const w=new Of(o._firestore,o._userDataWriter,f.doc.key,f.doc,new bl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,O=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),O=l.indexOf(f.doc.key)),{type:s_(f.type),doc:w,oldIndex:x,newIndex:O}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}class Fu extends by{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,n)}}function vh(i){i=Or(i,ks);const e=Or(i.firestore,xi),n=Ls(e),o=new Fu(e);return function Nf(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ot(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),cy(n,i._query).then(u=>new hd(e,o,i,u))}function _h(i,e,n){i=Or(i,gs);const o=Or(i.firestore,xi),u=mh(i.converter,e,n);return Gc(o,[Og(ud(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Hi.none())])}function u_(i,e){const n=Or(i.firestore,xi),o=xg(i),u=mh(i.converter,e);return Gc(n,[Og(ud(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Hi.exists(!1))]).then(()=>o)}function Gc(i,e){return function(n,o){const u=new Di;return n.asyncQueue.enqueueAndForget((0,S.Z)(function*(){return function ig(i,e,n){return mf.apply(this,arguments)}(yield function Tg(i){return Tf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Ls(i),e)}!function(i,e=!0){Hr=oe.Jn,(0,oe.Xd)(new le.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new xi(new yo(n.getProvider("auth-internal")),new Js(n.getProvider("app-check-internal")),function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new ot(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(w.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,oe.KN)(hr,"3.13.0",i),(0,oe.KN)(hr,"3.13.0","esm2017")}()},5861:(on,Xe,G)=>{function S(le,Te,me,J,Ce,Ie,ze){try{var ee=le[Ie](ze),ue=ee.value}catch(Me){return void me(Me)}ee.done?Te(ue):Promise.resolve(ue).then(J,Ce)}function oe(le){return function(){var Te=this,me=arguments;return new Promise(function(J,Ce){var Ie=le.apply(Te,me);function ze(ue){S(Ie,J,Ce,ze,ee,"next",ue)}function ee(ue){S(Ie,J,Ce,ze,ee,"throw",ue)}ze(void 0)})}}G.d(Xe,{Z:()=>oe})},7582:(on,Xe,G)=>{function Te(Re,ke){var Be={};for(var Ae in Re)Object.prototype.hasOwnProperty.call(Re,Ae)&&ke.indexOf(Ae)<0&&(Be[Ae]=Re[Ae]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Ae=Object.getOwnPropertySymbols(Re);Ke<Ae.length;Ke++)ke.indexOf(Ae[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Re,Ae[Ke])&&(Be[Ae[Ke]]=Re[Ae[Ke]])}return Be}function Me(Re,ke,Be,Ae){return new(Be||(Be=Promise))(function(lt,jt){function vn(dn){try{yt(Ae.next(dn))}catch(qn){jt(qn)}}function zt(dn){try{yt(Ae.throw(dn))}catch(qn){jt(qn)}}function yt(dn){dn.done?lt(dn.value):function Ke(lt){return lt instanceof Be?lt:new Be(function(jt){jt(lt)})}(dn.value).then(vn,zt)}yt((Ae=Ae.apply(Re,ke||[])).next())})}function Pe(Re){return this instanceof Pe?(this.v=Re,this):new Pe(Re)}function nt(Re,ke,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ae=Be.apply(Re,ke||[]),lt=[];return Ke={},jt("next"),jt("throw"),jt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function jt(Nn){Ae[Nn]&&(Ke[Nn]=function(Mn){return new Promise(function(er,Kn){lt.push([Nn,Mn,er,Kn])>1||vn(Nn,Mn)})})}function vn(Nn,Mn){try{!function zt(Nn){Nn.value instanceof Pe?Promise.resolve(Nn.value.v).then(yt,dn):qn(lt[0][2],Nn)}(Ae[Nn](Mn))}catch(er){qn(lt[0][3],er)}}function yt(Nn){vn("next",Nn)}function dn(Nn){vn("throw",Nn)}function qn(Nn,Mn){Nn(Mn),lt.shift(),lt.length&&vn(lt[0][0],lt[0][1])}}function At(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,ke=Re[Symbol.asyncIterator];return ke?ke.call(Re):(Re=function kt(Re){var ke="function"==typeof Symbol&&Symbol.iterator,Be=ke&&Re[ke],Ae=0;if(Be)return Be.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&Ae>=Re.length&&(Re=void 0),{value:Re&&Re[Ae++],done:!Re}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),Be={},Ae("next"),Ae("throw"),Ae("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Ae(lt){Be[lt]=Re[lt]&&function(jt){return new Promise(function(vn,zt){!function Ke(lt,jt,vn,zt){Promise.resolve(zt).then(function(yt){lt({value:yt,done:vn})},jt)}(vn,zt,(jt=Re[lt](jt)).done,jt.value)})}}}G.d(Xe,{FC:()=>nt,KL:()=>At,_T:()=>Te,mG:()=>Me,qq:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=4069)}]);